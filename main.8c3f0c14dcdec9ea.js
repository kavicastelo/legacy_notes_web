"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{2011:(Et,Te,L)=>{L.d(Te,{Dh:()=>xe,GT:()=>J,cc:()=>Ae,hO:()=>Ge,on:()=>G,pX:()=>ue,xv:()=>ye});var u=L(4650),te=L(9260),F=L(4976);Et=L.hmd(Et);const ce=["ngOnDestroy"],ue=(Ne,Fe,ze,Le={})=>new Proxy(Ne,{get:(Ie,De)=>ze.runOutsideAngular(()=>{var Ke;if(Ne[De])return!(null===(Ke=Le?.spy)||void 0===Ke)&&Ke.get&&Le.spy.get(De,Ne[De]),Ne[De];if(ce.indexOf(De)>-1)return()=>{};const Be=Fe.toPromise().then(lt=>{const le=lt&&lt[De];return"function"==typeof le?le.bind(lt):le&&le.then?le.then(At=>ze.run(()=>At)):ze.run(()=>le)});return new Proxy(()=>{},{get:(lt,le)=>Be[le],apply:(lt,le,At)=>Be.then(it=>{var Kt;const dt=it&&it(...At);return!(null===(Kt=Le?.spy)||void 0===Kt)&&Kt.apply&&Le.spy.apply(De,At,dt),dt})})})}),J=(Ne,Fe)=>{Fe.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Le=>{Object.defineProperty(Ne.prototype,Le,Object.getOwnPropertyDescriptor(ze.prototype||ze,Le))})})};class Ee{constructor(Fe){return Fe}}const xe=new u.OlP("angularfire2.app.options"),ye=new u.OlP("angularfire2.app.name");function G(Ne,Fe,ze){const Ie="object"==typeof ze&&ze||{};Ie.name=Ie.name||"string"==typeof ze&&ze||"[DEFAULT]";const Ke=te.Z.apps.filter(Be=>Be&&Be.name===Ie.name)[0]||Fe.runOutsideAngular(()=>te.Z.initializeApp(Ne,Ie));try{JSON.stringify(Ne)!==JSON.stringify(Ke.options)&&$("error",`${Ke.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Ke)}const $=(Ne,...Fe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...Fe)},Y={provide:Ee,useFactory:G,deps:[xe,u.R0b,[new u.FiY,ye]]};let Ge=(()=>{class Ne{constructor(ze){te.Z.registerVersion("angularfire",F.q4.full,"core"),te.Z.registerVersion("angularfire",F.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,ze.toString())}static initializeApp(ze,Le){return{ngModule:Ne,providers:[{provide:xe,useValue:ze},{provide:ye,useValue:Le}]}}}return Ne.\u0275fac=function(ze){return new(ze||Ne)(u.LFG(u.Lbi))},Ne.\u0275mod=u.oAB({type:Ne}),Ne.\u0275inj=u.cJS({providers:[Y]}),Ne})();function Ae(Ne,Fe,ze,Le,Ie){const[,De,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Ne)||[];if(De)return function Xe(Ne,Fe){try{return Ne.toString()===Fe.toString()}catch{return Ne===Fe}}(Ie,Ke)||(ve("error",`${Fe} was already initialized on the ${ze} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ie,was:Ke})),De;{const Be=Le();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Be,Ie]),Be}}const ut=!!Et.hot,ve=(Ne,...Fe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Et,Te,L)=>{L.d(Te,{q4:()=>xr,iC:()=>Qi,fc:()=>oh,HU:()=>It,vb:()=>Rc,JM:()=>Mc});var u=L(4650),te=L(259),F=L(5861),ce=L(6881),ue=L(2090),J=L(4859),Ee=L(1877);const xe=(E,I)=>I.some(M=>E instanceof M);let ye,G;const Ge=new WeakMap,Ae=new WeakMap,Xe=new WeakMap,ut=new WeakMap,ve=new WeakMap;let ze={get(E,I,M){if(E instanceof IDBTransaction){if("done"===I)return Ae.get(E);if("objectStoreNames"===I)return E.objectStoreNames||Xe.get(E);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Ke(E[I])},set:(E,I,M)=>(E[I]=M,!0),has:(E,I)=>E instanceof IDBTransaction&&("done"===I||"store"===I)||I in E};function De(E){return"function"==typeof E?function Ie(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...I){return E.apply(Be(this),I),Ke(Ge.get(this))}:function(...I){return Ke(E.apply(Be(this),I))}:function(I,...M){const N=E.call(Be(this),I,...M);return Xe.set(N,I.sort?I.sort():[I]),Ke(N)}}(E):(E instanceof IDBTransaction&&function Fe(E){if(Ae.has(E))return;const I=new Promise((M,N)=>{const q=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",se),E.removeEventListener("abort",se)},X=()=>{M(),q()},se=()=>{N(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",X),E.addEventListener("error",se),E.addEventListener("abort",se)});Ae.set(E,I)}(E),xe(E,function $(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ze):E)}function Ke(E){if(E instanceof IDBRequest)return function Ne(E){const I=new Promise((M,N)=>{const q=()=>{E.removeEventListener("success",X),E.removeEventListener("error",se)},X=()=>{M(Ke(E.result)),q()},se=()=>{N(E.error),q()};E.addEventListener("success",X),E.addEventListener("error",se)});return I.then(M=>{M instanceof IDBCursor&&Ge.set(M,E)}).catch(()=>{}),ve.set(I,E),I}(E);if(ut.has(E))return ut.get(E);const I=De(E);return I!==E&&(ut.set(E,I),ve.set(I,E)),I}const Be=E=>ve.get(E),At=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],Kt=new Map;function dt(E,I){if(!(E instanceof IDBDatabase)||I in E||"string"!=typeof I)return;if(Kt.get(I))return Kt.get(I);const M=I.replace(/FromIndex$/,""),N=I!==M,q=it.includes(M);if(!(M in(N?IDBIndex:IDBObjectStore).prototype)||!q&&!At.includes(M))return;const X=function(){var se=(0,F.Z)(function*(Ye,...qe){const ft=this.transaction(Ye,q?"readwrite":"readonly");let kt=ft.store;return N&&(kt=kt.index(qe.shift())),(yield Promise.all([kt[M](...qe),q&&ft.done]))[0]});return function(qe){return se.apply(this,arguments)}}();return Kt.set(I,X),X}!function Le(E){ze=E(ze)}(E=>({...E,get:(I,M,N)=>dt(I,M)||E.get(I,M,N),has:(I,M)=>!!dt(I,M)||E.has(I,M)}));const rs="@firebase/installations",li="0.6.4",xs=1e4,lo=`w:${li}`,he="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",be=36e5,mt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(E){return E instanceof ue.ZR&&E.code.includes("request-failed")}function xn({projectId:E}){return`${pe}/projects/${E}/installations`}function vt(E){return{token:E.token,requestStatus:2,expiresIn:Xr(E.expiresIn),creationTime:Date.now()}}function Jt(E,I){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,F.Z)(function*(E,I){const N=(yield I.json()).error;return mt.create("request-failed",{requestName:E,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function En({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function yr(E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,F.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function Xr(E){return Number(E.replace("s","000"))}function bt(){return(bt=(0,F.Z)(function*({appConfig:E,heartbeatServiceProvider:I},{fid:M}){const N=xn(E),q=En(E),X=I.getImmediate({optional:!0});if(X){const ft=yield X.getHeartbeatsHeader();ft&&q.append("x-firebase-client",ft)}const Ye={method:"POST",headers:q,body:JSON.stringify({fid:M,authVersion:he,appId:E.appId,sdkVersion:lo})},qe=yield yr(()=>fetch(N,Ye));if(qe.ok){const ft=yield qe.json();return{fid:ft.fid||M,registrationStatus:2,refreshToken:ft.refreshToken,authToken:vt(ft.authToken)}}throw yield Jt("Create Installation",qe)})).apply(this,arguments)}function ui(E){return new Promise(I=>{setTimeout(I,E)})}const kr=/^[cdef][\w-]{21}$/,Jr="";function co(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function an(E){return function fu(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return kr.test(M)?M:Jr}catch{return Jr}}function cn(E){return`${E.appName}!${E.appId}`}const ct=new Map;function Ft(E,I){const M=cn(E);vr(M,I),function ei(E,I){const M=function hi(){return!Nn&&"BroadcastChannel"in self&&(Nn=new BroadcastChannel("[Firebase] FID Change"),Nn.onmessage=E=>{vr(E.data.key,E.data.fid)}),Nn}();M&&M.postMessage({key:E,fid:I}),function yn(){0===ct.size&&Nn&&(Nn.close(),Nn=null)}()}(M,I)}function vr(E,I){const M=ct.get(E);if(M)for(const N of M)N(I)}let Nn=null;const is="firebase-installations-database",tn=1,uo="firebase-installations-store";let un=null;function Ci(){return un||(un=function lt(E,I,{blocked:M,upgrade:N,blocking:q,terminated:X}={}){const se=indexedDB.open(E,I),Ye=Ke(se);return N&&se.addEventListener("upgradeneeded",qe=>{N(Ke(se.result),qe.oldVersion,qe.newVersion,Ke(se.transaction))}),M&&se.addEventListener("blocked",()=>M()),Ye.then(qe=>{X&&qe.addEventListener("close",()=>X()),q&&qe.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ye}(is,tn,{upgrade:(E,I)=>{0===I&&E.createObjectStore(uo)}})),un}function Vn(E,I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,F.Z)(function*(E,I){const M=cn(E),q=(yield Ci()).transaction(uo,"readwrite"),X=q.objectStore(uo),se=yield X.get(M);return yield X.put(I,M),yield q.done,(!se||se.fid!==I.fid)&&Ft(E,I.fid),I})).apply(this,arguments)}function zi(E){return In.apply(this,arguments)}function In(){return(In=(0,F.Z)(function*(E){const I=cn(E),N=(yield Ci()).transaction(uo,"readwrite");yield N.objectStore(uo).delete(I),yield N.done})).apply(this,arguments)}function $i(E,I){return ti.apply(this,arguments)}function ti(){return(ti=(0,F.Z)(function*(E,I){const M=cn(E),q=(yield Ci()).transaction(uo,"readwrite"),X=q.objectStore(uo),se=yield X.get(M),Ye=I(se);return void 0===Ye?yield X.delete(M):yield X.put(Ye,M),yield q.done,Ye&&(!se||se.fid!==Ye.fid)&&Ft(E,Ye.fid),Ye})).apply(this,arguments)}function z(E){return U.apply(this,arguments)}function U(){return U=(0,F.Z)(function*(E){let I;const M=yield $i(E.appConfig,N=>{const q=function K(E){return Tn(E||{fid:co(),registrationStatus:0})}(N),X=function we(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(mt.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},N=function ne(E,I){return Ue.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:N}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Mt(E)}:{installationEntry:I}}(E,q);return I=X.registrationPromise,X.installationEntry});return M.fid===Jr?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}}),U.apply(this,arguments)}function Ue(){return Ue=(0,F.Z)(function*(E,I){try{const M=yield function jr(E,I){return bt.apply(this,arguments)}(E,I);return Vn(E.appConfig,M)}catch(M){throw gt(M)&&409===M.customData.serverCode?yield zi(E.appConfig):yield Vn(E.appConfig,{fid:I.fid,registrationStatus:0}),M}}),Ue.apply(this,arguments)}function Mt(E){return rn.apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(E){let I=yield Gn(E.appConfig);for(;1===I.registrationStatus;)yield ui(100),I=yield Gn(E.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:N}=yield z(E);return N||M}return I})).apply(this,arguments)}function Gn(E){return $i(E,I=>{if(!I)throw mt.create("installation-not-found");return Tn(I)})}function Tn(E){return function pn(E){return 1===E.registrationStatus&&E.registrationTime+xs<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function zr(){return(zr=(0,F.Z)(function*({appConfig:E,heartbeatServiceProvider:I},M){const N=function Gi(E,{fid:I}){return`${xn(E)}/${I}/authTokens:generate`}(E,M),q=function $n(E,{refreshToken:I}){const M=En(E);return M.append("Authorization",function ci(E){return`${he} ${E}`}(I)),M}(E,M),X=I.getImmediate({optional:!0});if(X){const ft=yield X.getHeartbeatsHeader();ft&&q.append("x-firebase-client",ft)}const Ye={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:lo,appId:E.appId}})},qe=yield yr(()=>fetch(N,Ye));if(qe.ok)return vt(yield qe.json());throw yield Jt("Generate Auth Token",qe)})).apply(this,arguments)}function ho(E){return qa.apply(this,arguments)}function qa(){return qa=(0,F.Z)(function*(E,I=!1){let M;const N=yield $i(E.appConfig,X=>{if(!qt(X))throw mt.create("not-registered");const se=X.authToken;if(!I&&function wt(E){return 2===E.requestStatus&&!function ln(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+be}(E)}(se))return X;if(1===se.requestStatus)return M=function me(E,I){return ie.apply(this,arguments)}(E,I),X;{if(!navigator.onLine)throw mt.create("app-offline");const Ye=function on(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}(X);return M=function yt(E,I){return St.apply(this,arguments)}(E,Ye),Ye}});return M?yield M:N.authToken}),qa.apply(this,arguments)}function ie(){return(ie=(0,F.Z)(function*(E,I){let M=yield Ve(E.appConfig);for(;1===M.authToken.requestStatus;)yield ui(100),M=yield Ve(E.appConfig);const N=M.authToken;return 0===N.requestStatus?ho(E,I):N})).apply(this,arguments)}function Ve(E){return $i(E,I=>{if(!qt(I))throw mt.create("not-registered");return function br(E){return 1===E.requestStatus&&E.requestTime+xs<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function St(){return St=(0,F.Z)(function*(E,I){try{const M=yield function Qt(E,I){return zr.apply(this,arguments)}(E,I),N=Object.assign(Object.assign({},I),{authToken:M});return yield Vn(E.appConfig,N),M}catch(M){if(!gt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const N=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Vn(E.appConfig,N)}else yield zi(E.appConfig);throw M}}),St.apply(this,arguments)}function qt(E){return void 0!==E&&2===E.registrationStatus}function Wl(){return(Wl=(0,F.Z)(function*(E){const I=E,{installationEntry:M,registrationPromise:N}=yield z(I);return N?N.catch(console.error):ho(I).catch(console.error),M.fid})).apply(this,arguments)}function Is(){return Is=(0,F.Z)(function*(E,I=!1){const M=E;return yield function xi(E){return Je.apply(this,arguments)}(M),(yield ho(M,I)).token}),Is.apply(this,arguments)}function Je(){return(Je=(0,F.Z)(function*(E){const{registrationPromise:I}=yield z(E);I&&(yield I)})).apply(this,arguments)}function Or(E){return mt.create("missing-app-config-values",{valueName:E})}const Gt="installations",Ds=E=>{const I=E.getProvider("app").getImmediate(),M=function Wa(E){if(!E||!E.options)throw Or("App Configuration");if(!E.name)throw Or("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!E.options[M])throw Or(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,ce._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},fo=E=>{const I=E.getProvider("app").getImmediate(),M=(0,ce._getProvider)(I,Gt).getImmediate();return{getId:()=>function Jn(E){return Wl.apply(this,arguments)}(M),getToken:q=>function Af(E){return Is.apply(this,arguments)}(M,q)}};(function os(){(0,ce._registerComponent)(new J.wA(Gt,Ds,"PUBLIC")),(0,ce._registerComponent)(new J.wA("installations-internal",fo,"PRIVATE"))})(),(0,ce.registerVersion)(rs,li),(0,ce.registerVersion)(rs,li,"esm2017");const qn="@firebase/remote-config",lr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Oo{constructor(I,M,N,q){this.client=I,this.storage=M,this.storageCache=N,this.logger=q}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-M,q=N<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var M=this;return(0,F.Z)(function*(){const[N,q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(q&&M.isCachedDataFresh(I.cacheMaxAgeMillis,N))return q;I.eTag=q&&q.eTag;const X=yield M.client.fetch(I),se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&se.push(M.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(se),X})()}}function Dm(E=navigator){return E.languages&&E.languages[0]||E.language}class gu{constructor(I,M,N,q,X,se){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=N,this.projectId=q,this.apiKey=X,this.appId=se}fetch(I){var M=this;return(0,F.Z)(function*(){const[N,q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},qe={sdk_version:M.sdkVersion,app_instance_id:N,app_instance_id_token:q,app_id:M.appId,language_code:Dm()},ft={method:"POST",headers:Ye,body:JSON.stringify(qe)},kt=fetch(se,ft),Ot=new Promise((Ir,Xi)=>{I.signal.addEventListener(()=>{const _s=new Error("The operation was aborted.");_s.name="AbortError",Xi(_s)})});let qr;try{yield Promise.race([kt,Ot]),qr=yield kt}catch(Ir){let Xi="fetch-client-network";throw"AbortError"===Ir?.name&&(Xi="fetch-timeout"),lr.create(Xi,{originalErrorMessage:Ir?.message})}let bn=qr.status;const Bt=qr.headers.get("ETag")||void 0;let gs,Zs;if(200===qr.status){let Ir;try{Ir=yield qr.json()}catch(Xi){throw lr.create("fetch-client-parse",{originalErrorMessage:Xi?.message})}gs=Ir.entries,Zs=Ir.state}if("INSTANCE_STATE_UNSPECIFIED"===Zs?bn=500:"NO_CHANGE"===Zs?bn=304:("NO_TEMPLATE"===Zs||"EMPTY_CONFIG"===Zs)&&(gs={}),304!==bn&&200!==bn)throw lr.create("fetch-status",{httpStatus:bn});return{status:bn,eTag:Bt,config:gs}})()}}class Tm{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,F.Z)(function*(){const N=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,N)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:N}){var q=this;return(0,F.Z)(function*(){yield function Sm(E,I){return new Promise((M,N)=>{const q=Math.max(I-Date.now(),0),X=setTimeout(M,q);E.addEventListener(()=>{clearTimeout(X),N(lr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const X=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),X}catch(X){if(!function Nd(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(X))throw X;const se={throttleEndTimeMillis:Date.now()+(0,ue.$s)(N),backoffCount:N+1};return yield q.storage.setThrottleMetadata(se),q.attemptFetch(I,se)}})()}}class F_{constructor(I,M,N,q,X){this.app=I,this._client=M,this._storageCache=N,this._storage=q,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ql(E,I){const M=E.target.error||void 0;return lr.create(I,{originalErrorMessage:M&&M?.message})}const ni="app_namespace_store";class L_{constructor(I,M,N,q=function ma(){return new Promise((E,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=N=>{I(Ql(N,"storage-open"))},M.onsuccess=N=>{E(N.target.result)},M.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(ni,{keyPath:"compositeKey"})}}catch(M){I(lr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=I,this.appName=M,this.namespace=N,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,F.Z)(function*(){const N=yield M.openDbPromise;return new Promise((q,X)=>{const Ye=N.transaction([ni],"readonly").objectStore(ni),qe=M.createCompositeKey(I);try{const ft=Ye.get(qe);ft.onerror=kt=>{X(Ql(kt,"storage-get"))},ft.onsuccess=kt=>{const Ot=kt.target.result;q(Ot?Ot.value:void 0)}}catch(ft){X(lr.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(I,M){var N=this;return(0,F.Z)(function*(){const q=yield N.openDbPromise;return new Promise((X,se)=>{const qe=q.transaction([ni],"readwrite").objectStore(ni),ft=N.createCompositeKey(I);try{const kt=qe.put({compositeKey:ft,value:M});kt.onerror=Ot=>{se(Ql(Ot,"storage-set"))},kt.onsuccess=()=>{X()}}catch(kt){se(lr.create("storage-set",{originalErrorMessage:kt?.message}))}})})()}delete(I){var M=this;return(0,F.Z)(function*(){const N=yield M.openDbPromise;return new Promise((q,X)=>{const Ye=N.transaction([ni],"readwrite").objectStore(ni),qe=M.createCompositeKey(I);try{const ft=Ye.delete(qe);ft.onerror=kt=>{X(Ql(kt,"storage-delete"))},ft.onsuccess=()=>{q()}}catch(ft){X(lr.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class _u{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,F.Z)(function*(){const M=I.storage.getLastFetchStatus(),N=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),X=yield M;X&&(I.lastFetchStatus=X);const se=yield N;se&&(I.lastSuccessfulFetchTimestampMillis=se);const Ye=yield q;Ye&&(I.activeConfig=Ye)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function yu(){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,F.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Po(){(0,ce._registerComponent)(new J.wA("remote-config",function E(I,{instanceIdentifier:M}){const N=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw lr.create("registration-window");if(!(0,ue.hl)())throw lr.create("indexed-db-unavailable");const{projectId:X,apiKey:se,appId:Ye}=N.options;if(!X)throw lr.create("registration-project-id");if(!se)throw lr.create("registration-api-key");if(!Ye)throw lr.create("registration-app-id");const qe=new L_(Ye,N.name,M=M||"firebase"),ft=new _u(qe),kt=new Ee.Yd(qn);kt.logLevel=Ee.in.ERROR;const Ot=new gu(q,ce.SDK_VERSION,M,X,se,Ye),qr=new Tm(Ot,qe),bn=new Oo(qr,qe,ft,kt),Bt=new F_(N,bn,ft,qe,kt);return function mi(E){const I=(0,ue.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Bt),Bt},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(qn,"0.4.4"),(0,ce.registerVersion)(qn,"0.4.4","esm2017")}();const Vd=(E,I)=>I.some(M=>E instanceof M);let vu,as;const Xl=new WeakMap,ls=new WeakMap,ri=new WeakMap,$r=new WeakMap,Ja=new WeakMap;let No={get(E,I,M){if(E instanceof IDBTransaction){if("done"===I)return ls.get(E);if("objectStoreNames"===I)return E.objectStoreNames||ri.get(E);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Gr(E[I])},set:(E,I,M)=>(E[I]=M,!0),has:(E,I)=>E instanceof IDBTransaction&&("done"===I||"store"===I)||I in E};function Ud(E){return"function"==typeof E?function Bd(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xa(){return as||(as=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...I){return E.apply(cr(this),I),Gr(Xl.get(this))}:function(...I){return Gr(E.apply(cr(this),I))}:function(I,...M){const N=E.call(cr(this),I,...M);return ri.set(N,I.sort?I.sort():[I]),Gr(N)}}(E):(E instanceof IDBTransaction&&function ga(E){if(ls.has(E))return;const I=new Promise((M,N)=>{const q=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",se),E.removeEventListener("abort",se)},X=()=>{M(),q()},se=()=>{N(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",X),E.addEventListener("error",se),E.addEventListener("abort",se)});ls.set(E,I)}(E),Vd(E,function kf(){return vu||(vu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,No):E)}function Gr(E){if(E instanceof IDBRequest)return function Er(E){const I=new Promise((M,N)=>{const q=()=>{E.removeEventListener("success",X),E.removeEventListener("error",se)},X=()=>{M(Gr(E.result)),q()},se=()=>{N(E.error),q()};E.addEventListener("success",X),E.addEventListener("error",se)});return I.then(M=>{M instanceof IDBCursor&&Xl.set(M,E)}).catch(()=>{}),Ja.set(I,E),I}(E);if($r.has(E))return $r.get(E);const I=Ud(E);return I!==E&&($r.set(E,I),Ja.set(I,E)),I}const cr=E=>Ja.get(E);function Jl(E,I,{blocked:M,upgrade:N,blocking:q,terminated:X}={}){const se=indexedDB.open(E,I),Ye=Gr(se);return N&&se.addEventListener("upgradeneeded",qe=>{N(Gr(se.result),qe.oldVersion,qe.newVersion,Gr(se.transaction))}),M&&se.addEventListener("blocked",()=>M()),Ye.then(qe=>{X&&qe.addEventListener("close",()=>X()),q&&qe.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ye}function Fo(E,{blocked:I}={}){const M=indexedDB.deleteDatabase(E);return I&&M.addEventListener("blocked",()=>I()),Gr(M).then(()=>{})}const bu=["get","getKey","getAll","getAllKeys","count"],cs=["put","add","delete","clear"],_a=new Map;function el(E,I){if(!(E instanceof IDBDatabase)||I in E||"string"!=typeof I)return;if(_a.get(I))return _a.get(I);const M=I.replace(/FromIndex$/,""),N=I!==M,q=cs.includes(M);if(!(M in(N?IDBIndex:IDBObjectStore).prototype)||!q&&!bu.includes(M))return;const X=function(){var se=(0,F.Z)(function*(Ye,...qe){const ft=this.transaction(Ye,q?"readwrite":"readonly");let kt=ft.store;return N&&(kt=kt.index(qe.shift())),(yield Promise.all([kt[M](...qe),q&&ft.done]))[0]});return function(qe){return se.apply(this,arguments)}}();return _a.set(I,X),X}!function Cr(E){No=E(No)}(E=>({...E,get:(I,M,N)=>el(I,M)||E.get(I,M,N),has:(I,M)=>!!el(I,M)||E.has(I,M)}));const Lt="/firebase-messaging-sw.js",tl="/firebase-cloud-messaging-push-scope",Hd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jd="https://fcmregistrations.googleapis.com/v1",ec="google.c.a.c_id",zd="google.c.a.c_l",tc="google.c.a.ts",Am="google.c.a.e";var _e=(()=>{return(E=_e||(_e={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",_e;var E})();function jt(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nl(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(M),q=new Uint8Array(N.length);for(let X=0;X<N.length;++X)q[X]=N.charCodeAt(X);return q}const rl="fcm_token_details_db",ur=5,As="fcm_token_object_Store";function ii(){return ii=(0,F.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(rl))return null;let I=null;return(yield Jl(rl,ur,{upgrade:(N=(0,F.Z)(function*(q,X,se,Ye){var qe;if(X<2||!q.objectStoreNames.contains(As))return;const ft=Ye.objectStore(As),kt=yield ft.index("fcmSenderId").get(E);if(yield ft.clear(),kt)if(2===X){const Ot=kt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;I={token:Ot.fcmToken,createTime:null!==(qe=Ot.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:jt(Ot.vapidKey)}}}else if(3===X){const Ot=kt;I={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:jt(Ot.auth),p256dh:jt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:jt(Ot.vapidKey)}}}else if(4===X){const Ot=kt;I={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:jt(Ot.auth),p256dh:jt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:jt(Ot.vapidKey)}}}}),function(X,se,Ye,qe){return N.apply(this,arguments)})})).close(),yield Fo(rl),yield Fo("fcm_vapid_details_db"),yield Fo("undefined"),function Gd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var N}),ii.apply(this,arguments)}const rc="firebase-messaging-database",Mm=1,Lo="firebase-messaging-store";let il=null;function tr(){return il||(il=Jl(rc,Mm,{upgrade:(E,I)=>{0===I&&E.createObjectStore(Lo)}})),il}function Si(E){return mo.apply(this,arguments)}function mo(){return mo=(0,F.Z)(function*(E){const I=ic(E),N=yield(yield tr()).transaction(Lo).objectStore(Lo).get(I);if(N)return N;{const q=yield function nc(E){return ii.apply(this,arguments)}(E.appConfig.senderId);if(q)return yield Ms(E,q),q}}),mo.apply(this,arguments)}function Ms(E,I){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,F.Z)(function*(E,I){const M=ic(E),q=(yield tr()).transaction(Lo,"readwrite");return yield q.objectStore(Lo).put(I,M),yield q.done,I})).apply(this,arguments)}function ol(){return(ol=(0,F.Z)(function*(E){const I=ic(E),N=(yield tr()).transaction(Lo,"readwrite");yield N.objectStore(Lo).delete(I),yield N.done})).apply(this,arguments)}function ic({appConfig:E}){return E.appId}const nr=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ya(E,I){return wu.apply(this,arguments)}function wu(){return(wu=(0,F.Z)(function*(E,I){const M=yield Eu(E),N=Zd(I),q={method:"POST",headers:M,body:JSON.stringify(N)};let X;try{X=yield(yield fetch(sl(E.appConfig),q)).json()}catch(se){throw nr.create("token-subscribe-failed",{errorInfo:se?.toString()})}if(X.error)throw nr.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw nr.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Wd(){return(Wd=(0,F.Z)(function*(E,I){const M=yield Eu(E),N=Zd(I.subscriptionOptions),q={method:"PATCH",headers:M,body:JSON.stringify(N)};let X;try{X=yield(yield fetch(`${sl(E.appConfig)}/${I.token}`,q)).json()}catch(se){throw nr.create("token-update-failed",{errorInfo:se?.toString()})}if(X.error)throw nr.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw nr.create("token-update-no-token");return X.token})).apply(this,arguments)}function sc(E,I){return ac.apply(this,arguments)}function ac(){return(ac=(0,F.Z)(function*(E,I){const N={method:"DELETE",headers:yield Eu(E)};try{const X=yield(yield fetch(`${sl(E.appConfig)}/${I}`,N)).json();if(X.error)throw nr.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(q){throw nr.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function sl({projectId:E}){return`${jd}/projects/${E}/registrations`}function Eu(E){return al.apply(this,arguments)}function al(){return(al=(0,F.Z)(function*({appConfig:E,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Zd({p256dh:E,auth:I,endpoint:M,vapidKey:N}){const q={web:{endpoint:M,auth:I,p256dh:E}};return N!==Hd&&(q.web.applicationPubKey=N),q}const lc=6048e5;function cc(){return cc=(0,F.Z)(function*(E){const I=yield function Nf(E,I){return Kd.apply(this,arguments)}(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:jt(I.getKey("auth")),p256dh:jt(I.getKey("p256dh"))},N=yield Si(E.firebaseDependencies);if(N){if(function km(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}(N.subscriptionOptions,M))return Date.now()>=N.createTime+lc?function An(E,I){return ll.apply(this,arguments)}(E,{token:N.token,createTime:Date.now(),subscriptionOptions:M}):N.token;try{yield sc(E.firebaseDependencies,N.token)}catch(q){console.warn(q)}return Pf(E.firebaseDependencies,M)}return Pf(E.firebaseDependencies,M)}),cc.apply(this,arguments)}function Vo(){return Vo=(0,F.Z)(function*(E){const I=yield Si(E.firebaseDependencies);I&&(yield sc(E.firebaseDependencies,I.token),yield function qd(E){return ol.apply(this,arguments)}(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Vo.apply(this,arguments)}function ll(){return ll=(0,F.Z)(function*(E,I){try{const M=yield function oc(E,I){return Wd.apply(this,arguments)}(E.firebaseDependencies,I),N=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield Ms(E.firebaseDependencies,N),M}catch(M){throw yield function Pr(E){return Vo.apply(this,arguments)}(E),M}}),ll.apply(this,arguments)}function Pf(E,I){return us.apply(this,arguments)}function us(){return(us=(0,F.Z)(function*(E,I){const N={token:yield ya(E,I),createTime:Date.now(),subscriptionOptions:I};return yield Ms(E,N),N.token})).apply(this,arguments)}function Kd(){return(Kd=(0,F.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nl(I)})})).apply(this,arguments)}function uc(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Cu(E,I){if(!I.notification)return;E.notification={};const M=I.notification.title;M&&(E.notification.title=M);const N=I.notification.body;N&&(E.notification.body=N);const q=I.notification.image;q&&(E.notification.image=q);const X=I.notification.icon;X&&(E.notification.icon=X)}(I,E),function xu(E,I){I.data&&(E.data=I.data)}(I,E),function Yd(E,I){var M,N,q,X,se;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;E.fcmOptions={};const Ye=null!==(q=null===(N=I.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==q?q:null===(X=I.notification)||void 0===X?void 0:X.click_action;Ye&&(E.fcmOptions.link=Ye);const qe=null===(se=I.fcmOptions)||void 0===se?void 0:se.analytics_label;qe&&(E.fcmOptions.analyticsLabel=qe)}(I,E),I}function va(E,I){const M=[];for(let N=0;N<E.length;N++)M.push(E.charAt(N)),N<I.length&&M.push(I.charAt(N));return M.join("")}function Bo(E){return nr.create("missing-app-config-values",{valueName:E})}va("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),va("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Om{constructor(I,M,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function ba(E){if(!E||!E.options)throw Bo("App Configuration Object");if(!E.name)throw Bo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const N of I)if(!M[N])throw Bo(N);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:M,analyticsProvider:N}}_delete(){return Promise.resolve()}}function Ff(E){return dc.apply(this,arguments)}function dc(){return(dc=(0,F.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Lt,{scope:tl}),E.swRegistration.update().catch(()=>{})}catch(I){throw nr.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function cl(){return(cl=(0,F.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield Ff(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw nr.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function ks(){return(ks=(0,F.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=Hd)})).apply(this,arguments)}function wa(){return wa=(0,F.Z)(function*(E,I){if(!navigator)throw nr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nr.create("permission-blocked");return yield function Rs(E,I){return ks.apply(this,arguments)}(E,I?.vapidKey),yield function V_(E,I){return cl.apply(this,arguments)}(E,I?.serviceWorkerRegistration),function Of(E){return cc.apply(this,arguments)}(E)}),wa.apply(this,arguments)}function Os(){return(Os=(0,F.Z)(function*(E,I,M){const N=function Ps(E){switch(E){case _e.NOTIFICATION_CLICKED:return"notification_open";case _e.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:M[ec],message_name:M[zd],message_time:M[tc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ns(){return Ns=(0,F.Z)(function*(E,I){const M=I.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===_e.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(uc(M)):E.onMessageHandler.next(uc(M)));const N=M.data;(function Iu(E){return"object"==typeof E&&!!E&&ec in E})(N)&&"1"===N[Am]&&(yield function Du(E,I,M){return Os.apply(this,arguments)}(E,M.messageType,N))}),Ns.apply(this,arguments)}const ds="@firebase/messaging",Fs=E=>{const I=new Om(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function fc(E,I){return Ns.apply(this,arguments)}(I,M)),I},pc=E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:N=>function hc(E,I){return wa.apply(this,arguments)}(I,N)}};function Lf(){return mc.apply(this,arguments)}function mc(){return(mc=(0,F.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ul(){(0,ce._registerComponent)(new J.wA("messaging",Fs,"PUBLIC")),(0,ce._registerComponent)(new J.wA("messaging-internal",pc,"PRIVATE")),(0,ce.registerVersion)(ds,"0.12.4"),(0,ce.registerVersion)(ds,"0.12.4","esm2017")}();const vn="analytics",eh="firebase_id",gc="origin",Tu=6e4,_c="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yc="https://www.googletagmanager.com/gtag/js",dr=new Ee.Yd("@firebase/analytics"),Wn=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Au(E){if(!E.startsWith(yc)){const I=Wn.create("invalid-gtag-resource",{gtagURL:E});return dr.warn(I.message),""}return E}function dl(E){return Promise.all(E.map(I=>I.catch(M=>M)))}function Bs(){return(Bs=(0,F.Z)(function*(E,I,M,N,q,X){const se=N[q];try{if(se)yield I[se];else{const qe=(yield dl(M)).find(ft=>ft.measurementId===q);qe&&(yield I[qe.appId])}}catch(Ye){dr.error(Ye)}E("config",q,X)})).apply(this,arguments)}function fl(){return(fl=(0,F.Z)(function*(E,I,M,N,q){try{let X=[];if(q&&q.send_to){let se=q.send_to;Array.isArray(se)||(se=[se]);const Ye=yield dl(M);for(const qe of se){const ft=Ye.find(Ot=>Ot.measurementId===qe),kt=ft&&I[ft.appId];if(!kt){X=[];break}X.push(kt)}}0===X.length&&(X=Object.values(I)),yield Promise.all(X),E("event",N,q||{})}catch(X){dr.error(X)}})).apply(this,arguments)}const pl=30,js=new class Hs{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Uf(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function nn(){return(nn=(0,F.Z)(function*(E){var I;const{appId:M,apiKey:N}=E,q={method:"GET",headers:Uf(N)},X=_c.replace("{app-id}",M),se=yield fetch(X,q);if(200!==se.status&&304!==se.status){let Ye="";try{const qe=yield se.json();null!==(I=qe.error)&&void 0!==I&&I.message&&(Ye=qe.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:se.status,responseMessage:Ye})}return se.json()})).apply(this,arguments)}function ml(){return(ml=(0,F.Z)(function*(E,I=js,M){const{appId:N,apiKey:q,measurementId:X}=E.options;if(!N)throw Wn.create("no-app-id");if(!q){if(X)return{measurementId:X,appId:N};throw Wn.create("no-api-key")}const se=I.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new U_;return setTimeout((0,F.Z)(function*(){Ye.abort()}),void 0!==M?M:Tu),Ru({appId:N,apiKey:q,measurementId:X},se,Ye,I)})).apply(this,arguments)}function Ru(E,I,M){return ku.apply(this,arguments)}function ku(){return ku=(0,F.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:M},N,q=js){var X;const{appId:se,measurementId:Ye}=E;try{yield function B_(E,I){return new Promise((M,N)=>{const q=Math.max(I-Date.now(),0),X=setTimeout(M,q);E.addEventListener(()=>{clearTimeout(X),N(Wn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(N,I)}catch(qe){if(Ye)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:se,measurementId:Ye};throw qe}try{const qe=yield function th(E){return nn.apply(this,arguments)}(E);return q.deleteThrottleMetadata(se),qe}catch(qe){const ft=qe;if(!function Hf(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ft)){if(q.deleteThrottleMetadata(se),Ye)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:se,measurementId:Ye};throw qe}const kt=503===Number(null===(X=ft?.customData)||void 0===X?void 0:X.httpStatus)?(0,ue.$s)(M,q.intervalMillis,pl):(0,ue.$s)(M,q.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+kt,backoffCount:M+1};return q.setThrottleMetadata(se,Ot),dr.debug(`Calling attemptFetch again in ${kt} millis`),Ru(E,Ot,N,q)}}),ku.apply(this,arguments)}class U_{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let zs,Cc;function jf(){return(jf=(0,F.Z)(function*(E,I,M,N,q){if(q&&q.global)E("event",M,N);else{const X=yield I;E("event",M,Object.assign(Object.assign({},N),{send_to:X}))}})).apply(this,arguments)}function sn(){return(sn=(0,F.Z)(function*(){if(!(0,ue.hl)())return dr.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(E){return dr.warn(Wn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function tt(){return tt=(0,F.Z)(function*(E,I,M,N,q,X,se){var Ye;const qe=function Pm(E){return ml.apply(this,arguments)}(E);qe.then(bn=>{M[bn.measurementId]=bn.appId,E.options.measurementId&&bn.measurementId!==E.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bn=>dr.error(bn)),I.push(qe);const ft=function oi(){return sn.apply(this,arguments)}().then(bn=>{if(bn)return N.getId()}),[kt,Ot]=yield Promise.all([qe,ft]);(function Us(E){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(yc)&&M.src.includes(E))return M;return null})(X)||function Ho(E,I){const M=function hl(E,I){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(E,I)),M}("firebase-js-sdk-policy",{createScriptURL:Au}),N=document.createElement("script"),q=`${yc}?l=${E}&id=${I}`;N.src=M?M?.createScriptURL(q):q,N.async=!0,document.head.appendChild(N)}(X,kt.measurementId),Cc&&(q("consent","default",Cc),function xc(E){Cc=E}(void 0)),q("js",new Date);const qr=null!==(Ye=se?.config)&&void 0!==Ye?Ye:{};return qr[gc]="firebase",qr.update=!0,null!=Ot&&(qr[eh]=Ot),q("config",kt.measurementId,qr),zs&&(q("set",zs),function _l(E){zs=E}(void 0)),kt.measurementId}),tt.apply(this,arguments)}class Wt{constructor(I){this.app=I}_delete(){return delete Mn[this.app.options.appId],Promise.resolve()}}let Mn={},nh=[];const yl={};let Pu,Mi,Un="dataLayer",Ic="gtag",Ia=!1;function fs(E,I,M){!function vl(){const E=[];if((0,ue.ru)()&&E.push("This is a browser extension environment."),(0,ue.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((N,q)=>`(${q+1}) ${N}`).join(" "),M=Wn.create("invalid-analytics-context",{errorInfo:I});dr.warn(M.message)}}();const N=E.options.appId;if(!N)throw Wn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Wn.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mn[N])throw Wn.create("already-exists",{id:N});if(!Ia){!function Vf(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(Un);const{wrappedGtag:X,gtagCore:se}=function hs(E,I,M,N,q){let X=function(...se){window[N].push(arguments)};return window[q]&&"function"==typeof window[q]&&(X=window[q]),window[q]=function xa(E,I,M,N){function X(){return X=(0,F.Z)(function*(se,...Ye){try{if("event"===se){const[qe,ft]=Ye;yield function Mu(E,I,M,N,q){return fl.apply(this,arguments)}(E,I,M,qe,ft)}else if("config"===se){const[qe,ft]=Ye;yield function vc(E,I,M,N,q,X){return Bs.apply(this,arguments)}(E,I,M,N,qe,ft)}else if("consent"===se){const[qe]=Ye;E("consent","update",qe)}else if("get"===se){const[qe,ft,kt]=Ye;E("get",qe,ft,kt)}else if("set"===se){const[qe]=Ye;E("set",qe)}else E(se,...Ye)}catch(qe){dr.error(qe)}}),X.apply(this,arguments)}return function q(se){return X.apply(this,arguments)}}(X,E,I,M),{gtagCore:X,wrappedGtag:window[q]}}(Mn,nh,yl,Un,Ic);Mi=X,Pu=se,Ia=!0}return Mn[N]=function _i(E,I,M,N,q,X,se){return tt.apply(this,arguments)}(E,nh,yl,I,Pu,Un,M),new Wt(E)}function Dc(){return jo.apply(this,arguments)}function jo(){return(jo=(0,F.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const zo="@firebase/analytics";!function $f(){(0,ce._registerComponent)(new J.wA(vn,(I,{options:M})=>fs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ce._registerComponent)(new J.wA("analytics-internal",function E(I){try{const M=I.getProvider(vn).getImmediate();return{logEvent:(N,q,X)=>function rh(E,I,M,N){E=(0,ue.m9)(E),function H_(E,I,M,N,q){return jf.apply(this,arguments)}(Mi,Mn[E.app.options.appId],I,M,N).catch(q=>dr.error(q))}(M,N,q,X)}}catch(M){throw Wn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ce.registerVersion)(zo,"0.10.0"),(0,ce.registerVersion)(zo,"0.10.0","esm2017")}();var Ri=L(4408),ki=L(7565);const fr=new class _o extends ki.v{}(class Sa extends Ri.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(I,M,N):(I.flush(this),0)}});var Vu=L(4986),Hn=L(8505),Oi=L(5363),$o=L(9468);const xr=new u.GfV("7.6.1"),jn="__angularfire_symbol__analyticsIsSupportedValue",Ws="__angularfire_symbol__analyticsIsSupported",Bu="__angularfire_symbol__remoteConfigIsSupportedValue",Ta="__angularfire_symbol__remoteConfigIsSupported",Ki="__angularfire_symbol__messagingIsSupportedValue",yo="__angularfire_symbol__messagingIsSupported";function Mc(E,I,M){if(I){if(1===I.length)return I[0];const X=I.filter(se=>se.app===M);if(1===X.length)return X[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[Ws]||(globalThis[Ws]=Dc().then(E=>globalThis[jn]=E).catch(()=>globalThis[jn]=!1)),globalThis[yo]||(globalThis[yo]=Lf().then(E=>globalThis[Ki]=E).catch(()=>globalThis[Ki]=!1)),globalThis[Ta]||(globalThis[Ta]=yu().then(E=>globalThis[Bu]=E).catch(()=>globalThis[Bu]=!1));const Rc=(E,I)=>{const M=I?[I]:(0,te.C6)(),N=[];return M.forEach(q=>{q.container.getProvider(E).instances.forEach(se=>{N.includes(se)||N.push(se)})}),N};function Go(){}class Uu{constructor(I,M=fr){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,N){const q=this.zone;return this.delegate.schedule(function(se){q.runGuarded(()=>{I.apply(this,[se])})},M,N)}}class wl{constructor(I){this.zone=I,this.task=null}call(I,M){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),M.pipe((0,Hn.b)({next:N,complete:N,error:N})).subscribe(I).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let It=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Uu(Zone.current)),this.insideAngular=M.run(()=>new Uu(Zone.current,Vu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Yi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function oh(E){return E.pipe((0,Oi.Q)(Yi().outsideAngular))}function Qi(E){return Yi(),function ah(E){return function(M){return(M=M.lift(new wl(E.ngZone))).pipe((0,$o.R)(E.outsideAngular),(0,Oi.Q)(E.insideAngular))}}(Yi())(E)}},2090:(Et,Te,L)=>{L.d(Te,{$s:()=>zi,BH:()=>De,G6:()=>lo,L:()=>ye,LL:()=>Se,Pz:()=>Ie,Sg:()=>Ke,UG:()=>le,US:()=>J,ZB:()=>Y,ZR:()=>Me,aH:()=>Le,b$:()=>Kt,eu:()=>pe,hl:()=>he,jU:()=>At,m9:()=>ti,ne:()=>cn,pd:()=>co,r3:()=>Ln,ru:()=>it,tV:()=>G,uI:()=>lt,vZ:()=>bt,w1:()=>rs,xO:()=>kr,xb:()=>ci,z$:()=>Be,zI:()=>be,zd:()=>Jr});const ce=function(z){const U=[];let K=0;for(let we=0;we<z.length;we++){let ne=z.charCodeAt(we);ne<128?U[K++]=ne:ne<2048?(U[K++]=ne>>6|192,U[K++]=63&ne|128):55296==(64512&ne)&&we+1<z.length&&56320==(64512&z.charCodeAt(we+1))?(ne=65536+((1023&ne)<<10)+(1023&z.charCodeAt(++we)),U[K++]=ne>>18|240,U[K++]=ne>>12&63|128,U[K++]=ne>>6&63|128,U[K++]=63&ne|128):(U[K++]=ne>>12|224,U[K++]=ne>>6&63|128,U[K++]=63&ne|128)}return U},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,U){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ne=0;ne<z.length;ne+=3){const Ue=z[ne],Mt=ne+1<z.length,rn=Mt?z[ne+1]:0,Gn=ne+2<z.length,Tn=Gn?z[ne+2]:0;let zr=(15&rn)<<2|Tn>>6,Gi=63&Tn;Gn||(Gi=64,Mt||(zr=64)),we.push(K[Ue>>2],K[(3&Ue)<<4|rn>>4],K[zr],K[Gi])}return we.join("")},encodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(z):this.encodeByteArray(ce(z),U)},decodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(z):function(z){const U=[];let K=0,we=0;for(;K<z.length;){const ne=z[K++];if(ne<128)U[we++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ue=z[K++];U[we++]=String.fromCharCode((31&ne)<<6|63&Ue)}else if(ne>239&&ne<365){const Gn=((7&ne)<<18|(63&z[K++])<<12|(63&z[K++])<<6|63&z[K++])-65536;U[we++]=String.fromCharCode(55296+(Gn>>10)),U[we++]=String.fromCharCode(56320+(1023&Gn))}else{const Ue=z[K++],Mt=z[K++];U[we++]=String.fromCharCode((15&ne)<<12|(63&Ue)<<6|63&Mt)}}return U.join("")}(this.decodeStringToByteArray(z,U))},decodeStringToByteArray(z,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ne=0;ne<z.length;){const Ue=K[z.charAt(ne++)],rn=ne<z.length?K[z.charAt(ne)]:0;++ne;const Tn=ne<z.length?K[z.charAt(ne)]:64;++ne;const Qt=ne<z.length?K[z.charAt(ne)]:64;if(++ne,null==Ue||null==rn||null==Tn||null==Qt)throw new Ee;we.push(Ue<<2|rn>>4),64!==Tn&&(we.push(rn<<4&240|Tn>>2),64!==Qt&&we.push(Tn<<6&192|Qt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(z){return function(z){const U=ce(z);return J.encodeByteArray(U,!0)}(z).replace(/\./g,"")},G=function(z){try{return J.decodeString(z,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Y(z,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return U}for(const K in U)!U.hasOwnProperty(K)||!Ge(K)||(z[K]=Y(z[K],U[K]));return z}function Ge(z){return"__proto__"!==z}const Ne=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=z&&G(z[1]);return U&&JSON.parse(U)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Le=()=>{var z;return null===(z=Ne())||void 0===z?void 0:z.config},Ie=z=>{var U;return null===(U=Ne())||void 0===U?void 0:U[`_${z}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,K)=>{this.resolve=U,this.reject=K})}wrapCallback(U){return(K,we)=>{K?this.reject(K):this.resolve(we),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(K):U(K,we))}}}function Ke(z,U){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=U||"demo-project",ne=z.iat||0,Ue=z.sub||z.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ne,exp:ne+3600,auth_time:ne,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Mt)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function le(){var z;const U=null===(z=Ne())||void 0===z?void 0:z.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function it(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rs(){const z=Be();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function lo(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((z,U)=>{try{let K=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(we);ne.onsuccess=()=>{ne.result.close(),K||self.indexedDB.deleteDatabase(we),z(!0)},ne.onupgradeneeded=()=>{K=!1},ne.onerror=()=>{var Ue;U((null===(Ue=ne.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(K){U(K)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Me extends Error{constructor(U,K,we){super(K),this.code=U,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}}class Se{constructor(U,K,we){this.service=U,this.serviceName=K,this.errors=we}create(U,...K){const we=K[0]||{},ne=`${this.service}/${U}`,Ue=this.errors[U],Mt=Ue?function mt(z,U){return z.replace(gt,(K,we)=>{const ne=U[we];return null!=ne?String(ne):`<${we}?>`})}(Ue,we):"Error";return new Me(ne,`${this.serviceName}: ${Mt} (${ne}).`,we)}}const gt=/\{\$([^}]+)}/g;function Ln(z,U){return Object.prototype.hasOwnProperty.call(z,U)}function ci(z){for(const U in z)if(Object.prototype.hasOwnProperty.call(z,U))return!1;return!0}function bt(z,U){if(z===U)return!0;const K=Object.keys(z),we=Object.keys(U);for(const ne of K){if(!we.includes(ne))return!1;const Ue=z[ne],Mt=U[ne];if(ui(Ue)&&ui(Mt)){if(!bt(Ue,Mt))return!1}else if(Ue!==Mt)return!1}for(const ne of we)if(!K.includes(ne))return!1;return!0}function ui(z){return null!==z&&"object"==typeof z}function kr(z){const U=[];for(const[K,we]of Object.entries(z))Array.isArray(we)?we.forEach(ne=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(ne))}):U.push(encodeURIComponent(K)+"="+encodeURIComponent(we));return U.length?"&"+U.join("&"):""}function Jr(z){const U={};return z.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ne,Ue]=we.split("=");U[decodeURIComponent(ne)]=decodeURIComponent(Ue)}}),U}function co(z){const U=z.indexOf("?");if(!U)return"";const K=z.indexOf("#",U);return z.substring(U,K>0?K:void 0)}function cn(z,U){const K=new ct(z,U);return K.subscribe.bind(K)}class ct{constructor(U,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{U(this)}).catch(we=>{this.error(we)})}next(U){this.forEachObserver(K=>{K.next(U)})}error(U){this.forEachObserver(K=>{K.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,K,we){let ne;if(void 0===U&&void 0===K&&void 0===we)throw new Error("Missing Observer.");ne=function Ei(z,U){if("object"!=typeof z||null===z)return!1;for(const K of U)if(K in z&&"function"==typeof z[K])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:K,complete:we},void 0===ne.next&&(ne.next=di),void 0===ne.error&&(ne.error=di),void 0===ne.complete&&(ne.complete=di);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Ue}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,U)}sendOne(U,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{K(this.observers[U])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}const un=1e3,Ci=2,Vn=144e5,Xn=.5;function zi(z,U=un,K=Ci){const we=U*Math.pow(K,z),ne=Math.round(Xn*we*(Math.random()-.5)*2);return Math.min(Vn,we+ne)}function ti(z){return z&&z._delegate?z._delegate:z}},8870:(Et,Te,L)=>{var u=L(4650);let te=null;function F(){return te}class ue{}const J=new u.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function xe(){return(0,u.LFG)(G)}()},providedIn:"platform"}),n})();const ye=new u.OlP("Location Initialized");let G=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Y(){return new G((0,u.LFG)(J))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let ut=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ne)},providedIn:"root"}),n})();const ve=new u.OlP("appBaseHref");let Ne=(()=>{class n extends ut{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+Xe(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+Xe(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(ve,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends ut{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Xe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Xe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(ve,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ke(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(De(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Ge,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(u.LFG(ut))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Le(){return new ze((0,u.LFG)(ut))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}function Is(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class er{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ro=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new er(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,c),Bn(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Bn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Bn(n,e){n.context.$implicit=e.item}let Or=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Za("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Za("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Gt{constructor(){this.$implicit=null,this.ngIf=null}}function Za(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Ds{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let fo=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),os=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ds(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(fo,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fi=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),c=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),lr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})(),ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Rf="browser",Ld="server";function _u(n){return n===Rf}function Po(n){return n===Ld}let Qa=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Vd((0,u.LFG)(J),window)}),n})();class Vd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function as(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vu(this.window.history)||vu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xa{}class Yd extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Iu extends Yd{static makeCurrent(){!function ce(n){te||(te=n)}(new Iu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ba(){return va=va||document.querySelector("base"),va?va.getAttribute("href"):null}();return null==t?null:function Om(n){Bo=Bo||document.createElement("a"),Bo.setAttribute("href",n);const e=Bo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Is(document.cookie,e)}}let Bo,va=null;const Ff=new u.OlP("TRANSITION_ID"),V_=[{provide:u.ip1,useFactory:function dc(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Ff,J,u.zs3],multi:!0}];let Rs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ks=new u.OlP("EventManagerPlugins");let hc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ks),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Du=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Os=(()=>{class n extends Du{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fc=/%COMP%/g,ul=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Xd(n,e){return e.flat(100).map(t=>t.replace(fc,n))}function Ls(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ai=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Uo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof eh?i.applyToHost(t):i instanceof vn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.eventManager,h=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:s=new eh(c,h,r,this.appId,_);break;case u.ifc.ShadowDom:return new Jd(c,h,t,r);default:s=new vn(c,h,r,_)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hc),u.LFG(Os),u.LFG(u.AFp),u.LFG(ul))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ps[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ca(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ca(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ps[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ps[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ls(r)):this.eventManager.addEventListener(e,t,Ls(r))}}function Ca(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Jd extends Uo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Xd(i.id,i.styles);for(const c of s){const h=document.createElement("style");h.textContent=c,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vn extends Uo{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Xd(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class eh extends vn{constructor(e,t,r,i,s){const c=i+"-"+r.id;super(e,t,r,s,c),this.contentAttr=function Lf(n){return"_ngcontent-%COMP%".replace(fc,n)}(c),this.hostAttr=function mc(n){return"_nghost-%COMP%".replace(fc,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let gc=(()=>{class n extends wa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Tu=["alt","control","meta","shift"],_c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dr=(()=>{class n extends wa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),Tu.forEach(b=>{const x=r.indexOf(b);x>-1&&(r.splice(x,1),c+=b+".")}),c+=s,0!=r.length||0===s.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=_c[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tu.forEach(c=>{c!==i&&(0,yc[c])(t)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Mu=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Rf},{provide:u.g9A,useValue:function Ho(){Iu.makeCurrent()},multi:!0},{provide:J,useFactory:function vc(){return(0,u.RDi)(document),document},deps:[]}]),fl=new u.OlP(""),xa=[{provide:u.rWj,useClass:class cl{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(_){c=c||_,s--,0==s&&r(c)};i.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],hs=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Vf(){return new u.qLn},deps:[]},{provide:ks,useClass:gc,multi:!0,deps:[J,u.R0b,u.Lbi]},{provide:ks,useClass:dr,multi:!0,deps:[J]},{provide:Ai,useClass:Ai,deps:[hc,Os,u.AFp,ul]},{provide:u.FYo,useExisting:Ai},{provide:Du,useExisting:Os},{provide:Os,useClass:Os,deps:[J]},{provide:hc,useClass:hc,deps:[ks,u.R0b]},{provide:Xa,useClass:Rs,deps:[]},[]];let Us=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Ff,useExisting:u.AFp},V_]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fl,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...hs,...xa],imports:[ni,u.hGG]}),n})(),Uf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function js(){return new Uf((0,u.LFG)(J))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(_l),r},providedIn:"root"}),n})(),_l=(()=>{class n extends Cc{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${u.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u.JZr})`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xc(n){return new _l(n.get(J))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var sn=L(8996),_i=L(3269);function tt(...n){const e=(0,_i.yG)(n);return(0,sn.D)(n,e)}var Wt=L(7579);class Mn extends Wt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const yl=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Un=L(9751);const{isArray:Ic}=Array,{getPrototypeOf:Pu,prototype:Mi,keys:Ia}=Object;function Da(n){if(1===n.length){const e=n[0];if(Ic(e))return{args:e,keys:null};if(function vl(n){return n&&"object"==typeof n&&Pu(n)===Mi}(e)){const t=Ia(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var fs=L(4671),ht=L(4004);const{isArray:Nu}=Array;function jo(n){return(0,ht.U)(e=>function Dc(n,e){return Nu(e)?n(...e):n(e)}(n,e))}function ps(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Zn=L(5403),Fu=L(9672);function Sc(...n){const e=(0,_i.yG)(n),t=(0,_i.jO)(n),{args:r,keys:i}=Da(n);if(0===r.length)return(0,sn.D)([],e);const s=new Un.y(function Gs(n,e,t=fs.y){return r=>{qs(e,()=>{const{length:i}=n,s=new Array(i);let c=i,h=i;for(let _=0;_<i;_++)qs(e,()=>{const b=(0,sn.D)(n[_],e);let x=!1;b.subscribe((0,Zn.x)(r,T=>{s[_]=T,x||(x=!0,h--),h||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ps(i,c):fs.y));return t?s.pipe(jo(t)):s}function qs(n,e,t){n?(0,Fu.f)(t,n,e):e()}var Tc=L(8189);function bl(...n){return function rh(){return(0,Tc.J)(1)}()((0,sn.D)(n,(0,_i.yG)(n)))}var zo=L(8421);function ih(n){return new Un.y(e=>{(0,zo.Xf)(n()).subscribe(e)})}var $f=L(9635),Ri=L(576);function Sa(n,e){const t=(0,Ri.m)(n)?n:()=>n,r=i=>i.error(t());return new Un.y(e?i=>e.schedule(r,0,i):r)}var ki=L(515),_o=L(727),fr=L(4482);function Lu(){return(0,fr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Vu extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _o.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_o.w0.EMPTY)}return e}refCount(){return Lu()(this)}}function Hn(n,e){return(0,fr.e)((t,r)=>{let i=null,s=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,Zn.x)(r,_=>{i?.unsubscribe();let b=0;const x=s++;(0,zo.Xf)(n(_,x)).subscribe(i=(0,Zn.x)(r,T=>r.next(e?e(_,T,x,b++):T),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function Oi(n){return n<=0?()=>ki.E:(0,fr.e)((e,t)=>{let r=0;e.subscribe((0,Zn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $o(...n){const e=(0,_i.yG)(n);return(0,fr.e)((t,r)=>{(e?bl(n,t,e):bl(n,t)).subscribe(r)})}function xr(n,e){return(0,fr.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var jn=L(5577);function Ws(n){return(0,fr.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Bu(n=Ta){return(0,fr.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ta(){return new yl}function Ki(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xr((i,s)=>n(i,s,r)):fs.y,Oi(1),t?Ws(e):Bu(()=>new yl))}function yo(n,e){return(0,Ri.m)(e)?(0,jn.z)(n,e,1):(0,jn.z)(n,1)}var Kn=L(8505);function ms(n){return(0,fr.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Zn.x)(t,void 0,void 0,c=>{s=(0,zo.Xf)(n(c,ms(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ac(n,e){return(0,fr.e)(function Gf(n,e,t,r,i){return(s,c)=>{let h=t,_=e,b=0;s.subscribe((0,Zn.x)(c,x=>{const T=b++;_=h?n(_,x,T):(h=!0,x),r&&c.next(_)},i&&(()=>{h&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Mc(n){return n<=0?()=>ki.E:(0,fr.e)((e,t)=>{let r=[];e.subscribe((0,Zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xr((i,s)=>n(i,s,r)):fs.y,Mc(1),t?Ws(e):Bu(()=>new yl))}function wl(n){return(0,fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const It="primary",Yi=Symbol("RouteTitle");class kc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pi(n){return new kc(n)}function oh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=n[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ah(n[i],e[i]))return!1;return!0}function ah(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function lh(n){return Array.prototype.concat.apply([],n)}function ch(n){return n.length>0?n[n.length-1]:null}function I(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function M(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,sn.D)(Promise.resolve(n)):tt(n)}const N=!1,q={exact:function qe(n,e,t){if(!Ir(n.segments,e.segments)||!qr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qe(n.children[r],e.children[r],t))return!1;return!0},subset:kt},X={exact:function Ye(n,e){return Qi(n,e)},subset:function ft(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ah(n[t],e[t]))},ignored:()=>!0};function se(n,e,t){return q[t.paths](n.root,e.root,t.matrixParams)&&X[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kt(n,e,t){return Ot(n,e,e.segments,t)}function Ot(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ir(i,t)||e.hasChildren()||!qr(i,t,r))}if(n.segments.length===t.length){if(!Ir(n.segments,t)||!qr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!kt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ir(n.segments,i)&&qr(n.segments,i,r)&&n.children[It])&&Ot(n.children[It],e,s,r)}}function qr(n,e,t){return e.every((r,i)=>X[t](n[i].parameters,r.parameters))}class bn{constructor(e=new Bt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pi(this.queryParams)),this._queryParamMap}toString(){return ju.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,I(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qf(this)}}class gs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pi(this.parameters)),this._parameterMap}toString(){return Nm(this)}}function Ir(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let _s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Hu},providedIn:"root"}),n})();class Hu{parse(e){const t=new $u(e);return new bn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${El(e.root,!0)}`,r=function j_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ks(t)}=${Ks(i)}`).join("&"):`${Ks(t)}=${Ks(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ju=new Hu;function qf(n){return n.segments.map(e=>Nm(e)).join("/")}function El(n,e){if(!n.hasChildren())return qf(n);if(e){const t=n.children[It]?El(n.children[It],!1):"",r=[];return I(n.children,(i,s)=>{s!==It&&r.push(`${s}:${El(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Xi(n,e){let t=[];return I(n.children,(r,i)=>{i===It&&(t=t.concat(e(r,i)))}),I(n.children,(r,i)=>{i!==It&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===It?[El(n.children[It],!1)]:[`${i}:${El(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${qf(n)}/${t[0]}`:`${qf(n)}/(${t.join("//")})`}}function zu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ks(n){return zu(n).replace(/%3B/gi,";")}function Ys(n){return zu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oc(n){return decodeURIComponent(n)}function Zf(n){return Oc(n.replace(/\+/g,"%20"))}function Nm(n){return`${Ys(n.path)}${function Kf(n){return Object.keys(n).map(e=>`;${Ys(e)}=${Ys(n[e])}`).join("")}(n.parameters)}`}const Fm=/^[^\/()?;=#]+/;function uh(n){const e=n.match(Fm);return e?e[0]:""}const b0=/^[^=?&#]+/,z_=/^[^&#]+/;class $u{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[It]=new Bt(e,t)),r}parseSegment(){const e=uh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,N);return this.capture(e),new gs(Oc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=uh(this.remaining);i&&(r=i,this.capture(r))}e[Oc(t)]=Oc(r)}parseQueryParam(e){const t=function Cl(n){const e=n.match(b0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Lm(n){const e=n.match(z_);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Zf(t),s=Zf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,N);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=It);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[It]:new Bt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,N)}}function dh(n){return n.segments.length>0?new Bt([],{[It]:n}):n}function Aa(n){const e={};for(const r of Object.keys(n.children)){const s=Aa(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function $_(n){if(1===n.numberOfChildren&&n.children[It]){const e=n.children[It];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}function xl(n){return n instanceof bn}const Pc=!1;function Vm(n,e,t,r,i){if(0===t.length)return Qs(e.root,e.root,e.root,r,i);const s=function Wu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return I(s.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new fh(t,e,r)}(t);return s.toRoot()?Qs(e.root,e.root,new Bt([],{}),r,i):function c(_){const b=function ph(n,e,t,r){if(n.isAbsolute)return new Il(e.root,!0,0);if(-1===r)return new Il(t,t===e.root,0);return function Dl(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new u.vHH(4005,Pc&&"Invalid number of '../'");i=r.segments.length}return new Il(r,!1,i-s)}(t,r+(qu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,_),x=b.processChildren?qo(b.segmentGroup,b.index,s.commands):gh(b.segmentGroup,b.index,s.commands);return Qs(e.root,b.segmentGroup,x,r,i)}(n.snapshot?._lastPathIndex)}function qu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hh(n){return"object"==typeof n&&null!=n&&n.outlets}function Qs(n,e,t,r,i){let c,s={};r&&I(r,(_,b)=>{s[b]=Array.isArray(_)?_.map(x=>`${x}`):`${_}`}),c=n===e?t:Bm(n,e,t);const h=dh(Aa(c));return new bn(h,s,i)}function Bm(n,e,t){const r={};return I(n.children,(i,s)=>{r[s]=i===e?t:Bm(i,e,t)}),new Bt(n.segments,r)}class fh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qu(r[0]))throw new u.vHH(4003,Pc&&"Root segment cannot have matrix parameters");const i=r.find(hh);if(i&&i!==ch(r))throw new u.vHH(4004,Pc&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Il{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gh(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return qo(n,e,t);const r=function Qf(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],h=t[r];if(hh(h))break;const _=`${h}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Jf(_,b,c))return s;r+=2}else{if(!Jf(_,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Bt(n.segments.slice(0,r.pathIndex),{});return s.children[It]=new Bt(n.segments.slice(r.pathIndex),n.children),qo(s,0,i)}return r.match&&0===i.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Zu(n,e,t):r.match?qo(n,0,i):Zu(n,e,t)}function qo(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function mh(n){return hh(n[0])?n[0].outlets:{[It]:n}}(t),i={};if(!r[It]&&n.children[It]&&1===n.numberOfChildren&&0===n.children[It].segments.length){const s=qo(n.children[It],e,t);return new Bt(n.segments,s.children)}return I(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=gh(n.children[c],e,s))}),I(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new Bt(n.segments,i)}}function Zu(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(hh(s)){const _=Ku(s.outlets);return new Bt(r,_)}if(0===i&&qu(t[0])){r.push(new gs(n.segments[e].path,Xf(t[0]))),i++;continue}const c=hh(s)?s.outlets[It]:`${s}`,h=i<t.length-1?t[i+1]:null;c&&h&&qu(h)?(r.push(new gs(c,Xf(h))),i+=2):(r.push(new gs(c,{})),i++)}return new Bt(r,{})}function Ku(n){const e={};return I(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Zu(new Bt([],{}),0,t))}),e}function Xf(n){const e={};return I(n,(t,r)=>e[r]=`${t}`),e}function Jf(n,e,t){return n==t.path&&Qi(e,t.parameters)}const Yu="imperative";class ys{constructor(e,t){this.id=e,this.url=t}}class ep extends ys{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vo extends ys{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qu extends ys{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ra extends ys{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Xu extends ys{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nc extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q_ extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W_ extends ys{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z_ extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tp extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ju{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Um{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ip=(()=>{class n{createUrlTree(t,r,i,s,c,h){return Vm(t||r.root,i,s,c,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),K_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return ip.\u0275fac(e)},providedIn:"root"}),n})();class sp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ap(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ap(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nr(e,this._root).map(t=>t.value)}}function ap(n,e){if(n===e.value)return e;for(const t of e.children){const r=ap(n,t);if(r)return r}return null}function Nr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Nr(n,t);if(r.length)return r.unshift(e),r}return[]}class yi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jm extends sp{constructor(e,t){super(e),this.snapshot=t,Al(this,e)}toString(){return this.snapshot.toString()}}function zm(n,e){const t=function $m(n,e){const c=new vh([],{},{},"",{},It,e,null,n.root,-1,{});return new vs("",new yi(c,[]))}(n,e),r=new Mn([new gs("",{})]),i=new Mn({}),s=new Mn({}),c=new Mn({}),h=new Mn(""),_=new Dr(r,i,c,h,s,It,e,t.root);return _.snapshot=t.root,new jm(new yi(_,[]),t)}class Dr{constructor(e,t,r,i,s,c,h,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,ht.U)(b=>b[Yi]))??tt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>Pi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>Pi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _h(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function yh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vh{get title(){return this.data?.[Yi]}constructor(e,t,r,i,s,c,h,_,b,x,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=x,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vs extends sp{constructor(e,t){super(t),this.url=e,Al(this,t)}toString(){return lp(this._root)}}function Al(n,e){e.value._routerState=n,e.children.forEach(t=>Al(n,t))}function lp(n){const e=n.children.length>0?` { ${n.children.map(lp).join(", ")} } `:"";return`${n.value}${e}`}function Ml(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qi(e.params,t.params)||n.params.next(t.params),function sh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wo(n,e){const t=Qi(n.params,e.params)&&function Zs(n,e){return Ir(n,e)&&n.every((t,r)=>Qi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Wo(n.parent,e.parent))}function Vc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Gm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vc(n,r,i);return Vc(n,r)})}(n,e,t);return new yi(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Vc(n,h)),c}}const r=function qm(n){return new Dr(new Mn(n.url),new Mn(n.params),new Mn(n.queryParams),new Mn(n.fragment),new Mn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Vc(n,s));return new yi(r,i)}}const Wm="ngNavigationCancelingError";function y(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=xl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=p(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function p(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Wm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function m(n){return w(n)&&xl(n.url)}function w(n){return n&&n[Wm]}class S{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new k,this.attachRef=null}}let k=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new S,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j=!1;let ee=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(k),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,j);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,j);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,j);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,j);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new Oe(t,h,i.injector);if(r&&function We(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class Oe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Dr?this.route:e===k?this.childContexts:this.parent.get(e,t)}}let ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[ee],encapsulation:2}),n})();function at(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nd(n){const e=n.children&&n.children.map(nd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==It&&(t.component=ot),t}function Ji(n){return n.outlet||It}function bh(n,e){const t=n.filter(r=>Ji(r)===e);return t.push(...n.filter(r=>Ji(r)!==e)),t}function Bc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wh{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ml(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Lc(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),I(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Lc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Lc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Lc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ni(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fc(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Ml(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Ml(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Bc(i.snapshot),_=h?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class X_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class J_{constructor(e,t){this.component=e,this.route=t}}function up(n,e,t){const r=n._root;return Eh(r,e?e._root:null,t,[r.value])}function rd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Eh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Lc(e);return n.children.forEach(c=>{(function w0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const _=function kI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ir(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ir(n.url,e.url)||!Qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wo(n,e)||!Qi(n.queryParams,e.queryParams);default:return!Wo(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new X_(r)):(s.data=c.data,s._resolvedData=c._resolvedData),Eh(n,e,s.component?h?h.children:null:t,r,i),_&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new J_(h.outlet.component,c))}else c&&dp(e,h,i),i.canActivateChecks.push(new X_(r)),Eh(n,null,s.component?h?h.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),I(s,(c,h)=>dp(c,t.getContext(h),i)),i}function dp(n,e,t){const r=Lc(n),i=n.value;I(r,(s,c)=>{dp(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new J_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ch(n){return"function"==typeof n}function kl(n){return n instanceof yl||"EmptyError"===n?.name}const Km=Symbol("INITIAL_VALUE");function Uc(){return Hn(n=>Sc(n.map(e=>e.pipe(Oi(1),$o(Km)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===Km)return Km;if(!1===t||t instanceof bn)return t}return!0}),xr(e=>e!==Km),Oi(1)))}function sy(n){return(0,$f.z)((0,Kn.b)(e=>{if(xl(e))throw y(0,e)}),(0,ht.U)(e=>!0===e))}const ay={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function I0(n,e,t,r,i){const s=ly(n,e,t);return s.matched?function xh(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?tt(i.map(c=>{const h=rd(c,n);return M(function ry(n){return n&&Ch(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Uc(),sy()):tt(!0)}(r=at(e,r),e,t).pipe((0,ht.U)(c=>!0===c?s:{...ay})):tt(s)}function ly(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ay}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||oh)(t,n,e);if(!i)return{...ay};const s={};I(i.posParams,(h,_)=>{s[_]=h.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Ih(n,e,t,r){if(t.length>0&&function BI(n,e,t){return t.some(r=>cy(n,e,r)&&Ji(r)!==It)}(n,t,r)){const s=new Bt(e,function D0(n,e,t,r){const i={};i[It]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ji(s)!==It){const c=new Bt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ji(s)]=c}return i}(n,e,r,new Bt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function S0(n,e,t){return t.some(r=>cy(n,e,r))}(n,t,r)){const s=new Bt(n.segments,function VI(n,e,t,r,i){const s={};for(const c of r)if(cy(n,t,c)&&!i[Ji(c)]){const h=new Bt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,s[Ji(c)]=h}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Bt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function cy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function T0(n,e,t,r){return!!(Ji(n)===r||r!==It&&cy(e,t,n))&&("**"===n.path||ly(e,n,t).matched)}function Dh(n,e,t){return 0===e.length&&!n.children[t]}const Xm=!1;class Ol{constructor(e){this.segmentGroup=e||null}}class Sh{constructor(e){this.urlTree=e}}function hp(n){return Sa(new Ol(n))}function uy(n){return Sa(new Sh(n))}class A0{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Ih(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,It).pipe((0,ht.U)(s=>this.createUrlTree(Aa(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ms(s=>{if(s instanceof Sh)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ol?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,It).pipe((0,ht.U)(i=>this.createUrlTree(Aa(i),e.queryParams,e.fragment))).pipe(ms(i=>{throw i instanceof Ol?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Xm)}createUrlTree(e,t,r){const i=dh(e);return new bn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ht.U)(s=>new Bt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,sn.D)(i).pipe(yo(s=>{const c=r.children[s],h=bh(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,ht.U)(_=>({segment:_,outlet:s})))}),Ac((s,c)=>(s[c.outlet]=c.segment,s),{}),Rc())}expandSegment(e,t,r,i,s,c){return(0,sn.D)(r).pipe(yo(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,c).pipe(ms(b=>{if(b instanceof Ol)return tt(null);throw b}))),Ki(h=>!!h),ms((h,_)=>{if(kl(h))return Dh(t,i,s)?tt(new Bt([],{})):hp(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,c,h){return T0(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):hp(t):hp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uy(s):this.lineralizeSegments(r,s).pipe((0,jn.z)(c=>{const h=new Bt(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:x}=ly(t,i,s);if(!h)return hp(t);const T=this.applyRedirectCommands(_,i.redirectTo,x);return i.redirectTo.startsWith("/")?uy(T):this.lineralizeSegments(i,T).pipe((0,jn.z)(P=>this.expandSegment(e,t,r,P.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=at(r,e),r.loadChildren?(r._loadedRoutes?tt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ht.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Bt(i,{})))):tt(new Bt(i,{}))):I0(t,r,i,e).pipe(Hn(({matched:c,consumedSegments:h,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,jn.z)(x=>{const T=x.injector??e,P=x.routes,{segmentGroup:V,slicedSegments:H}=Ih(t,h,_,P),Q=new Bt(V.segments,V.children);if(0===H.length&&Q.hasChildren())return this.expandChildren(T,P,Q).pipe((0,ht.U)($e=>new Bt(h,$e)));if(0===P.length&&0===H.length)return tt(new Bt(h,{}));const oe=Ji(r)===s;return this.expandSegment(T,Q,P,H,oe?It:s,!0).pipe((0,ht.U)(Ze=>new Bt(h.concat(Ze.segments),Ze.children)))})):hp(t)))}getChildConfig(e,t,r){return t.children?tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function LI(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(c=>{const h=rd(c,n);return M(function ty(n){return n&&Ch(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Uc(),sy())}(e,t,r).pipe((0,jn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Kn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function HI(n){return Sa(p(Xm,3))}())):tt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[It])return e.redirectTo,Sa(new u.vHH(4e3,Xm));i=i.children[It]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new bn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return I(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return I(t.children,(h,_)=>{c[_]=this.createSegmentGroup(e,h,r,i)}),new Bt(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Xm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class dy{}class fp{constructor(e,t,r,i,s,c,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.urlSerializer=h}recognize(){const e=Ih(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,It).pipe((0,ht.U)(t=>{if(null===t)return null;const r=new vh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new yi(r,t),s=new vs(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=_h(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,sn.D)(Object.keys(r.children)).pipe(yo(i=>{const s=r.children[i],c=bh(t,i);return this.processSegmentGroup(e,c,s,i)}),Ac((i,s)=>i&&s?(i.push(...s),i):null),function Go(n,e=!1){return(0,fr.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,s=>{const c=n(s,i++);(c||e)&&r.next(s),!c&&r.complete()}))})}(i=>null!==i),Ws(null),Rc(),(0,ht.U)(i=>{if(null===i)return null;const s=R0(i);return function $I(n){n.sort((e,t)=>e.value.outlet===It?-1:t.value.outlet===It?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,sn.D)(t).pipe(yo(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,s)),Ki(c=>!!c),ms(c=>{if(kl(c))return Dh(r,i,s)?tt([]):tt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!T0(t,r,i,s))return tt(null);let c;if("**"===t.path){const h=i.length>0?ch(i).parameters:{},_=O0(r)+i.length;c=tt({snapshot:new vh(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ka(t),Ji(t),t.component??t._loadedComponent??null,t,k0(r),_,P0(t)),consumedSegments:[],remainingSegments:[]})}else c=I0(r,t,i,e).pipe((0,ht.U)(({matched:h,consumedSegments:_,remainingSegments:b,parameters:x})=>{if(!h)return null;const T=O0(r)+_.length;return{snapshot:new vh(_,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ka(t),Ji(t),t.component??t._loadedComponent??null,t,k0(r),T,P0(t)),consumedSegments:_,remainingSegments:b}}));return c.pipe(Hn(h=>{if(null===h)return tt(null);const{snapshot:_,consumedSegments:b,remainingSegments:x}=h;e=t._injector??e;const T=t._loadedInjector??e,P=function GI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:H}=Ih(r,b,x,P.filter(oe=>void 0===oe.redirectTo));if(0===H.length&&V.hasChildren())return this.processChildren(T,P,V).pipe((0,ht.U)(oe=>null===oe?null:[new yi(_,oe)]));if(0===P.length&&0===H.length)return tt([new yi(_,[])]);const Q=Ji(t)===s;return this.processSegment(T,P,V,H,Q?It:s).pipe((0,ht.U)(oe=>null===oe?null:[new yi(_,oe)]))}))}}function qI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function R0(n){const e=[],t=new Set;for(const r of n){if(!qI(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=R0(r.children);e.push(new yi(r.value,i))}return e.filter(r=>!t.has(r))}function k0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function O0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ka(n){return n.data||{}}function P0(n){return n.resolve||{}}function fy(n){return"string"==typeof n.title||null===n.title}function py(n){return Hn(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,ht.U)(()=>e)):tt(e)})}const Th=new u.OlP("ROUTES");let gy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=M(t.loadComponent()).pipe((0,ht.U)(L0),(0,Kn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),wl(()=>{this.componentLoaders.delete(t)})),i=new Vu(r,()=>new Wt.x).pipe(Lu());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ht.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,x=!1;Array.isArray(h)?b=h:(_=h.create(t).injector,b=lh(_.get(Th,[],u.XFs.Self|u.XFs.Optional)));return{routes:b.map(nd),injector:_}}),wl(()=>{this.childrenLoaders.delete(r)})),c=new Vu(s,()=>new Wt.x).pipe(Lu());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return M(t()).pipe((0,ht.U)(L0),(0,jn.z)(r=>r instanceof u.YKP||Array.isArray(r)?tt(r):(0,sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L0(n){return function Xs(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let eg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wt.x,this.configLoader=(0,u.f3M)(gy),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(_s),this.rootContexts=(0,u.f3M)(k),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Um(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ju(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Mn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xr(r=>0!==r.id),(0,ht.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Hn(r=>{let i=!1,s=!1;return tt(r).pipe((0,Kn.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(c=>{const h=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const x="";return this.events.next(new Ra(c.id,t.serializeUrl(r.rawUrl),x,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),ki.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V0(c.source)&&(t.browserUrlTree=c.extractedUrl),tt(c).pipe(Hn(x=>{const T=this.transitions?.getValue();return this.events.next(new ep(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),T!==this.transitions?.getValue()?ki.E:Promise.resolve(x)}),function M0(n,e,t,r){return Hn(i=>function jI(n,e,t,r,i){return new A0(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ht.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Kn.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function ZI(n,e,t,r,i){return(0,jn.z)(s=>function hy(n,e,t,r,i,s,c="emptyOnly"){return new fp(n,e,t,r,i,c,s).recognize().pipe(Hn(h=>null===h?function zI(n){return new Un.y(e=>e.error(n))}(new dy):tt(h)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,ht.U)(c=>({...s,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Kn.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!x.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);t.setBrowserUrl(P,x)}t.browserUrlTree=x.urlAfterRedirects}const T=new Nc(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(T)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:x,extractedUrl:T,source:P,restoredState:V,extras:H}=c,Q=new ep(x,this.urlSerializer.serialize(T),P,V);this.events.next(Q);const oe=zm(T,this.rootComponentType).snapshot;return tt(r={...c,targetSnapshot:oe,urlAfterRedirects:T,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new Ra(c.id,t.serializeUrl(r.extractedUrl),x,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),ki.E}}),(0,Kn.b)(c=>{const h=new q_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),(0,ht.U)(c=>r={...c,guards:up(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Ym(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?tt({...t,guardsResult:!0}):function NI(n,e,t,r){return(0,sn.D)(n).pipe((0,jn.z)(i=>function FI(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?tt(s.map(h=>{const _=Bc(e)??i,b=rd(h,_);return M(function OI(n){return n&&Ch(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Ki())})).pipe(Uc()):tt(!0)}(i.component,i.route,t,e,r)),Ki(i=>!0!==i,!0))}(c,r,i,n).pipe((0,jn.z)(h=>h&&function E0(n){return"boolean"==typeof n}(h)?function iy(n,e,t,r){return(0,sn.D)(e).pipe(yo(i=>bl(function id(n,e){return null!==n&&e&&e(new Hm(n)),tt(!0)}(i.route.parent,r),function Qm(n,e){return null!==n&&e&&e(new np(n)),tt(!0)}(i.route,r),function oy(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function ey(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ih(()=>tt(c.guards.map(_=>{const b=Bc(c.node)??t,x=rd(_,b);return M(function ny(n){return n&&Ch(n.canActivateChild)}(x)?x.canActivateChild(r,n):b.runInContext(()=>x(r,n))).pipe(Ki())})).pipe(Uc())));return tt(s).pipe(Uc())}(n,i.path,t),function x0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(s=>ih(()=>{const c=Bc(e)??t,h=rd(s,c);return M(function bk(n){return n&&Ch(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(Ki())}));return tt(i).pipe(Uc())}(n,i.route,t))),Ki(i=>!0!==i,!0))}(r,s,n,e):tt(h)),(0,ht.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Kn.b)(c=>{if(r.guardsResult=c.guardsResult,xl(c.guardsResult))throw y(0,c.guardsResult);const h=new W_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),xr(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),py(c=>{if(c.guards.canActivateChecks.length)return tt(c).pipe((0,Kn.b)(h=>{const _=new Z_(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}),Hn(h=>{let _=!1;return tt(h).pipe(function wk(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return tt(t);let s=0;return(0,sn.D)(i).pipe(yo(c=>function Ek(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!fy(i)&&(s[Yi]=i.title),function N0(n,e,t,r){const i=function Ck(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return tt({});const s={};return(0,sn.D)(i).pipe((0,jn.z)(c=>function F0(n,e,t,r){const i=Bc(e)??r,s=rd(n,i);return M(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[c],e,t,r).pipe(Ki(),(0,Kn.b)(h=>{s[c]=h}))),Mc(1),function Uu(n){return(0,ht.U)(()=>n)}(s),ms(c=>kl(c)?ki.E:Sa(c)))}(s,n,e,r).pipe((0,ht.U)(c=>(n._resolvedData=c,n.data=_h(n,t).resolve,i&&fy(i)&&(n.data[Yi]=i.title),null)))}(c.route,r,n,e)),(0,Kn.b)(()=>s++),Mc(1),(0,jn.z)(c=>s===i.length?tt(t):ki.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Kn.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Kn.b)(h=>{const _=new tp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}))}),py(c=>{const h=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Kn.b)(x=>{_.component=x}),(0,ht.U)(()=>{})));for(const x of _.children)b.push(...h(x));return b};return Sc(h(c.targetSnapshot.root)).pipe(Ws(),Oi(1))}),py(()=>this.afterPreactivation()),(0,ht.U)(c=>{const h=function Rl(n,e,t){const r=Vc(n,e._root,t?t._root:void 0);return new jm(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:h}}),(0,Kn.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(r=>(new wh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Oi(1),(0,Kn.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new vo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),wl(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ms(c=>{if(s=!0,w(c)){m(c)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new Qu(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(h),m(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||V0(r.source)};t.scheduleNavigation(_,Yu,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new Xu(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return ki.E}))}))}cancelNavigationTransition(t,r,i){const s=new Qu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V0(n){return n!==Yu}let B0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===It);return r}getResolvedTitleForRoute(t){return t.data[Yi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(KI)},providedIn:"root"}),n})(),KI=(()=>{class n extends B0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Uf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(QI)},providedIn:"root"}),n})();class YI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let QI=(()=>{class n extends YI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zt=new u.OlP("",{providedIn:"root",factory:()=>({})});let H0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(j0)},providedIn:"root"}),n})(),j0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JI(n){throw n}function eD(n,e,t){return e.parse("/")}const z0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(zt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||JI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(H0),this.routeReuseStrategy=(0,u.f3M)(U0),this.urlCreationStrategy=(0,u.f3M)(K_),this.titleStrategy=(0,u.f3M)(B0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lh((0,u.f3M)(Th,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(eg),this.urlSerializer=(0,u.f3M)(_s),this.location=(0,u.f3M)(ze),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zm(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(nd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:c;let x=null;switch(h){case"merge":x={...this.currentUrlTree.queryParams,...s};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,x,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Yu,null,r)}navigate(t,r={skipLocationChange:!1}){return function nD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...z0}:!1===r?{...tD}:r,xl(t))return se(this.currentUrlTree,t,i);const s=this.parseUrl(t);return se(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let h,_,b,x;return c?(h=c.resolve,_=c.reject,b=c.promise):b=new Promise((T,P)=>{h=T,_=P}),x="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ng=(()=>{class n{constructor(t,r,i,s,c,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Wt.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof vo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Sr),u.Y36(Dr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ut))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class _y{}let yy=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(xr(t=>t instanceof vo),yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,u.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,h=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,sn.D)(i).pipe((0,Tc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):tt(null);const s=i.pipe((0,jn.z)(c=>null===c?tt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,sn.D)([s,c]).pipe((0,Tc.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Sr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(_y),u.LFG(gy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gp=new u.OlP("");let G0=(()=>{class n{constructor(t,r,i,s,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ep?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var bs=(()=>((bs=bs||{})[bs.COMPLETE=0]="COMPLETE",bs[bs.FAILED=1]="FAILED",bs[bs.REDIRECTING=2]="REDIRECTING",bs))();const _p=!1;function od(n,e){return{\u0275kind:n,\u0275providers:e}}const by=new u.OlP("",{providedIn:"root",factory:()=>!1});function yp(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Sr),i=n.get(q0);1===n.get(rg)&&r.initialNavigation(),n.get(W0,null,u.XFs.Optional)?.setUpPreloading(),n.get(gp,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const q0=new u.OlP(_p?"bootstrap done indicator":"",{factory:()=>new Wt.x}),rg=new u.OlP(_p?"initial navigation":"",{providedIn:"root",factory:()=>1});function sD(){let n=[];return n=_p?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Sr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function rp(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],od(1,n)}const W0=new u.OlP(_p?"router preloader":"");function aD(n){return od(0,[{provide:W0,useExisting:yy},{provide:_y,useExisting:n}])}const Rh=!1,uD=new u.OlP(Rh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),wy=[ze,{provide:_s,useClass:Hu},Sr,k,{provide:Dr,useFactory:function vy(n){return n.routerState.root},deps:[Sr]},gy,Rh?{provide:by,useValue:!0}:[]];function dD(){return new u.PXZ("Router",Sr)}let hD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[wy,Rh&&r?.enableTracing?sD().\u0275providers:[],{provide:Th,multi:!0,useValue:t},{provide:uD,useFactory:Y0,deps:[[Sr,new u.FiY,new u.tp0]]},{provide:zt,useValue:r||{}},r?.useHash?{provide:ut,useClass:Fe}:{provide:ut,useClass:Ne},{provide:gp,useFactory:()=>{const n=(0,u.f3M)(Qa),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(zt),r=(0,u.f3M)(eg),i=(0,u.f3M)(_s);return t.scrollOffset&&n.setOffset(t.scrollOffset),new G0(i,r,n,e,t)}},r?.preloadingStrategy?aD(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:dD},r?.initialNavigation?pD(r):[],[{provide:Q0,useFactory:yp},{provide:u.tb,multi:!0,useExisting:Q0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Th,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uD,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ot]}),n})();function Y0(n){if(Rh&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function pD(n){return["disabled"===n.initialNavigation?od(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Sr);return()=>{e.setUpLocationChangeListener()}}},{provide:rg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?od(2,[{provide:rg,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(ye,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Sr),s=e.get(q0);(function Dk(n,e){n.events.pipe(xr(t=>t instanceof vo||t instanceof Qu||t instanceof Xu||t instanceof Ra),(0,ht.U)(t=>t instanceof vo||t instanceof Ra?bs.COMPLETE:t instanceof Qu&&(0===t.code||1===t.code)?bs.REDIRECTING:bs.FAILED),xr(t=>t!==bs.REDIRECTING),Oi(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(eg).afterPreactivation=()=>(r(!0),s.closed?tt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Q0=new u.OlP(Rh?"Router Initializer":"");function og(...n){const e=(0,_i.jO)(n),{args:t,keys:r}=Da(n),i=new Un.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let _=c,b=c;for(let x=0;x<c;x++){let T=!1;(0,zo.Xf)(t[x]).subscribe((0,Zn.x)(s,P=>{T||(T=!0,b--),h[x]=P},()=>_--,void 0,()=>{(!_||!T)&&(b||s.next(r?ps(r,h):h),s.complete())}))}});return e?i.pipe(jo(e)):i}let Oh=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Pl=(()=>{class n extends Oh{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ko=new u.OlP("NgValueAccessor"),X0={provide:Ko,useExisting:(0,u.Gpc)(()=>bp),multi:!0};let bp=(()=>{class n extends Pl{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[u._Bn([X0]),u.qOj]}),n})();const Ey={provide:Ko,useExisting:(0,u.Gpc)(()=>Hc),multi:!0},J0=new u.OlP("CompositionEventMode");let Hc=(()=>{class n extends Oh{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cy(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(J0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[u._Bn([Ey]),u.qOj]}),n})();const mD=!1;function jc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xy(n){return null!=n&&"number"==typeof n.length}const Fi=new u.OlP("NgValidators"),Nl=new u.OlP("NgAsyncValidators"),ew=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fl{static min(e){return function tw(n){return e=>{if(jc(e.value)||jc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function bo(n){return e=>{if(jc(e.value)||jc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function nw(n){return jc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function rw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gD(n){return jc(n.value)||ew.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function sg(n){return e=>jc(e.value)||!xy(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Iy(n){return e=>xy(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function iw(n){if(!n)return ag;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(jc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return cw(e)}static composeAsync(e){return uw(e)}}function ag(n){return null}function ow(n){return null!=n}function Dy(n){const e=(0,u.QGY)(n)?(0,sn.D)(n):n;if(mD&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function sw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function aw(n,e){return e.map(t=>t(n))}function lw(n){return n.map(e=>function Sy(n){return!n.validate}(e)?e:t=>e.validate(t))}function cw(n){if(!n)return null;const e=n.filter(ow);return 0==e.length?null:function(t){return sw(aw(t,e))}}function Ty(n){return null!=n?cw(lw(n)):null}function uw(n){if(!n)return null;const e=n.filter(ow);return 0==e.length?null:function(t){return og(aw(t,e).map(Dy)).pipe((0,ht.U)(sw))}}function Ay(n){return null!=n?uw(lw(n)):null}function Js(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lg(n){return n._rawValidators}function dw(n){return n._rawAsyncValidators}function My(n){return n?Array.isArray(n)?n:[n]:[]}function wp(n,e){return Array.isArray(n)?n.includes(e):n===e}function hw(n,e){const t=My(e);return My(n).forEach(i=>{wp(t,i)||t.push(i)}),t}function fw(n,e){return My(e).filter(t=>!wp(n,t))}class pw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ty(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ay(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vi extends pw{get formDirective(){return null}get path(){return null}}class Ll extends pw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zc=(()=>{class n extends mw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ll,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),Oy=(()=>{class n extends mw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();function Ly(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Vy=!1,dg="VALID",hg="INVALID",Ph="PENDING",xp="DISABLED";function By(n){return(Ip(n)?n.validators:n)||null}function Uy(n,e){return(Ip(e)?e.asyncValidators:n)||null}function Ip(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dg}get invalid(){return this.status===hg}get pending(){return this.status==Ph}get disabled(){return this.status===xp}get enabled(){return this.status!==xp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fw(e,this._rawAsyncValidators))}hasValidator(e){return wp(this._rawValidators,e)}hasAsyncValidator(e){return wp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ph,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dg||this.status===Ph)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xp:dg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ph,this._hasOwnPendingAsyncValidator=!0;const t=Dy(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?xp:this.errors?hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ph)?Ph:this._anyControlsHaveStatus(hg)?hg:dg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ip(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function bD(n){return Array.isArray(n)?Ty(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function wD(n){return Array.isArray(n)?Ay(n):n||null}(this._rawAsyncValidators)}}class Nh extends pg{constructor(e,t,r){super(By(t),Uy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function bw(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,Vy?function Cp(n,e){return`Must supply a value for form control ${Ly(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function fg(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,Vy?function yD(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new u.vHH(1001,Vy?function vD(n,e){return`Cannot find form control ${Ly(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const sd=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Dp}),Dp="always";function Sp(n,e){return[...e.path,n]}function Fh(n,e,t=Dp){Ew(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function CD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gg(n,e)})}(n,e),function ID(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xD(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gg(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ww(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function mg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ad(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ew(n,e){const t=lg(n);null!==e.validator?n.setValidators(Js(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=dw(n);null!==e.asyncValidator?n.setAsyncValidators(Js(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Hy(e._rawValidators,i),Hy(e._rawAsyncValidators,i)}function ad(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=lg(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=dw(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Hy(e._rawValidators,r),Hy(e._rawAsyncValidators,r),t}function gg(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ea(n,e){Ew(n,e)}function Gc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function cd(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Hc?t=s:function Vh(n){return Object.getPrototypeOf(n.constructor)===Pl}(s)?r=s:i=s}),i||r||t||null}const Uh={provide:vi,useExisting:(0,u.Gpc)(()=>Vl)},Oa=(()=>Promise.resolve())();let Vl=(()=>{class n extends vi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Nh({},Ty(t),Ay(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Oa.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Fh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Oa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Oa.then(()=>{const r=this._findContainer(t.path),i=new Nh({});ea(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Oa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Oa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,cd(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fi,10),u.Y36(Nl,10),u.Y36(sd,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Uh]),u.qOj]}),n})();function jy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function zy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const na=class extends pg{constructor(e=null,t,r){super(By(t),Uy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ip(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){zy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},RD={provide:Ll,useExisting:(0,u.Gpc)(()=>Mp)},qy=(()=>Promise.resolve())();let Mp=(()=>{class n extends Ll{constructor(t,r,i,s,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new na,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qc(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Gc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qy.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);qy.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Sp(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vi,9),u.Y36(Fi,10),u.Y36(Nl,10),u.Y36(Ko,10),u.Y36(u.sBO,8),u.Y36(sd,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([RD]),u.qOj,u.TTD]}),n})(),Hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const kp=new u.OlP("NgModelWithFormControlWarning"),Yy={provide:vi,useExisting:(0,u.Gpc)(()=>Bl)};let Bl=(()=>{class n extends vi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ad(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Fh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){mg(t.control||null,t,!1),function Bh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,cd(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(mg(r||null,t),(n=>n instanceof na)(i)&&(Fh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);ea(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Tp(n,e){return ad(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ew(this.form,this),this._oldForm&&ad(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fi,10),u.Y36(Nl,10),u.Y36(sd,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Yy]),u.qOj,u.TTD]}),n})();const PD={provide:Ll,useExisting:(0,u.Gpc)(()=>jh)};let jh=(()=>{class n extends Ll{set isDisabled(t){}constructor(t,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qc(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Gc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Sp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(vi,13),u.Y36(Fi,10),u.Y36(Nl,10),u.Y36(Ko,10),u.Y36(kp,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([PD]),u.qOj,u.TTD]}),n})(),rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Dw]}),n})(),iv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sd,useValue:t.callSetDisabledState??Dp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[rv]}),n})(),Pa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:sd,useValue:t.callSetDisabledState??Dp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[rv]}),n})();const Ig_firebaseConfig={apiKey:"AIzaSyDSNX2jIiGB0Lka-DbyMJmIlX8b-isSIYg",authDomain:"legacy-notes-ab9d1.firebaseapp.com",projectId:"legacy-notes-ab9d1",storageBucket:"legacy-notes-ab9d1.appspot.com",messagingSenderId:"834211346908",appId:"1:834211346908:web:c98c6ae58a73a059b63719",measurementId:"G-H944ZXRR1R"},Ig_baseUrl="https://legacy-notes.onrender.com/api/v1/";class Dg{}class ws{}class Zr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Hw{encodeKey(e){return zw(e)}encodeValue(e){return zw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GD=/%(\d[a-f0-9])/gi,qD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zw(n){return encodeURIComponent(n).replace(GD,(e,t)=>qD[t]??e)}function Sg(n){return`${n}`}class Fa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jw(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],_=t.get(c)||[];_.push(h),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Sg):[Sg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Fa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Sg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Sg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class WD{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Gw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qw(n){return typeof Blob<"u"&&n instanceof Blob}function ov(n){return typeof FormData<"u"&&n instanceof FormData}class Wc{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $w(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Zr),this.context||(this.context=new WD),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Fa,this.urlWithParams=t}serializeBody(){return null===this.body?null:Gw(this.body)||qw(this.body)||ov(this.body)||function Ww(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ov(this.body)?null:qw(this.body)?this.body.type||null:Gw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((T,P)=>T.set(P,e.setHeaders[P]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((T,P)=>T.set(P,e.setParams[P]),b)),new Wc(t,r,s,{params:b,headers:_,context:x,reportProgress:h,responseType:i,withCredentials:c})}}var Fr=(()=>((Fr=Fr||{})[Fr.Sent=0]="Sent",Fr[Fr.UploadProgress=1]="UploadProgress",Fr[Fr.ResponseHeader=2]="ResponseHeader",Fr[Fr.DownloadProgress=3]="DownloadProgress",Fr[Fr.Response=4]="Response",Fr[Fr.User=5]="User",Fr))();class Ag{constructor(e,t=200,r="OK"){this.headers=e.headers||new Zr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Mg extends Ag{constructor(e={}){super(e),this.type=Fr.ResponseHeader}clone(e={}){return new Mg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $h extends Ag{constructor(e={}){super(e),this.type=Fr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $h({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pp extends Ag{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Rg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hd=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Wc)s=t;else{let _,b;_=i.headers instanceof Zr?i.headers:new Zr(i.headers),i.params&&(b=i.params instanceof Fa?i.params:new Fa({fromObject:i.params})),s=new Wc(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=tt(s).pipe(yo(_=>this.handler.handle(_)));if(t instanceof Wc||"events"===i.observe)return c;const h=c.pipe(xr(_=>_ instanceof $h));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,ht.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,ht.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,ht.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,ht.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Fa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Rg(i,r))}post(t,r,i={}){return this.request("POST",t,Rg(i,r))}put(t,r,i={}){return this.request("PUT",t,Rg(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Dg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function sv(n,e){return e(n)}function Zw(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Yw=new u.OlP("HTTP_INTERCEPTORS"),Gh=new u.OlP("HTTP_INTERCEPTOR_FNS");function Qw(){let n=null;return(e,t)=>(null===n&&(n=((0,u.f3M)(Yw,{optional:!0})??[]).reduceRight(Zw,sv)),n(e,t))}let Xw=(()=>{class n extends Dg{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Gh)));this.chain=r.reduceRight((i,s)=>function Kw(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),sv)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ws),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const QD=/^\)\]\}',?\n/;let eE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Un.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,H)=>i.setRequestHeader(V,H.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const s=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const V=i.statusText||"OK",H=new Zr(i.getAllResponseHeaders()),Q=function XD(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new Mg({headers:H,status:i.status,statusText:V,url:Q}),c},_=()=>{let{headers:V,status:H,statusText:Q,url:oe}=h(),ke=null;204!==H&&(ke=typeof i.response>"u"?i.responseText:i.response),0===H&&(H=ke?200:0);let Ze=H>=200&&H<300;if("json"===t.responseType&&"string"==typeof ke){const $e=ke;ke=ke.replace(QD,"");try{ke=""!==ke?JSON.parse(ke):null}catch(Qe){ke=$e,Ze&&(Ze=!1,ke={error:Qe,text:ke})}}Ze?(r.next(new $h({body:ke,headers:V,status:H,statusText:Q,url:oe||void 0})),r.complete()):r.error(new Pp({error:ke,headers:V,status:H,statusText:Q,url:oe||void 0}))},b=V=>{const{url:H}=h(),Q=new Pp({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:H||void 0});r.error(Q)};let x=!1;const T=V=>{x||(r.next(h()),x=!0);let H={type:Fr.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(H.total=V.total),"text"===t.responseType&&i.responseText&&(H.partialText=i.responseText),r.next(H)},P=V=>{let H={type:Fr.UploadProgress,loaded:V.loaded};V.lengthComputable&&(H.total=V.total),r.next(H)};return i.addEventListener("load",_),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),t.reportProgress&&(i.addEventListener("progress",T),null!==s&&i.upload&&i.upload.addEventListener("progress",P)),i.send(s),r.next({type:Fr.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",_),i.removeEventListener("timeout",b),t.reportProgress&&(i.removeEventListener("progress",T),null!==s&&i.upload&&i.upload.removeEventListener("progress",P)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const av=new u.OlP("XSRF_ENABLED"),tE=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lv=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cv{}let rE=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Is(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(u.Lbi),u.LFG(tE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function iE(n,e){const t=n.url.toLowerCase();if(!(0,u.f3M)(av)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,u.f3M)(cv).getToken(),i=(0,u.f3M)(lv);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var pr=(()=>((pr=pr||{})[pr.Interceptors=0]="Interceptors",pr[pr.LegacyInterceptors=1]="LegacyInterceptors",pr[pr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",pr[pr.NoXsrfProtection=3]="NoXsrfProtection",pr[pr.JsonpSupport=4]="JsonpSupport",pr[pr.RequestsMadeViaParent=5]="RequestsMadeViaParent",pr))();function fd(n,e){return{\u0275kind:n,\u0275providers:e}}function oE(...n){const e=[hd,eE,Xw,{provide:Dg,useExisting:Xw},{provide:ws,useExisting:eE},{provide:Gh,useValue:iE,multi:!0},{provide:av,useValue:!0},{provide:cv,useClass:rE}];for(const t of n)e.push(...t.\u0275providers);return(0,u.MR2)(e)}const kg=new u.OlP("LEGACY_INTERCEPTOR_FN");let uv,Zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[oE(fd(pr.LegacyInterceptors,[{provide:kg,useFactory:Qw},{provide:Gh,useExisting:kg,multi:!0}]))]}),n})(),rS=(()=>{var n;class e{constructor(r){this.http=r,this.baseUrl=Ig_baseUrl}signup(r,i,s,c){return this.http.post(this.baseUrl+"account/signup",{username:r,password:i,email:s,believer:c})}login(r,i){return this.http.post(this.baseUrl+"account/login",{username:r,password:i})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(hd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Rt=(()=>{class n{constructor(t,r){this.document=t,this.platformId=r,this.documentIsAccessible=_u(this.platformId)}static getCookieRegExp(t){const r=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+r+"|;\\s*"+r+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const i=n.getCookieRegExp(t).exec(this.document.cookie);return i[1]?n.safeDecodeURIComponent(i[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},r=this.document;return r.cookie&&""!==r.cookie&&r.cookie.split(";").forEach(i=>{const[s,c]=i.split("=");t[n.safeDecodeURIComponent(s.replace(/^ /,""))]=n.safeDecodeURIComponent(c)}),t}set(t,r,i,s,c,h,_){if(!this.documentIsAccessible)return;if("number"==typeof i||i instanceof Date||s||c||h||_)return void this.set(t,r,{expires:i,path:s,domain:c,secure:h,sameSite:_||"Lax"});let b=encodeURIComponent(t)+"="+encodeURIComponent(r)+";";const x=i||{};x.expires&&(b+="number"==typeof x.expires?"expires="+new Date((new Date).getTime()+1e3*x.expires*60*60*24).toUTCString()+";":"expires="+x.expires.toUTCString()+";"),x.path&&(b+="path="+x.path+";"),x.domain&&(b+="domain="+x.domain+";"),!1===x.secure&&"None"===x.sameSite&&(x.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),x.secure&&(b+="secure;"),x.sameSite||(x.sameSite="Lax"),b+="sameSite="+x.sameSite+";",this.document.cookie=b}delete(t,r,i,s,c="Lax"){this.documentIsAccessible&&this.set(t,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:r,domain:i,secure:s,sameSite:c})}deleteAll(t,r,i,s="Lax"){if(!this.documentIsAccessible)return;const c=this.getAll();for(const h in c)c.hasOwnProperty(h)&&this.delete(h,t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Og=(()=>{var n;class e{constructor(r){this.cookieService=r}createUser(r){this.cookieService.set("user-token",r,{expires:2592e5})}logout(){this.cookieService.delete("user-token")}isExists(){return 0!==this.cookieService.get("user-token").length}getUser(){return this.cookieService.get("user-token")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Rt))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();try{uv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{uv=!1}let qh,si=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?_u(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!uv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lp=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Vp(){if(qh)return qh;if("object"!=typeof document||!document)return qh=new Set(Lp),qh;let n=document.createElement("input");return qh=new Set(Lp.filter(e=>(n.setAttribute("type",e),n.type===e))),qh}let Fn,Bp,md,Pg;function Wh(n){return function Kk(){if(null==Fn&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fn=!0}))}finally{Fn=Fn||!1}return Fn}()?n:!!n.capture}function dv(){if(null==md){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return md=!1,md;if("scrollBehavior"in document.documentElement.style)md=!0;else{const n=Element.prototype.scrollTo;md=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return md}function Zh(){if("object"!=typeof document||!document)return 0;if(null==Bp){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Bp=0,0===n.scrollLeft&&(n.scrollLeft=1,Bp=0===n.scrollLeft?1:2),n.remove()}return Bp}function Zc(n){return n.composedPath?n.composedPath()[0]:n.target}function gd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function pv(n){return xr((e,t)=>n<=t)}function mv(n,e=fs.y){return n=n??bE,(0,fr.e)((t,r)=>{let i,s=!0;t.subscribe((0,Zn.x)(r,c=>{const h=e(c);(s||!n(i,h))&&(s=!1,i=h,r.next(c))}))})}function bE(n,e){return n===e}var wE=L(5032);function La(n){return(0,fr.e)((e,t)=>{(0,zo.Xf)(n).subscribe((0,Zn.x)(t,()=>t.complete(),wE.Z)),!t.closed&&e.subscribe(t)})}function Va(n){return null!=n&&"false"!=`${n}`}function Ug(n){return Array.isArray(n)?n:[n]}function Lr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hl(n){return n instanceof u.SBq?n.nativeElement:n}var Hg=L(4986);function _d(n,e=Hg.z){return(0,fr.e)((t,r)=>{let i=null,s=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const b=s;s=null,r.next(b)}};function _(){const b=c+n,x=e.now();if(x<b)return i=this.schedule(void 0,b-x),void r.add(i);h()}t.subscribe((0,Zn.x)(r,b=>{s=b,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}const jg=new Set;let to,VS=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Hp}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function gv(n){if(!jg.has(n))try{to||(to=document.createElement("style"),to.setAttribute("type","text/css"),document.head.appendChild(to)),to.sheet&&(to.sheet.insertRule(`@media ${n} {body{ }}`,0),jg.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(si))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hp(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _v=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Wt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return EE(Ug(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Sc(EE(Ug(t)).map(c=>this._registerQuery(c).observable));return s=bl(s.pipe(Oi(1)),s.pipe(pv(1),_d(0))),s.pipe((0,ht.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Un.y(c=>{const h=_=>this._zone.run(()=>c.next(_));return r.addListener(h),()=>{r.removeListener(h)}}).pipe($o(r),(0,ht.U)(({matches:c})=>({query:t,matches:c})),La(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(VS),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EE(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function zg(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Kh(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ZS=new u.OlP("cdk-input-modality-detector-options"),bv={ignoreKeys:[18,17,224,91,16]},yd=Wh({passive:!0,capture:!0});let KS=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Mn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Zc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(zg(c)?"keyboard":"mouse"),this._mostRecentTarget=Zc(c))},this._onTouchstart=c=>{Kh(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zc(c))},this._options={...bv,...s},this.modalityDetected=this._modality.pipe(pv(1)),this.modalityChanged=this.modalityDetected.pipe(mv()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,yd),i.addEventListener("mousedown",this._onMousedown,yd),i.addEventListener("touchstart",this._onTouchstart,yd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yd),document.removeEventListener("mousedown",this._onMousedown,yd),document.removeEventListener("touchstart",this._onTouchstart,yd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(si),u.LFG(u.R0b),u.LFG(J),u.LFG(ZS,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YS=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function QS(){return null}}),wv=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let LE=0,Ev=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+LE++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const s=r[i],c=s.getAttribute("aria-owns");c?-1===c.indexOf(t)&&s.setAttribute("aria-owns",c+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YS,8),u.LFG(u.R0b),u.LFG(J),u.LFG(wv,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xv=new u.OlP("cdk-focus-monitor-default-options"),Iv=Wh({passive:!0,capture:!0});let VE=(()=>{class n{constructor(t,r,i,s,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Wt.x,this._rootNodeFocusAndBlurListener=h=>{for(let b=Zc(h);b;b=b.parentElement)"focus"===h.type?this._onFocus(h,b):this._onBlur(h,b)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=Hl(t);if(!this._platform.isBrowser||1!==i.nodeType)return tt(null);const s=function iS(n){if(function lE(){if(null==Pg){const n=typeof document<"u"?document.head:null;Pg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Pg}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const h={checkChildren:r,subject:new Wt.x,rootNode:s};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=Hl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Hl(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,_])=>this._originChanged(h,r,_)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Zc(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Iv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Iv)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(La(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Iv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Iv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(si),u.LFG(KS),u.LFG(J,8),u.LFG(xv,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dv="cdk-high-contrast-black-on-white",vd="cdk-high-contrast-white-on-black",Sv="cdk-high-contrast-active";let BE=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(_v).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Sv,Dv,vd),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Sv,Dv):2===r&&t.add(Sv,vd)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(si),u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gP=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function XS(){return(0,u.f3M)(J)}}),_P=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $p=(()=>{class n{constructor(t){this.value="ltr",this.change=new u.vpe,t&&(this.value=function JS(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?_P.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const aT=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function sT(){return!0}});let ra=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!gd()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BE),u.LFG(aT,8),u.LFG(J))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yh,Yh]}),n})();function CP(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Va(e)}constructor(...e){super(...e),this._disabled=!1}}}function cT(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function xP(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Va(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function IP(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let pT=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RP{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mT=Wh({passive:!0,capture:!0});class kP{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Zc(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const c=s.get(r);c?c.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,mT)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,mT)))}}const jE={enterDuration:225,exitDuration:150},zE=Wh({passive:!0,capture:!0}),_T=["mousedown","touchstart"],$E=["mouseup","mouseleave","touchend","touchcancel"];class Qh{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Hl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...jE,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function GE(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,_=t-i.top,b=s.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-c+"px",x.style.top=_-c+"px",x.style.height=2*c+"px",x.style.width=2*c+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(x);const T=window.getComputedStyle(x),V=T.transitionDuration,H="none"===T.transitionProperty||"0s"===V||"0s, 0s"===V||0===i.width&&0===i.height,Q=new RP(this,x,r,H);x.style.transform="scale3d(1, 1, 1)",Q.state=0,r.persistent||(this._mostRecentTransientRipple=Q);let oe=null;return!H&&(b||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ke=()=>this._finishRippleTransition(Q),Ze=()=>this._destroyRipple(Q);x.addEventListener("transitionend",ke),x.addEventListener("transitioncancel",Ze),oe={onTransitionEnd:ke,onTransitionCancel:Ze}}),this._activeRipples.set(Q,oe),(H||!b)&&this._finishRippleTransition(Q),Q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...jE,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Hl(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,_T.forEach(r=>{Qh._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$E.forEach(t=>{this._triggerElement.addEventListener(t,this,zE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=zg(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Kh(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(_T.forEach(t=>Qh._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&$E.forEach(t=>e.removeEventListener(t,this,zE)))}}Qh._eventManager=new kP;const OP=new u.OlP("mat-ripple-global-options");let Eo=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Qh(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(si),u.Y36(OP,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),yT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ra,ra]}),n})();const KE=["mat-button",""],YE=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],$g=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],QE=["mat-fab",""],xT=["mat-icon-button",""],UP=["*"],IT=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],JE=cT(CP(xP(class{constructor(n){this._elementRef=n}})));let eC=(()=>{class n extends JE{constructor(t,r,i,s){super(t),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=(0,u.f3M)(VE),this._isFab=!1;const c=t.nativeElement.classList;for(const h of IT)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(_=>{c.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(Eo,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},features:[u.qOj]}),n})(),kv=(()=>{class n extends eC{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(si),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:KE,ngContentSelectors:$g,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(u.F$t(YE),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),u.xp6(6),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Eo],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const rC=new u.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Ov});function Ov(){return{color:"accent"}}const Pv=Ov();let Nv=(()=>{class n extends eC{get extended(){return this._extended}set extended(t){this._extended=Va(t)}constructor(t,r,i,s,c){super(t,r,i,s),this._options=c,this._isFab=!0,this._options=this._options||Pv,this.color=this.defaultColor=this._options.color||Pv.color}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(si),u.Y36(u.R0b),u.Y36(u.QbO,8),u.Y36(rC,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[u.qOj],attrs:QE,ngContentSelectors:$g,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(u.F$t(YE),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),u.xp6(6),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Eo],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),iC=(()=>{class n extends eC{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(si),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:xT,ngContentSelectors:UP,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(u.F$t(),u._UZ(0,"span",0),u.Hsn(1),u._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(u.xp6(3),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Eo],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),AT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ra,yT,ra]}),n})();class MT{}class qP{}const Ba="*";function oC(n,e){return{type:7,name:n,definitions:e,options:{}}}function Vv(n,e=null){return{type:4,styles:e,timings:n}}function RT(n,e=null){return{type:2,steps:n,options:e}}function Xh(n){return{type:6,styles:n,offset:null}}function sC(n,e,t){return{type:0,name:n,styles:e,options:t}}function aC(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Xc(n){Promise.resolve().then(n)}class Jh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Gg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Xc(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++r==s&&this._onDestroy()}),c.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Gp="!";class uC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dC extends uC{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class Hv extends uC{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class OT extends uC{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class jv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof dC?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Hv?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof OT?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class PT extends jv{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let hC=(()=>{class n extends jv{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(J))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),zv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var eN=L(1144);const pC=["addListener","removeListener"],$v=["addEventListener","removeEventListener"],VT=["on","off"];function qg(n,e,t,r){if((0,Ri.m)(t)&&(r=t,t=void 0),r)return qg(n,e,t).pipe(jo(r));const[i,s]=function HT(n){return(0,Ri.m)(n.addEventListener)&&(0,Ri.m)(n.removeEventListener)}(n)?$v.map(c=>h=>n[c](e,h,t)):function tN(n){return(0,Ri.m)(n.addListener)&&(0,Ri.m)(n.removeListener)}(n)?pC.map(BT(n,e)):function UT(n){return(0,Ri.m)(n.on)&&(0,Ri.m)(n.off)}(n)?VT.map(BT(n,e)):[];if(!i&&(0,eN.z)(n))return(0,jn.z)(c=>qg(c,e,t))((0,zo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Un.y(c=>{const h=(..._)=>c.next(1<_.length?_:_[0]);return i(h),()=>s(h)})}function BT(n,e){return t=>r=>n[t](e,r)}var mC=L(4408);const Wg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Wg;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new _o.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Wg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Wg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var jT=L(7565);const zT=new class rN extends jT.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class nN extends mC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Wg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Wg.cancelAnimationFrame(t),e._scheduled=void 0)}});let gC,iN=1;const Gv={};function $T(n){return n in Gv&&(delete Gv[n],!0)}const oN={setImmediate(n){const e=iN++;return Gv[e]=!0,gC||(gC=Promise.resolve()),gC.then(()=>$T(e)&&n()),e},clearImmediate(n){$T(n)}},{setImmediate:a,clearImmediate:l}=oN,d={setImmediate(...n){const{delegate:e}=d;return(e?.setImmediate||a)(...n)},clearImmediate(n){const{delegate:e}=d;return(e?.clearImmediate||l)(n)},delegate:void 0},v=new class g extends jT.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class f extends mC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=d.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(d.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var R=L(3532);function W(n,e=Hg.z){return function D(n){return(0,fr.e)((e,t)=>{let r=!1,i=null,s=null,c=!1;const h=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const b=i;i=null,t.next(b)}c&&t.complete()},_=()=>{s=null,c&&t.complete()};e.subscribe((0,Zn.x)(t,b=>{r=!0,i=b,s||(0,zo.Xf)(n(b)).subscribe(s=(0,Zn.x)(t,h,_))},()=>{c=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function B(n=0,e,t=Hg.P){let r=-1;return null!=e&&((0,R.K)(e)?t=e:r=e),new Un.y(i=>{let s=function O(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const re=["contentWrapper"],Ce=["*"],je=new u.OlP("VIRTUAL_SCROLL_STRATEGY");let Ut=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Wt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Un.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(W(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(xr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Hl(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(si),u.LFG(J,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zn=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new Wt.x,this._elementScrolled=new Un.y(c=>this.ngZone.runOutsideAngular(()=>qg(this.elementRef.nativeElement,"scroll").pipe(La(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Zh()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Zh()?t.left=t.right:1==Zh()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;dv()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?i:r:"end"==t&&(t=c?r:i),c&&2==Zh()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Zh()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Ut),u.Y36(u.R0b),u.Y36($p,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),_C=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Wt.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(W(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(si),u.LFG(u.R0b),u.LFG(J,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sN=new u.OlP("VIRTUAL_SCROLLABLE");let _4=(()=>{class n extends zn{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Ut),u.Y36(u.R0b),u.Y36($p,8))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const v4=typeof requestAnimationFrame<"u"?zT:v;let b4=(()=>{class n extends _4{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Va(t)}constructor(t,r,i,s,c,h,_,b){super(t,h,i,c),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=b,this._platform=(0,u.f3M)(si),this._detachedSubject=new Wt.x,this._renderedRangeSubject=new Wt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Un.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(T=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(T))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=_o.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe($o(null),W(0,v4)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(La(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function y4(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,c=s?"X":"Y";let _=`translate${c}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(_+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",c="rtl"==this.dir?.value;r="start"==t?c?s:i:"end"==t?c?i:s:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(je,8),u.Y36($p,8),u.Y36(Ut),u.Y36(_C),u.Y36(sN,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&u.Gf(re,7),2&t){let i;u.iGM(i=u.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[u._Bn([{provide:zn,useFactory:(e,t)=>e||t,deps:[[new u.FiY,new u.tBr(sN)],n]}]),u.qOj,u.jDz],ngContentSelectors:Ce,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(3),u.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),lN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yh,aN,b4,Yh,aN]}),n})();var GT=L(6451);const cN=dv();class w4{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Lr(-this._previousScrollPosition.left),e.style.top=Lr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),cN&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cN&&(r.scrollBehavior=s,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class E4{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(xr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uN{enable(){}disable(){}attach(){}}function qT(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function dN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class C4{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();qT(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x4=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new uN,this.close=c=>new E4(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new w4(this._viewportRuler,this._document),this.reposition=c=>new C4(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ut),u.LFG(_C),u.LFG(u.R0b),u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hN{constructor(e){if(this.scrollStrategy=new uN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class I4{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let fN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D4=(()=>{class n extends fN{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S4=(()=>{class n extends fN{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Zc(s)},this._clickListener=s=>{const c=Zc(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const x=_[b];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(c)||x.overlayElement.contains(h))break;const T=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(si),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pN=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||gd()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),gd()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(si))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class T4{constructor(e,t,r,i,s,c,h,_,b,x=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new Wt.x,this._attachments=new Wt.x,this._detachments=new Wt.x,this._locationChanges=_o.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Wt.x,this._outsidePointerEvents=new Wt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Oi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Lr(this._config.width),e.height=Lr(this._config.height),e.minWidth=Lr(this._config.minWidth),e.minHeight=Lr(this._config.minHeight),e.maxWidth=Lr(this._config.maxWidth),e.maxHeight=Lr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Ug(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(La((0,GT.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const mN="cdk-overlay-connected-position-bounding-box",A4=/([A-Za-z%]+)$/;class M4{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Wt.x,this._resizeSubscription=_o.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(mN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let _=this._getOriginPoint(e,i,h),b=this._getOverlayPoint(_,t,h),x=this._getOverlayFit(b,t,r,h);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(x,b,r)?s.push({position:h,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!c||c.overlayFit.visibleArea<x.visibleArea)&&(c={overlayFit:x,overlayPoint:b,originPoint:_,position:h,overlayRect:t})}if(s.length){let h=null,_=-1;for(const b of s){const x=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);x>_&&(_=x,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?c:h}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=_N(t);let{x:c,y:h}=e,_=this._getOffset(i,"x"),b=this._getOffset(i,"y");_&&(c+=_),b&&(h+=b);let P=0-h,V=h+s.height-r.height,H=this._subtractOverflows(s.width,0-c,c+s.width-r.width),Q=this._subtractOverflows(s.height,P,V),oe=H*Q;return{visibleArea:oe,isCompletelyWithinViewport:s.width*s.height===oe,fitsInViewportVertically:Q===s.height,fitsInViewportHorizontally:H==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,c=gN(this._overlayRef.getConfig().minHeight),h=gN(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=i)&&(e.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=_N(t),s=this._viewportRect,c=Math.max(e.x+i.width-s.width,0),h=Math.max(e.y+i.height-s.height,0),_=Math.max(s.top-r.top-e.y,0),b=Math.max(s.left-r.left-e.x,0);let x=0,T=0;return x=i.width<=s.width?b||-c:e.x<this._viewportMargin?s.left-r.left-e.x:0,T=i.height<=s.height?_||-h:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x,y:T},{x:e.x+x,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new I4(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,c,h,x,T,P;if("top"===t.overlayY)c=e.y,s=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,s=r.height-h+this._viewportMargin;else{const V=Math.min(r.bottom-e.y+r.top,e.y),H=this._lastBoundingBoxSize.height;s=2*V,c=e.y-V,s>H&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-H/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)P=r.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)T=e.x,x=r.right-e.x;else{const V=Math.min(r.right-e.x+r.left,e.x),H=this._lastBoundingBoxSize.width;x=2*V,T=e.x-V,x>H&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-H/2)}return{top:c,left:T,bottom:h,right:P,width:x,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Lr(r.height),i.top=Lr(r.top),i.bottom=Lr(r.bottom),i.width=Lr(r.width),i.left=Lr(r.left),i.right=Lr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Lr(s)),c&&(i.maxWidth=Lr(c))}this._lastBoundingBoxSize=r,qp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){qp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const x=this._viewportRuler.getViewportScrollPosition();qp(r,this._getExactOverlayY(t,e,x)),qp(r,this._getExactOverlayX(t,e,x))}else r.position="static";let h="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=Lr(c.maxHeight):s&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Lr(c.maxWidth):s&&(r.maxWidth="")),qp(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Lr(s.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Lr(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dN(e,r),isOriginOutsideView:qT(e,r),isOverlayClipped:dN(t,r),isOverlayOutsideView:qT(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ug(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function qp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function gN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(A4);return t&&"px"!==t?null:parseFloat(e)}return n||null}function _N(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const yN="cdk-global-overlay-wrapper";class R4{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(yN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:c,maxHeight:h}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),b=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),x=this._xPosition,T=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let V="",H="",Q="";_?Q="flex-start":"center"===x?(Q="center",P?H=T:V=T):P?"left"===x||"end"===x?(Q="flex-end",V=T):("right"===x||"start"===x)&&(Q="flex-start",H=T):"left"===x||"start"===x?(Q="flex-start",V=T):("right"===x||"end"===x)&&(Q="flex-end",H=T),e.position=this._cssPosition,e.marginLeft=_?"0":V,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":H,t.justifyContent=Q,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(yN),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let k4=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new R4}flexibleConnectedTo(t){return new M4(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_C),u.LFG(J),u.LFG(si),u.LFG(pN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O4=0,yC=(()=>{class n{constructor(t,r,i,s,c,h,_,b,x,T,P,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=_,this._document=b,this._directionality=x,this._location=T,this._outsideClickDispatcher=P,this._animationsModuleType=V}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),c=new hN(t);return c.direction=c.direction||this._directionality.value,new T4(s,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+O4++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new PT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x4),u.LFG(pN),u.LFG(u._Vd),u.LFG(k4),u.LFG(D4),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(J),u.LFG($p),u.LFG(ze),u.LFG(S4),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F4={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[yC],useFactory:function N4(n){return()=>n.scrollStrategies.reposition()}};let L4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yC,F4],imports:[Yh,zv,lN,lN]}),n})();function V4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2)(1,"button",3),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.action())}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.hij(" ",t.data.action," ")}}const B4=["label"];function U4(n,e){}const H4=Math.pow(2,31)-1;class WT{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Wt.x,this._afterOpened=new Wt.x,this._onAction=new Wt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,H4))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const vN=new u.OlP("MatSnackBarData");class vC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let j4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),$4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),G4=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(WT),u.Y36(vN))},n.\u0275cmp=u.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._uU(1),u.qZA(),u.YNc(2,V4,3,1,"div",1)),2&t&&(u.xp6(1),u.hij(" ",r.data.message,"\n"),u.xp6(1),u.Q6J("ngIf",r.hasAction))},dependencies:[Or,kv,j4,z4,$4],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const q4={snackBarState:oC("state",[sC("void, hidden",Xh({transform:"scale(0.8)",opacity:0})),sC("visible",Xh({transform:"scale(1)",opacity:1})),aC("* => visible",Vv("150ms cubic-bezier(0, 0, 0.2, 1)")),aC("* => void, * => hidden",Vv("75ms cubic-bezier(0.4, 0.0, 1, 1)",Xh({opacity:0})))])};let W4=0,Z4=(()=>{class n extends jv{constructor(t,r,i,s,c){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=c,this._document=(0,u.f3M)(J),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Wt.x,this._onExit=new Wt.x,this._onEnter=new Wt.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+W4++,this.attachDomPortal=h=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),_},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),r}attachTemplatePortal(t){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),r}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Oi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const s=r[i],c=s.getAttribute("aria-owns");this._trackedModals.add(s),c?-1===c.indexOf(t)&&s.setAttribute("aria-owns",c+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const r=t.getAttribute("aria-owns");if(r){const i=r.replace(this._liveElementId,"").trim();i.length>0?t.setAttribute("aria-owns",i):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(si),u.Y36(vC))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(hC,7),2&t){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first)}},features:[u.qOj]}),n})(),K4=(()=>{class n extends Z4{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,r="mdc-snackbar__label";t.classList.toggle(r,!t.querySelector(`.${r}`))}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,r){if(1&t&&u.Gf(B4,7),2&t){let i;u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,r){1&t&&u.WFA("@state.done",function(s){return r.onAnimationEnd(s)}),2&t&&u.d8E("@state",r._animationState)},features:[u.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),u.YNc(4,U4,0,0,"ng-template",4),u.qZA(),u._UZ(5,"div"),u.qZA()()),2&t&&(u.xp6(5),u.uIk("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[hC],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[q4.snackBarState]}}),n})(),bN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[L4,zv,ni,AT,ra,ra]}),n})();const wN=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Y4(){return new vC}});let Q4=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,r,i,s,c,h){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const s={...this._defaultConfig,...i};return s.data={message:t,action:r},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const s=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:vC,useValue:r}]}),c=new dC(this.snackBarContainerComponent,r.viewContainerRef,s),h=t.attach(c);return h.instance.snackBarConfig=r,h.instance}_attach(t,r){const i={...new vC,...this._defaultConfig,...r},s=this._createOverlay(i),c=this._attachSnackBarContainer(s,i),h=new WT(c,s);if(t instanceof u.Rgc){const _=new Hv(t,null,{$implicit:i.data,snackBarRef:h});h.instance=c.attachTemplatePortal(_)}else{const _=this._createInjector(i,h),b=new dC(t,void 0,_),x=c.attachComponentPortal(b);h.instance=x.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(La(s.detachments())).subscribe(_=>{s.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(h,i),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new hN;r.direction=t.direction;let i=this._overlay.position().global();const s="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,h=!c&&"center"!==t.horizontalPosition;return c?i.left("0"):h?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return u.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:WT,useValue:r},{provide:vN,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yC),u.LFG(Ev),u.LFG(u.zs3),u.LFG(_v),u.LFG(n,12),u.LFG(wN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ZT=(()=>{class n extends Q4{constructor(t,r,i,s,c,h){super(t,r,i,s,c,h),this.simpleSnackBarComponent=G4,this.snackBarContainerComponent=K4,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yC),u.LFG(Ev),u.LFG(u.zs3),u.LFG(_v),u.LFG(n,12),u.LFG(wN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:bN}),n})(),EN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X4=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Hl(t);return new Un.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Wt.x,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J4=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Va(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function LS(n,e=0){return function iP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(_d(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(X4),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),e6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[EN]}),n})();const t6=["matFormFieldNotchedOutline",""],n6=["*"],r6=["textField"],i6=["iconPrefixContainer"],o6=["textPrefixContainer"];function s6(n,e){1&n&&u._UZ(0,"span",19)}function a6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",17),u.NdJ("cdkObserveContent",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i._refreshOutlineNotchWidth())}),u.Hsn(1,1),u.YNc(2,s6,1,0,"span",18),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function l6(n,e){if(1&n&&u.YNc(0,a6,3,6,"label",16),2&n){const t=u.oxw();u.Q6J("ngIf",t._hasFloatingLabel())}}function c6(n,e){1&n&&u._UZ(0,"div",20)}function u6(n,e){}function d6(n,e){if(1&n&&u.YNc(0,u6,0,0,"ng-template",22),2&n){u.oxw(2);const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function h6(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,d6,1,1,"ng-template",9),u.qZA()),2&n){const t=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),u.xp6(1),u.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function f6(n,e){1&n&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function p6(n,e){1&n&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function m6(n,e){}function g6(n,e){if(1&n&&u.YNc(0,m6,0,0,"ng-template",22),2&n){u.oxw();const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function _6(n,e){1&n&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function y6(n,e){1&n&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function v6(n,e){1&n&&u._UZ(0,"div",29)}function b6(n,e){if(1&n&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function w6(n,e){if(1&n&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function E6(n,e){if(1&n&&(u.TgZ(0,"div",31),u.YNc(1,w6,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const C6=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],x6=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),I6=0;const CN=new u.OlP("MatError");let KT=(()=>{class n{constructor(t,r){this.id="mat-mdc-error-"+I6++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("aria-live"),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,r){2&t&&u.Ikx("id",r.id)},inputs:{id:"id"},features:[u._Bn([{provide:CN,useExisting:n}])]}),n})(),D6=0,xN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+D6++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(u.Ikx("id",r.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const S6=new u.OlP("MatPrefix"),IN=new u.OlP("MatSuffix");let DN=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[u._Bn([{provide:IN,useExisting:n}])]}),n})(),SN=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function T6(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const TN="mdc-line-ripple--active",bC="mdc-line-ripple--deactivating";let AN=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const s=this._elementRef.nativeElement.classList,c=s.contains(bC);"opacity"===i.propertyName&&c&&s.remove(TN,bC)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(bC),t.add(TN)}deactivate(){this._elementRef.nativeElement.classList.add(bC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),MN=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:t6,ngContentSelectors:n6,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(1),u.Udp("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const A6={transitionMessages:oC("transitionMessages",[sC("enter",Xh({opacity:1,transform:"translateY(0%)"})),aC("void => enter",[Xh({opacity:0,transform:"translateY(-5px)"}),Vv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let RN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const kN=new u.OlP("MatFormField"),M6=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ON=0,YT=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Va(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,s,c,h,_,b){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=s,this._platform=c,this._defaults=h,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ON++,this._hintLabelId="mat-mdc-hint-"+ON++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Wt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=Boolean(h?.hideRequiredMarker),h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(La(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,GT.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(La(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(La(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36($p),u.Y36(si),u.Y36(M6,8),u.Y36(u.QbO,8),u.Y36(J))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,qv,5),u.Suo(i,qv,7),u.Suo(i,RN,5),u.Suo(i,S6,5),u.Suo(i,IN,5),u.Suo(i,CN,5),u.Suo(i,xN,5)),2&t){let s;u.iGM(s=u.CRH())&&(r._labelChildNonStatic=s.first),u.iGM(s=u.CRH())&&(r._labelChildStatic=s.first),u.iGM(s=u.CRH())&&(r._formFieldControl=s.first),u.iGM(s=u.CRH())&&(r._prefixChildren=s),u.iGM(s=u.CRH())&&(r._suffixChildren=s),u.iGM(s=u.CRH())&&(r._errorChildren=s),u.iGM(s=u.CRH())&&(r._hintChildren=s)}},viewQuery:function(t,r){if(1&t&&(u.Gf(r6,5),u.Gf(i6,5),u.Gf(o6,5),u.Gf(SN,5),u.Gf(MN,5),u.Gf(AN,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._textField=i.first),u.iGM(i=u.CRH())&&(r._iconPrefixContainer=i.first),u.iGM(i=u.CRH())&&(r._textPrefixContainer=i.first),u.iGM(i=u.CRH())&&(r._floatingLabel=i.first),u.iGM(i=u.CRH())&&(r._notchedOutline=i.first),u.iGM(i=u.CRH())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&u.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:kN,useExisting:n}])],ngContentSelectors:x6,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(u.F$t(C6),u.YNc(0,l6,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),u.YNc(4,c6,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,h6,2,3,"div",5),u.YNc(7,f6,3,0,"div",6),u.YNc(8,p6,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,g6,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,_6,2,0,"div",10),u.YNc(13,y6,2,0,"div",11),u.qZA(),u.YNc(14,v6,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,b6,2,1,"div",14),u.YNc(17,E6,5,2,"div",15),u.qZA()),2&t&&(u.xp6(2),u.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),u.xp6(2),u.Q6J("ngIf",r._hasOutline()),u.xp6(1),u.Q6J("ngIf",r._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",r._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",r._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",r._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!r._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[Or,lr,fo,os,J4,xN,SN,MN,AN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[A6.transitionMessages]},changeDetection:0}),n})(),QT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ra,ni,e6,ra]}),n})();const FN=Wh({passive:!0});let O6=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ki.E;const r=Hl(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new Wt.x,c="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,FN),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",h,FN)}}),s}stopMonitoring(t){const r=Hl(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(si),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const N6=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),F6=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let L6=0;const V6=IP(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new Wt.x}});let XT=(()=>{class n extends V6{get disabled(){return this._disabled}set disabled(t){this._disabled=Va(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Fl.required)??!1}set required(t){this._required=Va(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Vp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Va(t)}constructor(t,r,i,s,c,h,_,b,x,T){super(h,s,c,i),this._elementRef=t,this._platform=r,this._autofillMonitor=b,this._formField=T,this._uid="mat-input-"+L6++,this.focused=!1,this.stateChanges=new Wt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>Vp().has(H)),this._iOSKeyupListener=H=>{const Q=H.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,V=P.nodeName.toLowerCase();this._inputValueAccessor=_||P,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&x.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){F6.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(si),u.Y36(Ll,10),u.Y36(Vl,8),u.Y36(Bl,8),u.Y36(pT),u.Y36(N6,10),u.Y36(O6),u.Y36(u.R0b),u.Y36(kN,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),u.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),u.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:RN,useExisting:n}]),u.qOj,u.TTD]}),n})(),B6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ra,QT,QT,P6,ra]}),n})();var LN=L(3099);const U6=["*"];let wC;function Wv(n){return function H6(){if(void 0===wC&&(wC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(wC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return wC}()?.createHTML(n)||n}function VN(n){return Error(`Unable to find icon with the name "${n}"`)}function BN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function UN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Wp{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let EC=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Wp(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const c=this._sanitizer.sanitize(u.q3G.HTML,i);if(!c)throw UN(i);const h=Wv(c);return this._addSvgIconConfig(t,r,new Wp("",h,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Wp(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(u.q3G.HTML,r);if(!s)throw UN(r);const c=Wv(s);return this._addSvgIconSetConfig(t,new Wp("",c,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw BN(t);const i=this._cachedIconsByUrl.get(r);return i?tt(CC(i)):this._loadSvgIconFromConfig(new Wp(t,null)).pipe((0,Kn.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,ht.U)(s=>CC(s)))}getNamedSvgIcon(t,r=""){const i=HN(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):Sa(VN(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?tt(CC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ht.U)(r=>CC(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?tt(i):og(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ms(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),tt(null)})))).pipe((0,ht.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw VN(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Kn.b)(r=>t.svgText=r),(0,ht.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?tt(null):this._fetchIcon(t).pipe((0,Kn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const h=this._svgElementFromString(Wv("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Wv("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:c,value:h}=i[s];"id"!==c&&r.setAttribute(c,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function j6(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!c)throw BN(r);const h=this._inProgressUrlFetches.get(c);if(h)return h;const _=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,ht.U)(b=>Wv(b)),wl(()=>this._inProgressUrlFetches.delete(c)),(0,LN.B)());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(HN(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return $6(s)?new Wp(s.url,null,s.options):new Wp(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hd,8),u.LFG(Cc),u.LFG(J,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CC(n){return n.cloneNode(!0)}function HN(n,e){return n+":"+e}function $6(n){return!(!n.url||!n.options)}const G6=cT(class{constructor(n){this._elementRef=n}}),q6=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),W6=new u.OlP("mat-icon-location",{providedIn:"root",factory:function Z6(){const n=(0,u.f3M)(J),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),jN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],K6=jN.map(n=>`[${n}]`).join(", "),Y6=/^url\(['"]?#(.*?)['"]?\)$/;let zN=(()=>{class n extends G6{get inline(){return this._inline}set inline(t){this._inline=Va(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,c,h){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_o.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(K6),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)jN.forEach(c=>{const h=r[s],_=h.getAttribute(c),b=_?_.match(Y6):null;if(b){let x=i.get(h);x||(x=[],i.set(h,x)),x.push({name:c,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Oi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(EC),u.$8M("aria-hidden"),u.Y36(W6),u.Y36(u.qLn),u.Y36(q6,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:U6,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Q6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ra,ra]}),n})();function X6(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Username is "),u.TgZ(2,"strong"),u._uU(3,"required"),u.qZA()())}function J6(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Please enter your password "),u.qZA())}function e5(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Password is "),u.TgZ(2,"strong"),u._uU(3,"required"),u.qZA()())}const t5=function(n){return{display:n}};let n5=(()=>{var n;class e{constructor(r,i,s,c){this.userService=r,this.cookieService=i,this.route=s,this.snackBar=c,this.hide=!0,this.uploading=!1,this.loginForm=new Nh({user:new na(null,[Fl.required]),password:new na(null,[Fl.required])})}ngOnInit(){this.cookieService.isExists()&&this.route.navigate(["/dashboard"])}login(){this.uploading=!0,this.userService.login(this.loginForm.get("user")?.value,this.loginForm.get("password")?.value).subscribe(r=>{this.openSnackBar("Login Success!","OK"),this.cookieService.createUser(r.data.token),this.route.navigateByUrl("/dashboard"),this.uploading=!1},r=>{this.openSnackBar("Login Failed! try again!","OK"),console.log(r),this.uploading=!1})}openSnackBar(r,i){this.snackBar.open(r,i,{duration:2e3})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(rS),u.Y36(Og),u.Y36(Sr),u.Y36(ZT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-auth"]],decls:26,vars:11,consts:[[1,"container"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"image"],["src","./assets/images/login.png","alt","login"],[3,"ngStyle"],[1,"loading"],[1,"spinner"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["matInput","","formControlName","user","placeholder","Ex. Username"],[4,"ngIf"],["matInput","","formControlName","password","placeholder","dagi-97w3-bjh@",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",2,"width","100%",3,"click"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4)(5,"div",5)(6,"p"),u._uU(7,"Loading..."),u.qZA(),u._UZ(8,"div",6),u.qZA()(),u.TgZ(9,"form",7)(10,"mat-form-field",8)(11,"mat-label"),u._uU(12,"Username"),u.qZA(),u._UZ(13,"input",9),u.YNc(14,X6,4,0,"mat-error",10),u.qZA(),u.TgZ(15,"mat-form-field",8)(16,"mat-label"),u._uU(17,"Password"),u.qZA(),u._UZ(18,"input",11),u.TgZ(19,"button",12),u.NdJ("click",function(){return i.hide=!i.hide}),u.TgZ(20,"mat-icon"),u._uU(21),u.qZA()(),u.YNc(22,J6,2,0,"mat-error",10),u.YNc(23,e5,4,0,"mat-error",10),u.qZA(),u.TgZ(24,"button",13),u.NdJ("click",function(){return i.login()}),u._uU(25,"Authorize"),u.qZA()()()()),2&r&&(u.xp6(4),u.Q6J("ngStyle",u.VKq(9,t5,i.uploading?"block":"none")),u.xp6(5),u.Q6J("formGroup",i.loginForm),u.xp6(5),u.Q6J("ngIf",i.loginForm.hasError("required")),u.xp6(4),u.Q6J("type",i.hide?"password":"text"),u.xp6(1),u.uIk("aria-label","Hide password")("aria-pressed",i.hide),u.xp6(2),u.Oqu(i.hide?"visibility_off":"visibility"),u.xp6(1),u.Q6J("ngIf",!i.loginForm.hasError("required")),u.xp6(1),u.Q6J("ngIf",i.loginForm.hasError("required")))},dependencies:[Or,fi,Hh,Hc,zc,Oy,Bl,jh,YT,qv,KT,DN,XT,kv,iC,zN],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:10vw 3vw;border:2px solid red;border-radius:25px;padding:3vw}.example-full-width[_ngcontent-%COMP%]{width:100%}.image[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%,-50%)}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#fffc;z-index:9999999}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;color:#333}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();function r5(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Username is "),u.TgZ(2,"strong"),u._uU(3,"required"),u.qZA()())}function o5(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Please enter your password "),u.qZA())}function s5(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Email is "),u.TgZ(2,"strong"),u._uU(3,"required"),u.qZA()())}function a5(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," believer's Email is "),u.TgZ(2,"strong"),u._uU(3,"required"),u.qZA()())}const l5=function(n){return{display:n}};let c5=(()=>{var n;class e{constructor(r,i,s,c){this.userService=r,this.cookieService=i,this.route=s,this.snackBar=c,this.hide=!0,this.uploading=!1,this.signUpForm=new Nh({user:new na(null,[Fl.required]),password:new na(null,[Fl.required]),email:new na(null,[Fl.required]),believer:new na(null,[Fl.required])})}ngOnInit(){this.cookieService.isExists()&&this.route.navigate(["/dashboard"])}create(){this.uploading=!0,this.userService.signup(this.signUpForm.get("user")?.value,this.signUpForm.get("password")?.value,this.signUpForm.get("email")?.value,this.signUpForm.get("believer")?.value).subscribe(r=>{this.openSnackBar("Signup Successfully!","OK"),this.cookieService.createUser(r.data.token),this.route.navigateByUrl("/dashboard"),this.uploading=!1},r=>{this.openSnackBar("Somethings wrong! try again!","OK"),console.log(r),this.uploading=!1})}openSnackBar(r,i){this.snackBar.open(r,i,{duration:2e3})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(rS),u.Y36(Og),u.Y36(Sr),u.Y36(ZT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-create"]],decls:35,vars:12,consts:[[1,"container"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"image"],["src","./assets/images/login.png","alt","login"],[3,"ngStyle"],[1,"loading"],[1,"spinner"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","user","placeholder","Ex. Username"],[4,"ngIf"],["matInput","","formControlName","password","placeholder","dagi-97w3-bjh@",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","email","placeholder","Ex. sample@gmail.com"],["matInput","","formControlName","believer","placeholder","Ex. believer@gmail.com"],["mat-raised-button","","color","primary",2,"width","100%"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"div",4)(5,"div",5)(6,"p"),u._uU(7,"Loading..."),u.qZA(),u._UZ(8,"div",6),u.qZA()(),u.TgZ(9,"form",7),u.NdJ("ngSubmit",function(){return i.create()}),u.TgZ(10,"mat-form-field",8)(11,"mat-label"),u._uU(12,"Username"),u.qZA(),u._UZ(13,"input",9),u.YNc(14,r5,4,0,"mat-error",10),u.qZA(),u.TgZ(15,"mat-form-field",8)(16,"mat-label"),u._uU(17,"Password"),u.qZA(),u._UZ(18,"input",11),u.TgZ(19,"button",12),u.NdJ("click",function(){return i.hide=!i.hide}),u.TgZ(20,"mat-icon"),u._uU(21),u.qZA()(),u.YNc(22,o5,2,0,"mat-error",10),u.qZA(),u.TgZ(23,"mat-form-field",8)(24,"mat-label"),u._uU(25,"Your Email"),u.qZA(),u._UZ(26,"input",13),u.YNc(27,s5,4,0,"mat-error",10),u.qZA(),u.TgZ(28,"mat-form-field",8)(29,"mat-label"),u._uU(30,"believer's Email"),u.qZA(),u._UZ(31,"input",14),u.YNc(32,a5,4,0,"mat-error",10),u.qZA(),u.TgZ(33,"button",15),u._uU(34,"Create Account"),u.qZA()()()()),2&r&&(u.xp6(4),u.Q6J("ngStyle",u.VKq(10,l5,i.uploading?"block":"none")),u.xp6(5),u.Q6J("formGroup",i.signUpForm),u.xp6(5),u.Q6J("ngIf",i.signUpForm.hasError("required")),u.xp6(4),u.Q6J("type",i.hide?"password":"text"),u.xp6(1),u.uIk("aria-label","Hide password")("aria-pressed",i.hide),u.xp6(2),u.Oqu(i.hide?"visibility_off":"visibility"),u.xp6(1),u.Q6J("ngIf",!i.signUpForm.hasError("required")),u.xp6(5),u.Q6J("ngIf",i.signUpForm.hasError("required")),u.xp6(5),u.Q6J("ngIf",i.signUpForm.hasError("required")))},dependencies:[Or,fi,Hh,Hc,zc,Oy,Bl,jh,YT,qv,KT,DN,XT,kv,iC,zN],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:10vw 3vw;border:2px solid red;border-radius:25px;padding:3vw}.example-full-width[_ngcontent-%COMP%]{width:100%}.image[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%,-50%)}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#fffc;z-index:9999}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;color:#333}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();var ge=L(5861);let u5=(()=>{var n;class e{constructor(r){this.http=r,this.baseUrl=Ig_baseUrl}startAttendance(r){return this.http.post(this.baseUrl+"attendance/start",{token:r})}stopAttendance(){return this.http.post(this.baseUrl+"attendance/stop",{})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(hd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function d5(n,e){1&n&&(u.TgZ(0,"div",17)(1,"p"),u._uU(2,"Loading..."),u.qZA(),u._UZ(3,"div",18),u.qZA())}let h5=(()=>{var n;class e{constructor(r,i,s,c,h){this.cookieService=r,this.router=i,this.authService=s,this.cdr=c,this.attendanceService=h,this.isAlive=!1,this.isFunctionRunning=!1,this.uploading=!1}logout(){this.cookieService.delete("user-token"),this.router.navigate(["/auth"])}handleCheckboxChange(){var r=this;return(0,ge.Z)(function*(){if(r.isFunctionRunning)return;r.isFunctionRunning=!0;const i=r.authService.getUser();try{r.isAlive?yield r.startAttendance(i):yield r.stopAttendance()}catch(s){console.error(s)}finally{r.isFunctionRunning=!1}})()}startAttendance(r){var i=this;return(0,ge.Z)(function*(){200===(yield i.attendanceService.startAttendance(r).toPromise()).data.status&&(i.isAlive=!1,i.attendanceService.stopAttendance().subscribe(c=>{console.log("Attendance stopped:",c)}))})()}stopAttendance(){var r=this;return(0,ge.Z)(function*(){const i=yield r.attendanceService.stopAttendance().toPromise();console.log("Attendance stopped:",i)})()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(Rt),u.Y36(Sr),u.Y36(Og),u.Y36(u.sBO),u.Y36(u5))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:32,vars:2,consts:[[1,"container"],[1,"attendee"],["for","aliveCheckbox"],["type","checkbox","id","aliveCheckbox",3,"ngModel","ngModelChange","change"],[1,"row"],[1,"col-12","col-sm-6","col-md-3","folder"],["href","#/notes"],["src","./assets/images/folder.png","alt","notes","title","Notes"],["href","#/images"],["src","./assets/images/folder.png","alt","images","title","Images"],["href","#/videos"],["src","./assets/images/folder.png","alt","videos","title","Videos"],["href","#/audios"],["src","./assets/images/folder.png","alt","audios","title","Audios"],["mat-fab","","color","primary","title","Logout",1,"add-button",3,"click"],[1,"material-icons"],["class","loading",4,"ngIf"],[1,"loading"],[1,"spinner"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"p"),u._uU(2,"Hello! Welcome to Kavi's personal secret wallet. If you are not the author, surely you got this after his pass away. He trusted you! Never break it !!!"),u.qZA(),u.TgZ(3,"div",1)(4,"label",2),u._uU(5,"I'm still alive\xa0\xa0"),u.qZA(),u.TgZ(6,"input",3),u.NdJ("ngModelChange",function(c){return i.isAlive=c})("change",function(){return i.handleCheckboxChange()}),u.qZA()(),u.TgZ(7,"div",4)(8,"div",5)(9,"a",6),u._UZ(10,"img",7),u.TgZ(11,"p"),u._uU(12,"Notes"),u.qZA()()(),u.TgZ(13,"div",5)(14,"a",8),u._UZ(15,"img",9),u.TgZ(16,"p"),u._uU(17,"Images"),u.qZA()()(),u.TgZ(18,"div",5)(19,"a",10),u._UZ(20,"img",11),u.TgZ(21,"p"),u._uU(22,"Videos"),u.qZA()()(),u.TgZ(23,"div",5)(24,"a",12),u._UZ(25,"img",13),u.TgZ(26,"p"),u._uU(27,"Audios"),u.qZA()()()(),u.TgZ(28,"button",14),u.NdJ("click",function(){return i.logout()}),u.TgZ(29,"i",15),u._uU(30,"power_settings_new"),u.qZA()(),u.YNc(31,d5,4,0,"div",16),u.qZA()),2&r&&(u.xp6(6),u.Q6J("ngModel",i.isAlive),u.xp6(25),u.Q6J("ngIf",i.uploading))},dependencies:[Or,bp,zc,Nv,Mp],styles:["@keyframes _ngcontent-%COMP%_folder{0%{transform:rotate(0)}50%{transform:rotate(15deg)}to{transform:rotate(0)}}p[_ngcontent-%COMP%]{padding:3vw 0;text-align:center}.folder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.folder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{animation:.8s _ngcontent-%COMP%_folder ease-in-out infinite}.folder[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--light);font-size:24px}.folder[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary)}button[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px}.attendee[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;color:var(--primary)}.attendee[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;height:30px;width:30px}.attendee[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{color:#fff;display:flex;align-items:center;justify-content:center;pointer-events:none;position:absolute;inset:0}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#fffc;z-index:9999}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;color:#333}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})(),JT=(()=>{var n;class e{constructor(r){this.http=r,this.baseUrl=Ig_baseUrl}saveNote(r){return this.http.post(this.baseUrl+"notes/save",{title:r.title,content:r.content})}getNotes(){return this.http.get(this.baseUrl+"notes/all")}getNote(r){return this.http.get(this.baseUrl+"notes/get/"+r)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(hd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const f5=function(n){return["/view-note",n]};function p5(n,e){if(1&n&&(u.TgZ(0,"div",12)(1,"a",13)(2,"div",14),u.O4$(),u.TgZ(3,"svg",15),u._UZ(4,"path",16)(5,"path",17)(6,"path",18)(7,"path",19)(8,"path",20)(9,"path",21)(10,"path",22)(11,"path",23)(12,"path",24)(13,"path",25)(14,"path",26)(15,"path",27)(16,"path",28)(17,"path",29)(18,"path",30)(19,"path",31)(20,"path",32),u.TgZ(21,"g"),u._UZ(22,"path",33)(23,"path",34),u.qZA(),u.TgZ(24,"g"),u._UZ(25,"path",35)(26,"path",36),u.qZA(),u.TgZ(27,"g"),u._UZ(28,"path",37)(29,"path",38),u.qZA(),u.TgZ(30,"g"),u._UZ(31,"path",39)(32,"path",40),u.qZA(),u._UZ(33,"path",41),u.TgZ(34,"g"),u._UZ(35,"path",42),u.qZA(),u.TgZ(36,"g"),u._UZ(37,"path",43),u.qZA()()(),u.kcU(),u.TgZ(38,"div",44),u._uU(39),u.qZA()()()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(2,f5,t._id)),u.xp6(38),u.Oqu(t.title)}}const m5=function(n){return{display:n}};let g5=(()=>{var n;class e{constructor(r,i){this.notesService=r,this.router=i,this.lock=!0}ngOnInit(){this.loadNotes()}loadNotes(){this.notesService.getNotes().subscribe(r=>{this.notes=r.data.data},r=>{console.log(r)})}unlock(){"i have permission to access this folder!"===document.getElementById("password").value.toLowerCase()?this.lock=!1:(alert("Wrong password! You're not the person who belongs to this folder!"),document.getElementById("password").value="")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(JT),u.Y36(Sr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-notes"]],decls:16,vars:4,consts:[[1,"container"],[1,"page"],[1,"note-list","row"],["class","note-item col-12 col-sm-6 col-md-4 col-lg-3 ",4,"ngFor","ngForOf"],["routerLink","/add-note","mat-fab","","color","primary",1,"add-button"],[1,"material-icons"],[1,"page-lock",3,"ngStyle"],[1,"d-md-flex","align-items-center","justify-content-center",2,"height","100vh","padding","0 20px"],["src","./assets/images/folder.png","alt","lock"],[1,"lock"],["type","text","id","password"],[3,"click"],[1,"note-item","col-12","col-sm-6","col-md-4","col-lg-3"],[3,"routerLink"],[1,"note-icon"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","180","height","180","viewBox","0 0 80 80"],["fill","#839cb2","d","M22.264,74.673C21.573,71.12,20.4,66.75,18.5,63.849V28.5h43v35.349 c-1.9,2.901-3.073,7.271-3.764,10.824c-1.523-2.522-2.71-5.708-3.243-8.759c-0.583-3.487-12.878-9.416-14.278-10.08L40,55.732 l-0.214,0.102c-1.4,0.665-13.695,6.593-14.279,10.083C24.975,68.966,23.787,72.151,22.264,74.673z"],["fill","#66798f","d","M61,29v34.702c-1.666,2.609-2.772,6.296-3.484,9.561c-1.179-2.251-2.086-4.888-2.53-7.428 c-0.597-3.571-11.293-8.903-14.557-10.453L40,55.179l-0.429,0.204c-3.264,1.549-13.96,6.882-14.556,10.446 c-0.444,2.545-1.352,5.184-2.531,7.435c-0.712-3.265-1.818-6.953-3.484-9.561V29h21H61 M62,28H40H18v36 c2.208,3.284,3.407,8.591,4,12c1.989-2.856,3.419-6.675,4-10c0.557-3.333,14-9.714,14-9.714S53.443,62.667,54,66 c0.581,3.325,2.011,7.144,4,10c0.593-3.409,1.792-8.716,4-12V28L62,28z"],["fill","#788b9c","d","M71.056,76.72c-2.392-2.003-5.216-5.979-6.604-8.932L63.5,65.76v10.292 c-2.085-3.967-6.954-14.256-7-23.914l5.783-9.638H69.5V64c0,0.725-0.009,1.379-0.017,1.988 C69.438,69.466,69.412,71.508,71.056,76.72z M8.944,76.72c1.645-5.211,1.618-7.253,1.573-10.732C10.509,65.379,10.5,64.725,10.5,64 V42.5h7.217l5.783,9.638c-0.046,9.657-4.915,19.947-7,23.914V65.76l-0.953,2.028C14.16,70.741,11.336,74.716,8.944,76.72z"],["fill","#66798f","d","M69,43v21c0,0.722-0.009,1.374-0.016,1.981c-0.04,3.095-0.066,5.068,1.051,9.066 c-1.965-2.091-4.026-5.123-5.129-7.472L63,63.519V68v5.96c-2.299-4.711-5.919-13.424-5.999-21.685L62.566,43H69 M17.434,43 l5.565,9.275c-0.079,8.253-3.7,16.968-5.999,21.682V68v-4.481l-1.905,4.055c-1.104,2.35-3.165,5.381-5.129,7.472 c1.117-3.998,1.091-5.971,1.051-9.066C11.009,65.374,11,64.722,11,64V43H17.434 M70,42h-8l-6,10c0,12.554,8,26,8,26V68 c1.569,3.34,5.23,8.437,8,10c-2.434-7.243-2-8.826-2-14V42L70,42z M18,42h-8v22c0,5.174,0.434,6.757-2,14 c2.77-1.563,6.431-6.66,8-10v10c0,0,8-13.446,8-26L18,42L18,42z"],["fill","#e1ebf2","d","M69.856,62.029c-1.628-5.475-1.464-11.65-1.381-14.78C68.489,46.736,68.5,46.313,68.5,46h-1 c0,1.05-0.941,4.379-1.852,7.599c-0.663,2.345-1.344,4.753-1.802,6.719c-0.904-2.533-1.346-5.648-1.346-9.461v-3.341 c1.09-1.98,1.738-3.418,1.929-4.275c0.046-0.153,0.071-0.331,0.071-0.526c0-2.177-7.697-14.324-8.574-15.702 c-0.145-0.266-3.758-6.76-7.323-7.453C49.832,14.115,53.944,8.5,62,8.5c12.26,0,15.5,11.447,15.5,17.5 c0,8.81-2.819,17.997-5.085,25.379l-0.25,0.815c-0.02,0.081-0.055,0.213-0.111,0.426C71.133,56.112,70.396,59.268,69.856,62.029z"],["fill","#a3b7cc","d","M62,9c11.865,0,15,11.12,15,17c0,8.736-2.808,17.884-5.064,25.235l-0.249,0.813l-0.012,0.044 l-0.008,0.032c-0.011,0.044-0.044,0.17-0.095,0.366c-0.695,2.635-1.286,5.079-1.767,7.31c-1.035-4.82-0.902-9.829-0.83-12.537 C68.989,46.744,69,46.317,69,46h-2c0,0.981-0.974,4.425-1.833,7.464c-0.476,1.685-0.962,3.401-1.368,4.967 C63.263,56.293,63,53.787,63,50.857v-3.213c1.077-1.967,1.703-3.365,1.91-4.265c0.062-0.221,0.09-0.433,0.09-0.665 c0-2.207-6.586-12.725-8.636-15.944c-0.458-0.828-3.666-6.428-7.159-7.568C50.068,15.888,52.953,9,62,9 M62,8 c-8.829,0-12.922,6.38-14,12c3.496,0,7.504,7.281,7.504,7.281S64,40.62,64,42.714c0,0.166-0.024,0.296-0.06,0.418 c-0.208,0.938-0.997,2.549-1.94,4.255c0,1.266,0,2.935,0,3.47c0,3.575,0.385,7.738,2,11.143c0.848-4.58,4-13.908,4-16 c0,2.385-0.658,11.158,2,18c0.961-5.542,2.597-11.436,2.643-11.659C74.994,44.668,78,35.208,78,26C78,19.719,74.667,8,62,8L62,8z"],["fill","#e1ebf2","d","M10.144,62.029c-0.541-2.768-1.279-5.926-2.201-9.42c-0.054-0.207-0.088-0.335-0.097-0.373 l-0.261-0.857C5.319,43.997,2.5,34.81,2.5,26C2.5,19.947,5.74,8.5,18,8.5c8.056,0,12.168,5.615,13.397,11.06 c-3.565,0.693-7.179,7.189-7.339,7.48C23.197,28.391,15.5,40.538,15.5,42.714c0,0.192,0.025,0.37,0.079,0.556 c0.185,0.838,0.816,2.237,1.921,4.245v3.341c0,3.813-0.442,6.928-1.346,9.461c-0.458-1.966-1.139-4.374-1.802-6.719 C13.441,50.379,12.5,47.05,12.5,46h-1c0,0.313,0.011,0.736,0.025,1.249C11.608,50.379,11.772,56.554,10.144,62.029z"],["fill","#a3b7cc","d","M18,9c9.047,0,11.932,6.888,12.794,10.203c-3.493,1.141-6.7,6.74-7.159,7.568 C21.586,29.989,15,40.507,15,42.714c0,0.232,0.029,0.444,0.09,0.665c0.207,0.9,0.832,2.297,1.91,4.265v3.213 c0,2.93-0.263,5.436-0.799,7.573c-0.407-1.566-0.892-3.282-1.368-4.967C13.974,50.425,13,46.981,13,46h-2 c0,0.317,0.011,0.744,0.025,1.262c0.072,2.708,0.205,7.717-0.83,12.537c-0.481-2.231-1.072-4.675-1.767-7.31 c-0.052-0.196-0.085-0.321-0.092-0.35l-0.01-0.046l-0.014-0.045l-0.249-0.813C5.808,43.884,3,34.736,3,26C3,20.12,6.135,9,18,9 M18,8C5.333,8,2,19.719,2,26c0,9.208,3.006,18.668,5.357,26.341C7.403,52.564,9.039,58.458,10,64c2.658-6.842,2-15.615,2-18 c0,2.092,3.152,11.42,4,16c1.615-3.405,2-7.568,2-11.143c0-0.535,0-2.204,0-3.47c-0.943-1.706-1.732-3.317-1.94-4.255 C16.024,43.01,16,42.88,16,42.714c0-2.094,8.496-15.433,8.496-15.433S28.504,20,32,20C30.922,14.38,26.829,8,18,8L18,8z"],["fill","#839cb2","d","M24.501,57.5c0.1-15.972,4.949-27.135,5.814-29h19.368c0.866,1.865,5.714,13.028,5.814,29H24.501z"],["fill","#66798f","d","M49.363,29c1.11,2.469,5.443,13.045,5.63,28H40H25.006c0.187-14.929,4.521-25.526,5.631-28H40 H49.363 M50,28H40H30c0,0-6,11.933-6,30h16h16C56,39.933,50,28,50,28L50,28z"],["fill","#ffeea3","d","M64,42.714c0-2.094-8.496-15.433-8.496-15.433S51.496,20,48,20h-8h-8 c-3.496,0-7.504,7.281-7.504,7.281S16,40.62,16,42.714C16,44.808,22,54,22,54s-5.588,6.234,2,10c0,8.991,2,14,2,14h12V66h2h2v12h12 c0,0,2-5.009,2-14c7.588-3.766,2-10,2-10S64,44.808,64,42.714z M25.062,57.916l-0.007-0.004C26.75,54.173,24,50,24,50l-2-8 l7.788-10H30l2,16C30.958,49.008,27.015,53.06,25.062,57.916z M54.945,57.912l-0.007,0.004C52.985,53.06,49.042,49.008,48,48l2-16 h0.212L58,42l-2,8C56,50,53.25,54.173,54.945,57.912z"],["fill","#ffeea3","d","M42.5,77.5v-12h-5v12H26.352C25.933,76.276,24.5,71.531,24.5,64c0-7.034,4.863-12.767,7.762-15.559 l0.265-0.256l-1.904-15.229L40,38.583l9.376-5.626l-1.903,15.229l0.41,0.392c6.549,6.148,7.757,11.771,7.618,15.404 c0,7.547-1.434,12.295-1.852,13.519H42.5z"],["fill","#f5c276","d","M48.753,33.914l-1.745,13.962l-0.062,0.495l0.359,0.347l0.236,0.224 C53.952,54.962,55.136,60.432,55,64c0,6.889-1.21,11.415-1.713,13H43V66v-1h-1h-2h-2h-1v1v11H26.713C26.209,75.414,25,70.888,25,64 c0-6.848,4.767-12.461,7.609-15.198l0.087-0.084l0.359-0.347l-0.062-0.495l-1.745-13.962l8.238,4.943L40,39.166l0.514-0.309 L48.753,33.914 M50,32l-10,6l-10-6l2,16c-1.042,1.008-8,7.5-8,16c0,8.991,2,14,2,14h12V66h2h2v12h12c0,0,2-5.009,2-14 c0.333-8.667-6.958-14.992-8-16L50,32L50,32z"],["fill","#f78f8f","d","M32.357 37.786H47.643V39.5H32.357z"],["fill","#c74343","d","M47.143,38.286V39H32.857v-0.714H47.143 M48.143,37.286H31.857V40h16.286V37.286L48.143,37.286z"],["fill","#f5ce85","d","M40,3c4.363,0,9,1.388,9,3.962C49,9.489,44.424,11,40,11s-9-1.511-9-4.038C31,4.388,35.637,3,40,3 M40,2c-5,0-10,1.654-10,4.962C30,10.269,35.031,12,40,12s10-1.731,10-5.038C50,3.654,45,2,40,2L40,2z"],["fill","#f5c276","d","M31.265 21l-.048.083c.024-.003.048-.012.072-.015C31.281 21.05 31.265 21 31.265 21zM40 53A1 1 0 1 0 40 55 1 1 0 1 0 40 53z"],["fill","#f78f8f","d","M38.338,71.5c-0.727-1.71-4.5-9.424-13.625-9.965c0.163-1.026,0.419-2.043,0.765-3.035h29.207 c0.326,0.984,0.557,1.998,0.688,3.025c-9.32,0.489-13.007,8.242-13.716,9.975H38.338z"],["fill","#c74343","d","M54.32,59c0.207,0.676,0.368,1.366,0.481,2.063C46.073,61.794,42.313,68.77,41.328,71H40h-1.337 c-1.005-2.201-4.826-9.135-13.362-9.922c0.134-0.7,0.314-1.395,0.536-2.078H40H54.32 M55.042,58H40H25.126 c-0.466,1.255-0.808,2.601-0.986,4.011C34.565,62.285,38,72,38,72h2h2c0,0,3.283-9.766,13.929-9.995 C55.796,60.592,55.486,59.248,55.042,58L55.042,58z"],["fill","#f78f8f","d","M32.5 36.5H47.5V39.5H32.5z"],["fill","#c74343","d","M47,37v2H33v-2H47 M48,36H32v4h16V36L48,36z"],["fill","#f78f8f","d","M48,41.5c-5.156,0-6.997-4.138-7.418-5.325l9.333-7.466C50.831,29.929,53.5,33.68,53.5,36 C53.5,38.704,51.443,41.5,48,41.5z"],["fill","#c74343","d","M49.824,29.421C51.063,31.123,53,34.17,53,36c0,2.424-1.752,5-5,5c-4.427,0-6.248-3.277-6.82-4.663 L49.824,29.421 M50,28l-10,8c0,0,1.638,6,8,6c3.748,0,6-3.002,6-6S50,28,50,28L50,28z"],["fill","#f78f8f","d","M32,41.5c-3.443,0-5.5-2.796-5.5-5.5c0-2.323,2.669-6.072,3.586-7.291l9.333,7.466 C38.997,37.362,37.156,41.5,32,41.5z"],["fill","#c74343","d","M30.176,29.422l8.644,6.915C38.247,37.725,36.425,41,32,41c-3.248,0-5-2.576-5-5 C27,34.174,28.937,31.125,30.176,29.422 M30,28c0,0-4,5.002-4,8s2.252,6,6,6c6.362,0,8-6,8-6L30,28L30,28z"],["fill","#f5c276","d","M40 20L32 20 32 21 40 21 48 21 48 20z"],["fill","#fff","d","M66 40H67V46H66zM64 12H65V18H64zM74 32H75V38H74zM54 12H55V18H54zM70 16H71V22H70zM66 20H67V26H66zM72 24H73V30H72zM64 32H65V38H64zM62 24H63V30H62zM59 31v-3h-1v1.374C58.315 29.882 58.653 30.43 59 31zM68 28H69V34H68zM70 36H71V42H70zM60 16H61V22H60zM56 20H57V26H56zM62 10h1V9.03C62.673 9.012 62.341 9 62 9V10zM68 10.159V14h1v-3.357C68.678 10.47 68.346 10.308 68 10.159zM51 16h-.595c-.148.297-.284.589-.405.876v2.67c.339.174.673.384 1 .622V16zM58 14h1V9.286c-.348.069-.675.158-1 .25V14zM74 18h1v-.811c-.295-.617-.627-1.224-1-1.811V18zM76 26h1c0-1.695-.263-3.826-.918-6H76V26zM73 44h-1v6h.315c.226-.739.455-1.497.685-2.267V44z"],["fill","#fff","d","M13 40H14V46H13zM15 12H16V18H15zM5 32H6V38H5zM25 12H26V18H25zM9 16H10V22H9zM13 20H14V26H13zM7 24H8V30H7zM15 32H16V38H15zM17 24H18V30H17zM21 31v-3h1v1.374C21.685 29.882 21.347 30.43 21 31zM11 28H12V34H11zM9 36H10V42H9zM19 16H20V22H19zM23 20H24V26H23zM18 10h-1V9.03C17.327 9.012 17.659 9 18 9V10zM12 10.159V14h-1v-3.357C11.322 10.47 11.654 10.308 12 10.159zM29 16h.595c.148.297.284.589.405.876v2.67c-.339.174-.673.384-1 .622V16zM22 14h-1V9.286c.348.069.675.158 1 .25V14zM6 18H5v-.811c.295-.617.627-1.224 1-1.811V18zM4 26H3c0-1.695.263-3.826.918-6H4V26zM7 44h1v6H7.685C7.459 49.261 7.23 48.503 7 47.733V44z"],[1,"note-title"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u.YNc(3,p5,40,4,"div",3),u.qZA(),u.TgZ(4,"button",4)(5,"i",5),u._uU(6,"add"),u.qZA()()(),u.TgZ(7,"div",6)(8,"div",7),u._UZ(9,"img",8),u.TgZ(10,"div",9)(11,"h1"),u._uU(12,"Unlock the folder"),u.qZA(),u._UZ(13,"input",10),u.TgZ(14,"button",11),u.NdJ("click",function(){return i.unlock()}),u._uU(15,"unlock"),u.qZA()()()()()),2&r&&(u.xp6(3),u.Q6J("ngForOf",i.notes),u.xp6(4),u.Q6J("ngStyle",u.VKq(2,m5,i.lock?"block":"none")))},dependencies:[Ro,fi,ng,Nv],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%;min-height:100vh;background-color:#f5f6fa}.page[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:50px}.page[_ngcontent-%COMP%]   .note-list[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]{padding:10px;text-align:center}.page[_ngcontent-%COMP%]   .note-list[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.page[_ngcontent-%COMP%]   .note-list[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]   .note-icon[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}.page[_ngcontent-%COMP%]   .note-list[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]   .note-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%}.page[_ngcontent-%COMP%]   .note-list[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--secondary)}.page-lock[_ngcontent-%COMP%]{background-color:#000c;position:absolute;top:0;left:0;width:100%;height:100vh}.page-lock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:#353b48;margin-bottom:8px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:var(--secondary);margin-bottom:8px;cursor:pointer}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#353b48}"]}),e})();function _5(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Please enter the title "),u.qZA())}function y5(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1," Please enter the note "),u.qZA())}let v5=(()=>{var n;class e{constructor(r,i,s){this.notesService=r,this.router=i,this.snackBar=s,this.addForm=new Nh({title:new na(null,[Fl.required]),note:new na(null,[Fl.required])})}ngOnInit(){}add(){this.notesService.saveNote({title:this.addForm.get("title")?.value,content:this.addForm.get("note")?.value}).subscribe(r=>{this.addForm.reset(),this.openSnackBar("Note Saved!","OK")},r=>{console.log(r)})}openSnackBar(r,i){this.snackBar.open(r,i,{duration:2e3})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(JT),u.Y36(Sr),u.Y36(ZT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-note"]],decls:20,vars:3,consts:[[1,"container"],[1,"page"],[1,"note-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","title","placeholder","Title"],[4,"ngIf"],["matInput","","formControlName","note","placeholder","your thought here"],[1,"d-flex"],["mat-raised-button","","color","primary",2,"width","90%","margin-right","5%"],["type","reset","mat-raised-button","","color","accent",2,"width","90%","margin-left","5%"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"write a note"),u.qZA(),u.TgZ(4,"form",2),u.NdJ("ngSubmit",function(){return i.add()}),u.TgZ(5,"mat-form-field",3)(6,"mat-label"),u._uU(7,"Title*"),u.qZA(),u._UZ(8,"input",4),u.YNc(9,_5,2,0,"mat-error",5),u.qZA(),u.TgZ(10,"mat-form-field",3)(11,"mat-label"),u._uU(12,"Note*"),u.qZA(),u._UZ(13,"textarea",6),u.YNc(14,y5,2,0,"mat-error",5),u.qZA(),u.TgZ(15,"div",7)(16,"button",8),u._uU(17,"Add new note"),u.qZA(),u.TgZ(18,"button",9),u._uU(19,"Clear"),u.qZA()()()()()),2&r&&(u.xp6(4),u.Q6J("formGroup",i.addForm),u.xp6(5),u.Q6J("ngIf",!i.addForm.hasError("required")),u.xp6(5),u.Q6J("ngIf",!i.addForm.hasError("required")))},dependencies:[Or,Hh,Hc,zc,Oy,Bl,jh,YT,qv,KT,XT,kv],styles:[".page[_ngcontent-%COMP%]{background-color:var(--primary);width:100%;min-height:100vh;padding:3vw 1.5vw;text-align:center}.page[_ngcontent-%COMP%]   .note-form[_ngcontent-%COMP%], .page[_ngcontent-%COMP%]   .note-form[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.page[_ngcontent-%COMP%]   .note-form[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:250px}"]}),e})(),b5=(()=>{var n;class e{constructor(r,i){this.notesService=r,this.router=i}ngOnInit(){this.loadNote()}loadNote(){this.notesService.getNote(this.router.url.split("/")[2]).subscribe(r=>{this.title=r.data.data.title,this.date=r.data.data.date.split("T")[0];const i=r.data.data.content.split("\n");this.note=i.map(s=>`<p>${s}</p>`).join("")},r=>{console.log(r)})}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(JT),u.Y36(Sr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-view-note"]],decls:10,vars:3,consts:[[1,"container"],[1,"page"],[1,"content"],[1,"para",3,"innerHTML"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),u._uU(4),u.qZA(),u.TgZ(5,"span"),u._uU(6),u.qZA(),u._UZ(7,"br")(8,"br")(9,"div",3),u.qZA()()()),2&r&&(u.xp6(4),u.Oqu(i.title),u.xp6(2),u.Oqu(i.date),u.xp6(3),u.Q6J("innerHTML",i.note,u.oJD))},styles:[".page[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#f5f6fa;padding:4vw 1.5vw;background-image:url(login.5ae10fc353fe7d80.png);background-repeat:no-repeat;background-position:center center;background-size:cover}.page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#0006;padding:1.5vw;border-radius:25px;white-space:pre-line}.page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{color:var(--primary)}"]}),e})(),Zp=(()=>{var n;class e{constructor(r,i){this.cookieService=r,this.route=i}canActivate(r,i){return!!this.cookieService.isExists()||(this.route.navigateByUrl("/auth"),!1)}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(Og),u.LFG(Sr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var mr=L(4976),Yo=L(2011),$N=L(3942),jl=L(6881),Xt=L(2090),Zg=L(4859);const GN="firebasestorage.googleapis.com",qN="storageBucket";class Ar extends Xt.ZR{constructor(e,t,r=0){super(eA(e),`Firebase Storage: ${t} (${eA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Yn=(()=>{return(n=Yn||(Yn={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Yn;var n})();function eA(n){return"storage/"+n}function tA(){return new Ar(Yn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function WN(){return new Ar(Yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZN(){return new Ar(Yn.CANCELED,"User canceled the upload/download.")}function KN(){return new Ar(Yn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Kg(n){return new Ar(Yn.INVALID_ARGUMENT,n)}function YN(){return new Ar(Yn.APP_DELETED,"The Firebase app was deleted.")}function QN(n){return new Ar(Yn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zv(n,e){return new Ar(Yn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Kv(n){throw new Ar(Yn.INTERNAL_ERROR,"Internal error: "+n)}class Co{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Co.makeFromUrl(e,t)}catch{return new Co(e,"")}if(""===r.path)return r;throw function M5(n){return new Ar(Yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function b(Qe){Qe.path_=decodeURIComponent(Qe.path)}const T=t.replace(/[.]/g,"\\."),$e=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Qe){"/"===Qe.path.charAt(Qe.path.length-1)&&(Qe.path_=Qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===GN?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Qe=0;Qe<$e.length;Qe++){const Tt=$e[Qe],Pt=Tt.regex.exec(e);if(Pt){let Mr=Pt[Tt.indices.path];Mr||(Mr=""),r=new Co(Pt[Tt.indices.bucket],Mr),Tt.postModify(r);break}}if(null==r)throw function A5(n){return new Ar(Yn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class N5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xC(n){return"string"==typeof n||n instanceof String}function XN(n){return nA()&&n instanceof Blob}function nA(){return typeof Blob<"u"&&!(0,Xt.UG)()}function rA(n,e,t,r){if(r<e)throw Kg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Kg(`Invalid value for '${n}'. Expected ${t} or less.`)}function bd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function JN(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ef=(()=>{return(n=ef||(ef={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",ef;var n})();function eF(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class H5{constructor(e,t,r,i,s,c,h,_,b,x,T,P=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=x,this.connectionFactory_=T,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,H)=>{this.resolve_=V,this.reject_=H,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function V5(n){return void 0!==n}(_)?s():s(_)}catch(_){c(_)}else if(null!==h){const _=tA();_.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,_):_)}else c(i.canceled?this.appDelete_?YN():ZN():WN())};this.canceled_?t(0,new IC(!1,null,!0)):this.backoffId_=function F5(n,e,t){let r=1,i=null,s=null,c=!1,h=0;function _(){return 2===h}let b=!1;function x(...oe){b||(b=!0,e.apply(null,oe))}function T(oe){i=setTimeout(()=>{i=null,n(V,_())},oe)}function P(){s&&clearTimeout(s)}function V(oe,...ke){if(b)return void P();if(oe)return P(),void x.call(null,oe,...ke);if(_()||c)return P(),void x.call(null,oe,...ke);let $e;r<64&&(r*=2),1===h?(h=2,$e=0):$e=1e3*(r+Math.random()),T($e)}let H=!1;function Q(oe){H||(H=!0,P(),!b&&(null!==i?(oe||(h=2),clearTimeout(i),T(0)):oe||(h=1)))}return T(0),s=setTimeout(()=>{c=!0,Q(!0)},t),Q}((r,i)=>{if(i)return void r(!1,new IC(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===ef.NO_ERROR,_=s.getStatus();if(!h||eF(_,this.additionalRetryCodes_)&&this.retry){const x=s.getErrorCode()===ef.ABORT;return void r(!1,new IC(!1,null,x))}const b=-1!==this.successCodes_.indexOf(_);r(!0,new IC(b,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function L5(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class IC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Z5(...n){const e=function W5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(nA())return new Blob(n);throw new Ar(Yn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const oa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iA{constructor(e,t){this.data=e,this.contentType=t||null}}function oA(n,e){switch(n){case oa.RAW:return new iA(tF(e));case oa.BASE64:case oa.BASE64URL:return new iA(nF(n,e));case oa.DATA_URL:return new iA(function X5(n){const e=new rF(n);return e.base64?nF(oa.BASE64,e.rest):function Q5(n){let e;try{e=decodeURIComponent(n)}catch{throw Zv(oa.DATA_URL,"Malformed data URL.")}return tF(e)}(e.rest)}(e),function J5(n){return new rF(n).contentType}(e))}throw tA()}function tF(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function nF(n,e){switch(n){case oa.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Zv(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case oa.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Zv(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Y5(n){if(typeof atob>"u")throw function P5(n){return new Ar(Yn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Zv(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class rF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Zv(oa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function eH(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Jc{constructor(e,t){let r=0,i="";XN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(XN(this.data_)){const i=function K5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Jc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Jc(r,!0)}}static getBlob(...e){if(nA()){const t=e.map(r=>r instanceof Jc?r.data_:r);return new Jc(Z5.apply(null,t))}{const t=e.map(c=>xC(c)?oA(oa.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)i[s++]=c[h]}),new Jc(i,!0)}}uploadData(){return this.data_}}function sA(n){let e;try{e=JSON.parse(n)}catch{return null}return function U5(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function iF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function rH(n,e){return e}class Qo{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||rH}}let DC=null;function Yv(){if(DC)return DC;const n=[];n.push(new Qo("bucket")),n.push(new Qo("generation")),n.push(new Qo("metageneration")),n.push(new Qo("name","fullPath",!0));const t=new Qo("name");t.xform=function e(s,c){return function iH(n){return!xC(n)||n.length<2?n:iF(n)}(c)},n.push(t);const i=new Qo("size");return i.xform=function r(s,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Qo("timeCreated")),n.push(new Qo("updated")),n.push(new Qo("md5Hash",null,!0)),n.push(new Qo("cacheControl",null,!0)),n.push(new Qo("contentDisposition",null,!0)),n.push(new Qo("contentEncoding",null,!0)),n.push(new Qo("contentLanguage",null,!0)),n.push(new Qo("contentType",null,!0)),n.push(new Qo("metadata","customMetadata",!0)),DC=n,DC}function oF(n,e,t){const r=sA(e);return null===r?null:function sH(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const c=t[s];r[c.local]=c.xform(r,e[c.server])}return function oH(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Co(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function aA(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const sF="prefixes",aF="items";class eu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tu(n){if(!n)throw tA()}function SC(n,e){return function t(r,i){const s=oF(n,i,e);return tu(null!==s),s}}function Yg(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function S5(){return new Ar(Yn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function D5(){return new Ar(Yn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function I5(n){return new Ar(Yn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function T5(n){return new Ar(Yn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Qv(n){const e=Yg(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function x5(n){return new Ar(Yn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function lF(n,e,t){const i=bd(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new eu(i,"GET",SC(n,t),c);return h.errorHandler=Qv(e),h}function hH(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=bd(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,x=new eu(h,"GET",function uH(n,e){return function t(r,i){const s=function cH(n,e,t){const r=sA(t);return null===r?null:function lH(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[sF])for(const i of t[sF]){const s=i.replace(/\/$/,""),c=n._makeStorageReference(new Co(e,s));r.prefixes.push(c)}if(t[aF])for(const i of t[aF]){const s=n._makeStorageReference(new Co(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return tu(null!==s),s}}(n,e.bucket),b);return x.urlParams=s,x.errorHandler=Yg(e),x}function uF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function gH(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class TC{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function lA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{tu(!1)}return tu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const bH={STATE_CHANGED:"state_changed"},Xo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cA(n){switch(n){case"running":case"pausing":case"canceling":return Xo.RUNNING;case"paused":return Xo.PAUSED;case"success":return Xo.SUCCESS;case"canceled":return Xo.CANCELED;default:return Xo.ERROR}}class wH{constructor(e,t,r){if(function B5(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Qg(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let fF=null;class EH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Kv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class CH extends EH{initXhr(){this.xhr_.responseType="text"}}function zl(){return fF?fF():new CH}class pF{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Yv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Yn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(eF(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=WN()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Yn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function _H(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c=uF(e,r,i),h={name:c.fullPath},_=bd(s,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=aA(c,t),H=new eu(_,"POST",function V(Q){let oe;lA(Q);try{oe=Q.getResponseHeader("X-Goog-Upload-URL")}catch{tu(!1)}return tu(xC(oe)),oe},n.maxUploadRetryTime);return H.urlParams=h,H.headers=x,H.body=T,H.errorHandler=Yg(e),H}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zl,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function yH(n,e,t,r){const _=new eu(t,"POST",function s(b){const x=lA(b,["active","final"]);let T=null;try{T=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tu(!1)}T||tu(!1);const P=Number(T);return tu(!isNaN(P)),new TC(P,r.size(),"final"===x)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Yg(e),_}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,zl,t,r);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new TC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let c;try{c=function vH(n,e,t,r,i,s,c,h){const _=new TC(0,0);if(c?(_.current=c.current,_.total=c.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function k5(){return new Ar(Yn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let x=b;i>0&&(x=Math.min(x,i));const T=_.current;let V="";V=0===x?"finalize":b===x?"upload, finalize":"upload";const H={"X-Goog-Upload-Command":V,"X-Goog-Upload-Offset":`${_.current}`},Q=r.slice(T,T+x);if(null===Q)throw KN();const $e=new eu(t,"POST",function oe(Qe,Tt){const Pt=lA(Qe,["active","final"]),fn=_.current+x,Mr=r.size();let Ao;return Ao="final"===Pt?SC(e,s)(Qe,Tt):null,new TC(fn,Mr,"final"===Pt,Ao)},e.maxUploadRetryTime);return $e.headers=H,$e.body=Q.uploadData(),$e.progressCallback=h||null,$e.errorHandler=Yg(n),$e}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(c,zl,i,s,!1);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=lF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,zl,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function dF(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let $e="";for(let Qe=0;Qe<2;Qe++)$e+=Math.random().toString().slice(2);return $e}();c["Content-Type"]="multipart/related; boundary="+_;const b=uF(e,r,i),x=aA(b,t),V=Jc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===V)throw KN();const H={name:b.fullPath},Q=bd(s,n.host,n._protocol),ke=n.maxUploadRetryTime,Ze=new eu(Q,"POST",SC(n,t),ke);return Ze.urlParams=H,Ze.headers=c,Ze.body=V.uploadData(),Ze.errorHandler=Yg(e),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,zl,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ZN(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=cA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new wH(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(cA(this._state)){case Xo.SUCCESS:Qg(this._resolve.bind(null,this.snapshot))();break;case Xo.CANCELED:case Xo.ERROR:Qg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cA(this._state)){case Xo.RUNNING:case Xo.PAUSED:e.next&&Qg(e.next.bind(e,this.snapshot))();break;case Xo.SUCCESS:e.complete&&Qg(e.complete.bind(e))();break;default:e.error&&Qg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Kp{constructor(e,t){this._service=e,this._location=t instanceof Co?t:Co.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Kp(e,t)}get root(){const e=new Co(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iF(this._location.path)}get storage(){return this._service}get parent(){const e=function tH(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Co(this._location.bucket,e);return new Kp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw QN(e)}}function gF(n,e,t){return uA.apply(this,arguments)}function uA(){return(uA=(0,ge.Z)(function*(n,e,t){const i=yield _F(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield gF(n,e,i.nextPageToken))})).apply(this,arguments)}function _F(n,e){null!=e&&"number"==typeof e.maxResults&&rA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=hH(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,zl)}function NH(n){n._throwIfRoot("getDownloadURL");const e=function fH(n,e,t){const i=bd(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new eu(i,"GET",function dH(n,e){return function t(r,i){const s=oF(n,i,e);return tu(null!==s),function aH(n,e,t,r){const i=sA(e);if(null===i||!xC(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(b=>{const T=n.fullPath;return bd("/b/"+c(n.bucket)+"/o/"+c(T),t,r)+JN({alt:"media",token:b})})[0]}(s,i,n.host,n._protocol)}}(n,t),c);return h.errorHandler=Qv(e),h}(n.storage,n._location,Yv());return n.storage.makeRequestWithTokens(e,zl).then(t=>{if(null===t)throw function O5(){return new Ar(Yn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function yF(n,e){const t=function nH(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Co(n._location.bucket,t);return new Kp(n.storage,r)}function vF(n,e){if(n instanceof dA){const t=n;if(null==t._bucket)throw function R5(){return new Ar(Yn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qN+"' property when initializing the app?")}();const r=new Kp(t,t._bucket);return null!=e?vF(r,e):r}return void 0!==e?yF(n,e):n}function BH(n,e){if(e&&function LH(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof dA)return function VH(n,e){return new Kp(n,e)}(n,e);throw Kg("To use ref(service, url), the first argument must be a Storage instance.")}return vF(n,e)}function bF(n,e){const t=e?.[qN];return null==t?null:Co.makeFromBucketSpec(t,n)}class dA{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=GN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Co.makeFromBucketSpec(i,this._host):bF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Co.makeFromBucketSpec(this._url,e):bF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ge.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ge.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kp(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new N5(YN());{const c=function q5(n,e,t,r,i,s,c=!0){const h=JN(n.urlParams),_=n.url+h,b=Object.assign({},n.headers);return function $5(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function j5(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function z5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(b,s),function G5(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new H5(_,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,ge.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const wF="@firebase/storage";function xF(n,e){return BH(n=(0,Xt.m9)(n),e)}function KH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new dA(t,r,i,e,jl.SDK_VERSION)}!function YH(){(0,jl._registerComponent)(new Zg.wA("storage",KH,"PUBLIC").setMultipleInstances(!0)),(0,jl.registerVersion)(wF,"0.11.2",""),(0,jl.registerVersion)(wF,"0.11.2","esm2017")}();class AC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class DF{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new AC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new AC(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?c=>t(new AC(c,this,this._ref)):{next:t.next?c=>t.next(new AC(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class SF{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new wd(e,this._service))}get items(){return this._delegate.items.map(e=>new wd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class wd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function ZH(n,e){return yF(n,e)}(this._delegate,e);return new wd(t,this.storage)}get root(){return new wd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new wd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new DF(function HH(n,e,t){return function MH(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new pF(n,new Jc(e),t)}(n=(0,Xt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=oa.RAW,r){this._throwIfRoot("putString");const i=oA(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new DF(new pF(this._delegate,new Jc(i.data,!0),s),this)}listAll(){return function GH(n){return function kH(n){const e={prefixes:[],items:[]};return gF(n,e).then(()=>e)}(n=(0,Xt.m9)(n))}(this._delegate).then(e=>new SF(e,this.storage))}list(e){return function $H(n,e){return _F(n=(0,Xt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new SF(t,this.storage))}getMetadata(){return function jH(n){return function OH(n){n._throwIfRoot("getMetadata");const e=lF(n.storage,n._location,Yv());return n.storage.makeRequestWithTokens(e,zl)}(n=(0,Xt.m9)(n))}(this._delegate)}updateMetadata(e){return function zH(n,e){return function PH(n,e){n._throwIfRoot("updateMetadata");const t=function pH(n,e,t,r){const s=bd(e.fullServerUrl(),n.host,n._protocol),h=aA(t,r),b=n.maxOperationRetryTime,x=new eu(s,"PATCH",SC(n,r),b);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=h,x.errorHandler=Qv(e),x}(n.storage,n._location,e,Yv());return n.storage.makeRequestWithTokens(t,zl)}(n=(0,Xt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function qH(n){return NH(n=(0,Xt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function WH(n){return function FH(n){n._throwIfRoot("deleteObject");const e=function mH(n,e){const r=bd(e.fullServerUrl(),n.host,n._protocol),h=new eu(r,"DELETE",function c(_,b){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Qv(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,zl)}(n=(0,Xt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw QN(e)}}class TF{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(AF(e))throw Kg("ref() expected a child path but got a URL, use refFromURL instead.");return new wd(xF(this._delegate,e),this)}refFromURL(e){if(!AF(e))throw Kg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Co.makeFromUrl(e,this._delegate.host)}catch{throw Kg("refFromUrl() expected a valid full URL but got an invalid one.")}return new wd(xF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function IF(n,e,t,r={}){!function UH(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Xt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function AF(n){return/^[A-Za-z]+:\/\//.test(n)}function ej(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new TF(t,r)}!function tj(n){const e={TaskState:Xo,TaskEvent:bH,StringFormat:oa,Storage:TF,Reference:wd};n.INTERNAL.registerComponent(new Zg.wA("storage-compat",ej,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}($N.Z),L(259);var tf=L(1877);const fA=new Map,RF={activated:!1,tokenObservers:[]},sj={initialized:!1,enabled:!1};function Vr(n){return fA.get(n)||Object.assign({},RF)}function RC(){return sj}const pA="https://content-firebaseappcheck.googleapis.com/v1",uj="exchangeDebugToken",kF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hj{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function fj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const no=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mA(n){if(!Vr(n).activated)throw no.create("use-before-activation",{appName:n.name})}function PC(n,e){return _A.apply(this,arguments)}function _A(){return(_A=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,s)}catch(T){throw no.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw no.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(T){throw no.create("fetch-parse-error",{originalErrorMessage:T?.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw no.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),x=Date.now();return{token:h.token,expireTimeMillis:x+b,issuedAtTimeMillis:x}})).apply(this,arguments)}function OF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${pA}/projects/${t}/apps/${r}:${uj}?key=${i}`,body:{debug_token:e}}}const _j="firebase-app-check-database",yj=1,Xv="firebase-app-check-store";let NC=null;function FF(n,e){return yA.apply(this,arguments)}function yA(){return(yA=(0,ge.Z)(function*(n,e){const r=(yield function NF(){return NC||(NC=new Promise((n,e)=>{try{const t=indexedDB.open(_j,yj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(no.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xv,{keyPath:"compositeKey"})}}catch(t){e(no.create("storage-open",{originalErrorMessage:t?.message}))}}),NC)}()).transaction(Xv,"readwrite"),s=r.objectStore(Xv).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=_=>{c()},r.onerror=_=>{var b;h(no.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Jv=new tf.Yd("@firebase/app-check");function wA(n,e){return(0,Xt.hl)()?function bj(n,e){return FF(function VF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CA(){return RC().enabled}function xA(){return IA.apply(this,arguments)}function IA(){return(IA=(0,ge.Z)(function*(){const n=RC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dj={error:"UNKNOWN_ERROR"};function Sj(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function FC(n){return DA.apply(this,arguments)}function DA(){return(DA=(0,ge.Z)(function*(n,e=!1){const t=n.app;mA(t);const r=Vr(t);let s,i=r.token;if(i&&!Xg(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Xg(_)?i=_:yield wA(t,void 0))}if(!e&&i&&Xg(i))return{token:i.token};let h,c=!1;if(CA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=PC(OF(t,yield xA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield wA(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Vr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Jv.warn(_.message):Jv.error(_),s=_}return i?s?h=Xg(i)?{token:i.token,internalError:s}:jF(s):(h={token:i.token},r.token=i,yield wA(t,i)):h=jF(s),c&&function HF(n,e){const t=Vr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function BF(n){return SA.apply(this,arguments)}function SA(){return(SA=(0,ge.Z)(function*(n){const e=n.app;mA(e);const{provider:t}=Vr(e);if(CA()){const r=yield xA(),{token:i}=yield PC(OF(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function AA(n,e){const t=Vr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function UF(n){const{app:e}=n,t=Vr(e);let r=t.tokenRefresher;r||(r=function Tj(n){const{app:e}=n;return new hj((0,ge.Z)(function*(){let r;if(r=Vr(e).token?yield FC(n,!0):yield FC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},kF.RETRIAL_MIN_WAIT,kF.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Xg(n){return n.expireTimeMillis-Date.now()>0}function jF(n){return{token:Sj(Dj),error:n}}class Aj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vr(this.app);for(const t of e)AA(this.app,t.next);return Promise.resolve()}}const YF="app-check-internal";!function zj(){(0,jl._registerComponent)(new Zg.wA("app-check",n=>function Mj(n,e){return new Aj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(YF).initialize()})),(0,jl._registerComponent)(new Zg.wA(YF,n=>function Rj(n){return{getToken:e=>FC(n,e),getLimitedUseToken:()=>BF(n),addTokenListener:e=>function TA(n,e,t,r){const{app:i}=n,s=Vr(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Xg(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),UF(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UF(n))}(n,"INTERNAL",e),removeTokenListener:e=>AA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,jl.registerVersion)("@firebase/app-check","0.8.0")}();class VC{constructor(){return(0,mr.vb)("app-check")}}typeof window<"u"&&window;var PA=L(9260);function XF(n){const e=function Zj(n){return new Un.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(_d(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ht.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function BC(n){return{getDownloadURL:()=>tt(void 0).pipe(mr.fc,Hn(()=>n.getDownloadURL()),mr.iC),getMetadata:()=>tt(void 0).pipe(mr.fc,Hn(()=>n.getMetadata()),mr.iC),delete:()=>(0,sn.D)(n.delete()),child:e=>BC(n.child(e)),updateMetadata:e=>(0,sn.D)(n.updateMetadata(e)),put:(e,t)=>XF(n.put(e,t)),putString:(e,t,r)=>XF(n.putString(e,t,r)),list:e=>(0,sn.D)(n.list(e)),listAll:()=>(0,sn.D)(n.listAll())}}const Kj=new u.OlP("angularfire2.storageBucket"),Yj=new u.OlP("angularfire2.storage.maxUploadRetryTime"),Qj=new u.OlP("angularfire2.storage.maxOperationRetryTime"),Xj=new u.OlP("angularfire2.storage.use-emulator");let eb=(()=>{class n{constructor(t,r,i,s,c,h,_,b,x,T){const P=(0,Yo.on)(t,c,r);this.storage=(0,Yo.cc)(`${P.name}.storage.${i}`,"AngularFireStorage",P.name,()=>{const V=c.runOutsideAngular(()=>P.storage(i||void 0)),H=x;return H&&V.useEmulator(...H),_&&V.setMaxUploadRetryTime(_),b&&V.setMaxOperationRetryTime(b),V},[_,b])}ref(t){return BC(this.storage.ref(t))}refFromURL(t){return BC(this.storage.refFromURL(t))}upload(t,r,i){return BC(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yo.Dh),u.LFG(Yo.xv,8),u.LFG(Kj,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(mr.HU),u.LFG(Yj,8),u.LFG(Qj,8),u.LFG(Xj,8),u.LFG(VC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ez=(()=>{class n{constructor(){PA.Z.registerVersion("angularfire",mr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[eb],imports:[Jj]}),n})(),NA=(()=>{var n;class e{constructor(r){this.fireStorage=r}listAllImagesInFolder(r){return this.fireStorage.ref(r).listAll()}}return(n=e).\u0275fac=function(r){return new(r||n)(u.LFG(eb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function tz(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"img",14),u.NdJ("click",function(){const s=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.openImage(s))}),u.qZA(),u.TgZ(3,"div",15)(4,"h5",16),u._uU(5,"Private Image"),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Q6J("src",t,u.LSH)}}function nz(n,e){1&n&&(u.TgZ(0,"div",17)(1,"p"),u._uU(2,"Uploading..."),u.qZA(),u._UZ(3,"div",18),u.qZA())}const rz=function(n){return{display:n}};let iz=(()=>{var n;class e{constructor(r,i){this.fireStorage=r,this.imageService=i,this.images=[],this.uploading=!1,this.lock=!0}ngOnInit(){this.retrieveImages().then(r=>{console.log("All Images are retrieved")}).catch(r=>{console.log(r)})}onFileChange(r){var i=this;return(0,ge.Z)(function*(){i.uploading=!0;const s=r.target.files[0];if(s){const c=`private/${s.name}`;yield(yield i.fireStorage.upload(c,s)).ref.getDownloadURL()}i.uploading=!1})()}retrieveImages(){var r=this;return(0,ge.Z)(function*(){yield r.imageService.listAllImagesInFolder("private").subscribe(i=>{i.items.forEach(s=>{s.getDownloadURL().then(c=>{r.images.push(c)})})})})()}openImage(r){window.open(r)}unlock(){"i have permission to access this folder!"===document.getElementById("password").value.toLowerCase()?this.lock=!1:(alert("Wrong password! You're not the person who belongs to this folder!"),document.getElementById("password").value="")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(eb),u.Y36(NA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-images"]],decls:15,vars:5,consts:[[1,"container",2,"margin-top","3vw","margin-bottom","3vw"],[1,"add-image"],["type","file","required","",3,"change"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[1,"page-lock",3,"ngStyle"],[1,"d-md-flex","align-items-center","justify-content-center",2,"height","100vh","padding","0 20px"],["src","./assets/images/folder.png","alt","lock"],[1,"lock"],["type","text","id","password"],[3,"click"],[1,"col-md-4"],[1,"card"],["alt","Image",1,"card-img-top","img-fluid",3,"src","click"],[1,"card-body"],[1,"card-title"],[1,"loading"],[1,"spinner"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"input",2),u.NdJ("change",function(c){return i.onFileChange(c)}),u.qZA()(),u.TgZ(3,"div",3),u.YNc(4,tz,6,1,"div",4),u.qZA(),u.YNc(5,nz,4,0,"div",5),u.TgZ(6,"div",6)(7,"div",7),u._UZ(8,"img",8),u.TgZ(9,"div",9)(10,"h1"),u._uU(11,"Unlock the folder"),u.qZA(),u._UZ(12,"input",10),u.TgZ(13,"button",11),u.NdJ("click",function(){return i.unlock()}),u._uU(14,"unlock"),u.qZA()()()()()),2&r&&(u.xp6(4),u.Q6J("ngForOf",i.images),u.xp6(1),u.Q6J("ngIf",i.uploading),u.xp6(1),u.Q6J("ngStyle",u.VKq(3,rz,i.lock?"block":"none")))},dependencies:[Ro,Or,fi],styles:['.add-image[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;z-index:99}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;height:40px;width:200px}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{background:#f88cc9;content:"Upload File...";color:#fff;font-weight:700;line-height:1;display:flex;align-items:center;justify-content:center;pointer-events:none;position:absolute;inset:0}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid:before{content:"Please Upload File"}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:before{content:"File Uploaded";background:#2fd148}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#fffc;z-index:9999}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;color:#333}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.page-lock[_ngcontent-%COMP%]{background-color:#000c;position:absolute;top:0;left:0;width:100%;height:100vh}.page-lock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:#353b48;margin-bottom:8px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:var(--secondary);margin-bottom:8px;cursor:pointer}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#353b48}']}),e})();function oz(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13),u._UZ(2,"video",14),u.TgZ(3,"div",15),u.NdJ("click",function(){const s=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.openImage(s))}),u.TgZ(4,"h5",16),u._uU(5,"Private Video >>>"),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Q6J("src",t,u.LSH)}}function sz(n,e){1&n&&(u.TgZ(0,"div",17)(1,"p"),u._uU(2,"Uploading..."),u.qZA(),u._UZ(3,"div",18),u.qZA())}const az=function(n){return{display:n}};let lz=(()=>{var n;class e{constructor(r,i){this.fireStorage=r,this.imageService=i,this.images=[],this.uploading=!1,this.lock=!0}ngOnInit(){this.retrieveImages().then(r=>{console.log("All Videos are retrieved")}).catch(r=>{console.log(r)})}onFileChange(r){var i=this;return(0,ge.Z)(function*(){i.uploading=!0;const s=r.target.files[0];if(s){const c=`videos/${s.name}`;yield(yield i.fireStorage.upload(c,s)).ref.getDownloadURL()}i.uploading=!1})()}retrieveImages(){var r=this;return(0,ge.Z)(function*(){yield r.imageService.listAllImagesInFolder("videos").subscribe(i=>{i.items.forEach(s=>{s.getDownloadURL().then(c=>{r.images.push(c)})})})})()}openImage(r){window.open(r)}unlock(){"i have permission to access this folder!"===document.getElementById("password").value.toLowerCase()?this.lock=!1:(alert("Wrong password! You're not the person who belongs to this folder!"),document.getElementById("password").value="")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(eb),u.Y36(NA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-videos"]],decls:15,vars:5,consts:[[1,"container",2,"margin-top","3vw","margin-bottom","3vw"],[1,"add-image"],["type","file","required","",3,"change"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[1,"page-lock",3,"ngStyle"],[1,"d-md-flex","align-items-center","justify-content-center",2,"height","100vh","padding","0 20px"],["src","./assets/images/folder.png","alt","lock"],[1,"lock"],["type","text","id","password"],[3,"click"],[1,"col-md-4"],[1,"card"],["controls","",1,"card-img-top","img-fluid",3,"src"],[1,"card-body",3,"click"],[1,"card-title"],[1,"loading"],[1,"spinner"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"input",2),u.NdJ("change",function(c){return i.onFileChange(c)}),u.qZA()(),u.TgZ(3,"div",3),u.YNc(4,oz,6,1,"div",4),u.qZA(),u.YNc(5,sz,4,0,"div",5),u.TgZ(6,"div",6)(7,"div",7),u._UZ(8,"img",8),u.TgZ(9,"div",9)(10,"h1"),u._uU(11,"Unlock the folder"),u.qZA(),u._UZ(12,"input",10),u.TgZ(13,"button",11),u.NdJ("click",function(){return i.unlock()}),u._uU(14,"unlock"),u.qZA()()()()()),2&r&&(u.xp6(4),u.Q6J("ngForOf",i.images),u.xp6(1),u.Q6J("ngIf",i.uploading),u.xp6(1),u.Q6J("ngStyle",u.VKq(3,az,i.lock?"block":"none")))},dependencies:[Ro,Or,fi],styles:['.add-image[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;z-index:99}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;height:40px;width:200px}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{background:#f88cc9;content:"Upload File...";color:#fff;font-weight:700;line-height:1;display:flex;align-items:center;justify-content:center;pointer-events:none;position:absolute;inset:0}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid:before{content:"Please Upload File"}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:before{content:"File Uploaded";background:#2fd148}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#fffc;z-index:9999}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;color:#333}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.page-lock[_ngcontent-%COMP%]{background-color:#000c;position:absolute;top:0;left:0;width:100%;height:100vh}.page-lock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:#353b48;margin-bottom:8px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:var(--secondary);margin-bottom:8px;cursor:pointer}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#353b48}']}),e})();function cz(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13),u._UZ(2,"video",14),u.TgZ(3,"div",15),u.NdJ("click",function(){const s=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.openImage(s))}),u.TgZ(4,"h5",16),u._uU(5,"Private Audio >>>"),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Q6J("src",t,u.LSH)}}function uz(n,e){1&n&&(u.TgZ(0,"div",17)(1,"p"),u._uU(2,"Uploading..."),u.qZA(),u._UZ(3,"div",18),u.qZA())}const dz=function(n){return{display:n}},hz=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",component:n5},{path:"create",component:c5},{path:"dashboard",component:h5,canActivate:[Zp]},{path:"notes",component:g5,canActivate:[Zp]},{path:"add-note",component:v5,canActivate:[Zp]},{path:"view-note/:id",component:b5,canActivate:[Zp]},{path:"images",component:iz,canActivate:[Zp]},{path:"videos",component:lz,canActivate:[Zp]},{path:"audios",component:(()=>{var n;class e{constructor(r,i){this.fireStorage=r,this.imageService=i,this.images=[],this.uploading=!1,this.lock=!0}ngOnInit(){this.retrieveImages().then(r=>{console.log("All Audios are retrieved")}).catch(r=>{console.log(r)})}onFileChange(r){var i=this;return(0,ge.Z)(function*(){i.uploading=!0;const s=r.target.files[0];if(s){const c=`audios/${s.name}`;yield(yield i.fireStorage.upload(c,s)).ref.getDownloadURL()}i.uploading=!1})()}retrieveImages(){var r=this;return(0,ge.Z)(function*(){yield r.imageService.listAllImagesInFolder("audios").subscribe(i=>{i.items.forEach(s=>{s.getDownloadURL().then(c=>{r.images.push(c)})})})})()}openImage(r){window.open(r)}unlock(){"i have permission to access this folder!"===document.getElementById("password").value.toLowerCase()?this.lock=!1:(alert("Wrong password! You're not the person who belongs to this folder!"),document.getElementById("password").value="")}}return(n=e).\u0275fac=function(r){return new(r||n)(u.Y36(eb),u.Y36(NA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-audios"]],decls:15,vars:5,consts:[[1,"container",2,"margin-top","3vw","margin-bottom","3vw"],[1,"add-image"],["type","file","required","",3,"change"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[1,"page-lock",3,"ngStyle"],[1,"d-md-flex","align-items-center","justify-content-center",2,"height","100vh","padding","0 20px"],["src","./assets/images/folder.png","alt","lock"],[1,"lock"],["type","text","id","password"],[3,"click"],[1,"col-md-4"],[1,"card"],["controls","",1,"card-img-top","img-fluid",3,"src"],[1,"card-body",3,"click"],[1,"card-title"],[1,"loading"],[1,"spinner"]],template:function(r,i){1&r&&(u.TgZ(0,"div",0)(1,"div",1)(2,"input",2),u.NdJ("change",function(c){return i.onFileChange(c)}),u.qZA()(),u.TgZ(3,"div",3),u.YNc(4,cz,6,1,"div",4),u.qZA(),u.YNc(5,uz,4,0,"div",5),u.TgZ(6,"div",6)(7,"div",7),u._UZ(8,"img",8),u.TgZ(9,"div",9)(10,"h1"),u._uU(11,"Unlock the folder"),u.qZA(),u._UZ(12,"input",10),u.TgZ(13,"button",11),u.NdJ("click",function(){return i.unlock()}),u._uU(14,"unlock"),u.qZA()()()()()),2&r&&(u.xp6(4),u.Q6J("ngForOf",i.images),u.xp6(1),u.Q6J("ngIf",i.uploading),u.xp6(1),u.Q6J("ngStyle",u.VKq(3,dz,i.lock?"block":"none")))},dependencies:[Ro,Or,fi],styles:['.add-image[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;z-index:99}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;height:40px;width:200px}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:before{background:#f88cc9;content:"Upload File...";color:#fff;font-weight:700;line-height:1;display:flex;align-items:center;justify-content:center;pointer-events:none;position:absolute;inset:0}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid:before{content:"Please Upload File"}.add-image[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:before{content:"File Uploaded";background:#2fd148}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#fffc;z-index:9999}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-size:18px;color:#333}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.page-lock[_ngcontent-%COMP%]{background-color:#000c;position:absolute;top:0;left:0;width:100%;height:100vh}.page-lock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:#353b48;margin-bottom:8px}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:50px;border:none;outline:none;border-radius:25px;padding:0 20px;font-size:16px;color:#fff;background-color:var(--secondary);margin-bottom:8px;cursor:pointer}.page-lock[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:#353b48}']}),e})(),canActivate:[Zp]}];let fz=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[hD.forRoot(hz,{useHash:!0}),hD]}),e})(),pz=(()=>{var n;class e{constructor(){this.title="client"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&u._UZ(0,"router-outlet")},dependencies:[ee]}),e})();function JF(n){return new u.vHH(3e3,!1)}function Kz(){return typeof window<"u"&&typeof window.document<"u"}function FA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function nf(n){switch(n.length){case 0:return new Jh;case 1:return n[0];default:return new Gg(n)}}function eL(n,e,t,r,i=new Map,s=new Map){const c=[],h=[];let _=-1,b=null;if(r.forEach(x=>{const T=x.get("offset"),P=T==_,V=P&&b||new Map;x.forEach((H,Q)=>{let oe=Q,ke=H;if("offset"!==Q)switch(oe=e.normalizePropertyName(oe,c),ke){case Gp:ke=i.get(Q);break;case Ba:ke=s.get(Q);break;default:ke=e.normalizeStyleValue(Q,oe,ke,c)}V.set(oe,ke)}),P||h.push(V),b=V,_=T}),c.length)throw function Lz(n){return new u.vHH(3502,!1)}();return h}function LA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&VA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&VA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&VA(t,"destroy",n)))}}function VA(n,e,t){const s=BA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function BA(n,e,t,r,i="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!c}}function sa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function tL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let UA=(n,e)=>!1,nL=(n,e,t)=>[],rL=null;function HA(n){const e=n.parentNode||n.host;return e===rL?null:e}(FA()||typeof Element<"u")&&(Kz()?(rL=(()=>document.documentElement)(),UA=(n,e)=>{for(;e;){if(e===n)return!0;e=HA(e)}return!1}):UA=(n,e)=>n.contains(e),nL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yp=null,iL=!1;const oL=UA,sL=nL;let aL=(()=>{class n{validateStyleProperty(t){return function Qz(n){Yp||(Yp=function Xz(){return typeof document<"u"?document.body:null}()||{},iL=!!Yp.style&&"WebkitAppearance"in Yp.style);let e=!0;return Yp.style&&!function Yz(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yp.style,!e&&iL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return oL(t,r)}getParentElement(t){return HA(t)}query(t,r,i){return sL(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,c,h=[],_){return new Jh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),jA=(()=>{class n{}return n.NOOP=new aL,n})();const Jz=1e3,zA="ng-enter",UC="ng-leave",HC="ng-trigger",jC=".ng-trigger",cL="ng-animating",$A=".ng-animating";function Ed(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GA(parseFloat(e[1]),e[2])}function GA(n,e){return"s"===e?n*Jz:n}function zC(n,e,t){return n.hasOwnProperty("duration")?n:function t8(n,e,t){let i,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(JF()),{duration:0,delay:0,easing:""};i=GA(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(s=GA(parseFloat(_),h[4]));const b=h[5];b&&(c=b)}else i=n;if(!t){let h=!1,_=e.length;i<0&&(e.push(function mz(){return new u.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function gz(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(_,0,JF())}return{duration:i,delay:s,easing:c}}(n,e,t)}function tb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function uL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function rf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function hL(n,e,t){return t?e+":"+t+";":""}function fL(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=hL(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=hL(0,o8(t),n.style[t]));n.setAttribute("style",e)}function nu(n,e,t){n.style&&(e.forEach((r,i)=>{const s=WA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),FA()&&fL(n))}function Qp(n,e){n.style&&(e.forEach((t,r)=>{const i=WA(r);n.style[i]=""}),FA()&&fL(n))}function nb(n){return Array.isArray(n)?1==n.length?n[0]:RT(n):n}const qA=new RegExp("{{\\s*(.+?)\\s*}}","g");function pL(n){let e=[];if("string"==typeof n){let t;for(;t=qA.exec(n);)e.push(t[1]);qA.lastIndex=0}return e}function rb(n,e,t){const r=n.toString(),i=r.replace(qA,(s,c)=>{let h=e[c];return null==h&&(t.push(function yz(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function $C(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const i8=/-+([a-z0-9])/g;function WA(n){return n.replace(i8,(...e)=>e[1].toUpperCase())}function o8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function aa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function vz(n){return new u.vHH(3004,!1)}()}}function mL(n,e){return window.getComputedStyle(n)[e]}const WC="*";function d8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function h8(n,e,t){if(":"==n[0]){const _=function f8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Oz(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function kz(n){return new u.vHH(3015,!1)}()),e;const i=r[1],s=r[2],c=r[3];e.push(gL(i,c));"<"==s[0]&&!(i==WC&&c==WC)&&e.push(gL(c,i))}(r,t,e)):t.push(n),t}const ZC=new Set(["true","1"]),KC=new Set(["false","0"]);function gL(n,e){const t=ZC.has(n)||KC.has(n),r=ZC.has(e)||KC.has(e);return(i,s)=>{let c=n==WC||n==i,h=e==WC||e==s;return!c&&t&&"boolean"==typeof i&&(c=i?ZC.has(n):KC.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?ZC.has(e):KC.has(e)),c&&h}}const p8=new RegExp("s*:selfs*,?","g");function ZA(n,e,t,r){return new m8(n).build(e,t,r)}class m8{constructor(e){this._driver=e}build(e,t,r){const i=new y8(t);return this._resetContextStyleTimingState(i),aa(this,nb(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function wz(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(x=>{_.name=x,s.push(this.visitState(_,t))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function Ez(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{pL(_).forEach(b=>{c.hasOwnProperty(b)||s.add(b)})})}),s.size&&($C(s.values()),t.errors.push(function Cz(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=aa(this,nb(e.animation),t);return{type:1,matchers:d8(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>aa(this,r,t)),options:Xp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(c=>{t.currentTime=r;const h=aa(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:Xp(e.options)}}visitAnimate(e,t){const r=function b8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return KA(zC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=KA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=zC(t,e);return KA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Xh({});if(5==s.type)i=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const b={};r.easing&&(b.easing=r.easing),c=Xh(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=h,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Ba?r.push(h):t.errors.push(new u.vHH(3002,!1)):r.push(uL(h));let s=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),x=b.get(_);let T=!0;x&&(s!=i&&s>=x.startTime&&i<=x.endTime&&(t.errors.push(function Iz(n,e,t,r,i){return new u.vHH(3010,!1)}()),T=!1),s=x.startTime),T&&b.set(_,{startTime:s,endTime:i}),t.options&&function r8(n,e,t){const r=e.params||{},i=pL(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function _z(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Dz(){return new u.vHH(3011,!1)}()),r;let s=0;const c=[];let h=!1,_=!1,b=0;const x=e.steps.map(ke=>{const Ze=this._makeStyleAst(ke,t);let $e=null!=Ze.offset?Ze.offset:function v8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ze.styles),Qe=0;return null!=$e&&(s++,Qe=Ze.offset=$e),_=_||Qe<0||Qe>1,h=h||Qe<b,b=Qe,c.push(Qe),Ze});_&&t.errors.push(function Sz(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function Tz(){return new u.vHH(3200,!1)}());const T=e.steps.length;let P=0;s>0&&s<T?t.errors.push(function Az(){return new u.vHH(3202,!1)}()):0==s&&(P=1/(T-1));const V=T-1,H=t.currentTime,Q=t.currentAnimateTimings,oe=Q.duration;return x.forEach((ke,Ze)=>{const $e=P>0?Ze==V?1:P*Ze:c[Ze],Qe=$e*oe;t.currentTime=H+Q.delay+Qe,Q.duration=Qe,this._validateStyleAst(ke,t),ke.offset=$e,r.styles.push(ke)}),r}visitReference(e,t){return{type:8,animation:aa(this,nb(e.animation),t),options:Xp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function g8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(p8,"")),n=n.replace(/@\*/g,jC).replace(/@\w+/g,t=>jC+"-"+t.slice(1)).replace(/:animating/g,$A),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,sa(t.collectedStyles,t.currentQuerySelector,new Map);const h=aa(this,nb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Xp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Mz(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:zC(e.timings,t.errors,!0);return{type:12,animation:aa(this,nb(e.animation),t),timings:r,options:null}}}class y8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xp(n){return n?(n=tb(n)).params&&(n.params=function _8(n){return n?tb(n):null}(n.params)):n={},n}function KA(n,e,t){return{duration:n,delay:e,easing:t}}function YA(n,e,t,r,i,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:c,subTimeline:h}}class YC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const C8=new RegExp(":enter","g"),I8=new RegExp(":leave","g");function QA(n,e,t,r,i,s=new Map,c=new Map,h,_,b=[]){return(new D8).buildKeyframes(n,e,t,r,i,s,c,h,_,b)}class D8{buildKeyframes(e,t,r,i,s,c,h,_,b,x=[]){b=b||new YC;const T=new XA(e,t,b,i,s,x,[]);T.options=_;const P=_.delay?Ed(_.delay):0;T.currentTimeline.delayNextStep(P),T.currentTimeline.setStyles([c],null,T.errors,_),aa(this,r,T);const V=T.timelines.filter(H=>H.containsAnimation());if(V.length&&h.size){let H;for(let Q=V.length-1;Q>=0;Q--){const oe=V[Q];if(oe.element===t){H=oe;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,T.errors,_)}return V.length?V.map(H=>H.buildKeyframes()):[YA(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const c="number"==typeof s?s:Ed(rb(s,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const c=null!=r.duration?Ed(r.duration):null,h=null!=r.delay?Ed(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,h);s=Math.max(s,b.duration+b.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),aa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=QC);const c=Ed(s.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>aa(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ed(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),aa(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return zC(t.params?rb(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(_=>{h.forwardTime((_.offset||0)*s),h.setStyles(_.styles,_.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ed(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=QC);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let _=null;h.forEach((b,x)=>{t.currentQueryIndex=x;const T=t.createSubContext(e.options,b);s&&T.delayNextStep(s),b===t.element&&(_=T.currentTimeline),aa(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=h-_;break;case"full":_=r.currentStaggerTime}const x=t.currentTimeline;_&&x.delayNextStep(_);const T=x.currentTime;aa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const QC={};class XA{constructor(e,t,r,i,s,c,h,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=QC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new XC(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ed(r.duration)),null!=r.delay&&(i.delay=Ed(r.delay));const s=r.params;if(s){let c=i.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=rb(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new XA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=QC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new S8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(C8,"."+this._enterClassName)).replace(I8,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),h.push(...b)}return!s&&0==h.length&&c.push(function Rz(n){return new u.vHH(3014,!1)}()),h}}class XC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new XC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ba),this._currentKeyframe.set(t,Ba);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},c=function T8(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Ba)}else rf(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,_]of c){const b=rb(_,s,r);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Ba),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,_)=>{const b=rf(h,new Map,this._backFill);b.forEach((x,T)=>{x===Gp?e.add(T):x===Ba&&t.add(T)}),r||b.set("offset",_/this.duration),i.push(b)});const s=e.size?$C(e.values()):[],c=t.size?$C(t.values()):[];if(r){const h=i[0],_=new Map(h);h.set("offset",0),_.set("offset",1),i=[h,_]}return YA(this.element,i,s,c,this.duration,this.startTime,this.easing,!1)}}class S8 extends XC{constructor(e,t,r,i,s,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=r+t,h=t/c,_=rf(e[0]);_.set("offset",0),s.push(_);const b=rf(e[0]);b.set("offset",vL(h)),s.push(b);const x=e.length-1;for(let T=1;T<=x;T++){let P=rf(e[T]);const V=P.get("offset");P.set("offset",vL((t+V*r)/c)),s.push(P)}r=c,t=0,i="",e=s}return YA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function vL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class JA{}const A8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class M8 extends JA{normalizePropertyName(e,t){return WA(e)}normalizeStyleValue(e,t,r,i){let s="";const c=r.toString().trim();if(A8.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function bz(n,e){return new u.vHH(3005,!1)}())}return c+s}}function bL(n,e,t,r,i,s,c,h,_,b,x,T,P){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:c,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:x,totalTime:T,errors:P}}const eM={};class wL{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function R8(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,c,h,_,b,x){const T=[],P=this.ast.options&&this.ast.options.params||eM,H=this.buildStyles(r,h&&h.params||eM,T),Q=_&&_.params||eM,oe=this.buildStyles(i,Q,T),ke=new Set,Ze=new Map,$e=new Map,Qe="void"===i,Tt={params:k8(Q,P),delay:this.ast.options?.delay},Pt=x?[]:QA(e,t,this.ast.animation,s,c,H,oe,Tt,b,T);let fn=0;if(Pt.forEach(Ao=>{fn=Math.max(Ao.duration+Ao.delay,fn)}),T.length)return bL(t,this._triggerName,r,i,Qe,H,oe,[],[],Ze,$e,fn,T);Pt.forEach(Ao=>{const Od=Ao.element,$3=sa(Ze,Od,new Set);Ao.preStyleProps.forEach(xm=>$3.add(xm));const v0=sa($e,Od,new Set);Ao.postStyleProps.forEach(xm=>v0.add(xm)),Od!==t&&ke.add(Od)});const Mr=$C(ke.values());return bL(t,this._triggerName,r,i,Qe,H,oe,Pt,Mr,Ze,$e,fn)}}function k8(n,e){const t=tb(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class O8{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=tb(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(i[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=rb(c,i,t));const _=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,_,c,t),r.set(h,c)})}),r}}class N8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new O8(i.style,i.options&&i.options.params||{},r))}),EL(this.states,"true","1"),EL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new wL(e,i,this.states))}),this.fallbackTransition=function F8(n,e,t){return new wL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function EL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const L8=new YC;class V8{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=ZA(this._driver,t,r,i);if(r.length)throw function Vz(n){return new u.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=eL(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let c;const h=new Map;if(s?(c=QA(this._driver,t,s,zA,UC,new Map,new Map,r,L8,i),c.forEach(x=>{const T=sa(h,x.element,new Map);x.postStyleProps.forEach(P=>T.set(P,null))})):(i.push(function Bz(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function Uz(n){return new u.vHH(3504,!1)}();h.forEach((x,T)=>{x.forEach((P,V)=>{x.set(V,this._driver.computeStyle(T,V,Ba))})});const b=nf(c.map(x=>{const T=h.get(x.element);return this._buildPlayer(x,new Map,T)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Hz(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=BA(t,"","","");return LA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const CL="ng-animate-queued",tM="ng-animate-disabled",z8=[],xL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ua="__ng_removed";class nM{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Z8(n){return n??null}(r?e.value:e),r){const s=tb(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const ib="void",rM=new nM(ib);class G8{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ha(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function jz(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function zz(n){return new u.vHH(3303,!1)}();if(!function K8(n){return"start"==n||"done"==n}(r))throw function $z(n,e){return new u.vHH(3400,!1)}();const s=sa(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};s.push(c);const h=sa(this._engine.statesByElement,e,new Map);return h.has(t)||(Ha(e,HC),Ha(e,HC+"-"+t),h.set(t,rM)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(c);_>=0&&s.splice(_,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Gz(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),c=new iM(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ha(e,HC),Ha(e,HC+"-"+t),this._engine.statesByElement.set(e,h=new Map));let _=h.get(t);const b=new nM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h.set(t,b),_||(_=rM),b.value!==ib&&_.value===b.value){if(!function X8(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(_.params,b.params)){const Q=[],oe=s.matchStyles(_.value,_.params,Q),ke=s.matchStyles(b.value,b.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Qp(e,oe),nu(e,ke)})}return}const P=sa(this._engine.playersByElement,e,[]);P.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==t&&Q.queued&&Q.destroy()});let V=s.matchTransition(_.value,b.value,e,b.params),H=!1;if(!V){if(!i)return;V=s.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:b,player:c,isFallbackTransition:H}),H||(Ha(e,CL),c.onStart(()=>{Jg(e,CL)})),c.onDone(()=>{let Q=this.players.indexOf(c);Q>=0&&this.players.splice(Q,1);const oe=this._engine.playersByElement.get(e);if(oe){let ke=oe.indexOf(c);ke>=0&&oe.splice(ke,1)}}),this.players.push(c),P.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,jC,!0);r.forEach(i=>{if(i[Ua])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(s.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const x=this.trigger(e,b,ib,i);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&nf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const c=s.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,b=r.get(c)||rM,x=new nM(ib),T=new iM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:x,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ua];(!s||s===xL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==r.triggerName){const _=BA(s,r.triggerName,r.fromState.value,r.toState.value);_._data=e,LA(r.player,h.phase,_,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class q8{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new G8(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const _=i.get(h);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(JC(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!JC(t))return;const s=t[Ua];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ha(e,tM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jg(e,tM))}removeNode(e,t,r,i){if(JC(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ua]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return JC(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,jC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$A,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return nf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ua];if(t&&t.setForRemoval){if(e[Ua]=xL,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(tM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ha(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?nf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function qz(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new YC,i=[],s=new Map,c=[],h=new Map,_=new Map,b=new Map,x=new Set;this.disabledNodes.forEach(Ct=>{x.add(Ct);const Nt=this.driver.query(Ct,".ng-animate-queued",!0);for(let $t=0;$t<Nt.length;$t++)x.add(Nt[$t])});const T=this.bodyNode,P=Array.from(this.statesByElement.keys()),V=SL(P,this.collectedEnterElements),H=new Map;let Q=0;V.forEach((Ct,Nt)=>{const $t=zA+Q++;H.set(Nt,$t),Ct.forEach(wn=>Ha(wn,$t))});const oe=[],ke=new Set,Ze=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Nt=this.collectedLeaveElements[Ct],$t=Nt[Ua];$t&&$t.setForRemoval&&(oe.push(Nt),ke.add(Nt),$t.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(wn=>ke.add(wn)):Ze.add(Nt))}const $e=new Map,Qe=SL(P,Array.from(ke));Qe.forEach((Ct,Nt)=>{const $t=UC+Q++;$e.set(Nt,$t),Ct.forEach(wn=>Ha(wn,$t))}),e.push(()=>{V.forEach((Ct,Nt)=>{const $t=H.get(Nt);Ct.forEach(wn=>Jg(wn,$t))}),Qe.forEach((Ct,Nt)=>{const $t=$e.get(Nt);Ct.forEach(wn=>Jg(wn,$t))}),oe.forEach(Ct=>{this.processLeaveNode(Ct)})});const Tt=[],Pt=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(t).forEach($t=>{const wn=$t.player,ji=$t.element;if(Tt.push(wn),this.collectedEnterElements.length){const Mo=ji[Ua];if(Mo&&Mo.setForMove){if(Mo.previousTriggersValues&&Mo.previousTriggersValues.has($t.triggerName)){const Im=Mo.previousTriggersValues.get($t.triggerName),Ga=this.statesByElement.get($t.element);if(Ga&&Ga.has($t.triggerName)){const RI=Ga.get($t.triggerName);RI.value=Im,Ga.set($t.triggerName,RI)}}return void wn.destroy()}}const hu=!T||!this.driver.containsElement(T,ji),da=$e.get(ji),Tf=H.get(ji),Rr=this._buildInstruction($t,r,Tf,da,hu);if(Rr.errors&&Rr.errors.length)return void Pt.push(Rr);if(hu)return wn.onStart(()=>Qp(ji,Rr.fromStyles)),wn.onDestroy(()=>nu(ji,Rr.toStyles)),void i.push(wn);if($t.isFallbackTransition)return wn.onStart(()=>Qp(ji,Rr.fromStyles)),wn.onDestroy(()=>nu(ji,Rr.toStyles)),void i.push(wn);const W3=[];Rr.timelines.forEach(Mo=>{Mo.stretchStartingKeyframe=!0,this.disabledNodes.has(Mo.element)||W3.push(Mo)}),Rr.timelines=W3,r.append(ji,Rr.timelines),c.push({instruction:Rr,player:wn,element:ji}),Rr.queriedElements.forEach(Mo=>sa(h,Mo,[]).push(wn)),Rr.preStyleProps.forEach((Mo,Im)=>{if(Mo.size){let Ga=_.get(Im);Ga||_.set(Im,Ga=new Set),Mo.forEach((RI,vk)=>Ga.add(vk))}}),Rr.postStyleProps.forEach((Mo,Im)=>{let Ga=b.get(Im);Ga||b.set(Im,Ga=new Set),Mo.forEach((RI,vk)=>Ga.add(vk))})});if(Pt.length){const Ct=[];Pt.forEach(Nt=>{Ct.push(function Wz(n,e){return new u.vHH(3505,!1)}())}),Tt.forEach(Nt=>Nt.destroy()),this.reportError(Ct)}const fn=new Map,Mr=new Map;c.forEach(Ct=>{const Nt=Ct.element;r.has(Nt)&&(Mr.set(Nt,Nt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,fn))}),i.forEach(Ct=>{const Nt=Ct.element;this._getPreviousPlayers(Nt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(wn=>{sa(fn,Nt,[]).push(wn),wn.destroy()})});const Ao=oe.filter(Ct=>AL(Ct,_,b)),Od=new Map;DL(Od,this.driver,Ze,b,Ba).forEach(Ct=>{AL(Ct,_,b)&&Ao.push(Ct)});const v0=new Map;V.forEach((Ct,Nt)=>{DL(v0,this.driver,new Set(Ct),_,Gp)}),Ao.forEach(Ct=>{const Nt=Od.get(Ct),$t=v0.get(Ct);Od.set(Ct,new Map([...Array.from(Nt?.entries()??[]),...Array.from($t?.entries()??[])]))});const xm=[],G3=[],q3={};c.forEach(Ct=>{const{element:Nt,player:$t,instruction:wn}=Ct;if(r.has(Nt)){if(x.has(Nt))return $t.onDestroy(()=>nu(Nt,wn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(wn.totalTime),void i.push($t);let ji=q3;if(Mr.size>1){let da=Nt;const Tf=[];for(;da=da.parentNode;){const Rr=Mr.get(da);if(Rr){ji=Rr;break}Tf.push(da)}Tf.forEach(Rr=>Mr.set(Rr,ji))}const hu=this._buildAnimation($t.namespaceId,wn,fn,s,v0,Od);if($t.setRealPlayer(hu),ji===q3)xm.push($t);else{const da=this.playersByElement.get(ji);da&&da.length&&($t.parentPlayer=nf(da)),i.push($t)}}else Qp(Nt,wn.fromStyles),$t.onDestroy(()=>nu(Nt,wn.toStyles)),G3.push($t),x.has(Nt)&&i.push($t)}),G3.forEach(Ct=>{const Nt=s.get(Ct.element);if(Nt&&Nt.length){const $t=nf(Nt);Ct.setRealPlayer($t)}}),i.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<oe.length;Ct++){const Nt=oe[Ct],$t=Nt[Ua];if(Jg(Nt,UC),$t&&$t.hasAnimation)continue;let wn=[];if(h.size){let hu=h.get(Nt);hu&&hu.length&&wn.push(...hu);let da=this.driver.query(Nt,$A,!0);for(let Tf=0;Tf<da.length;Tf++){let Rr=h.get(da[Tf]);Rr&&Rr.length&&wn.push(...Rr)}}const ji=wn.filter(hu=>!hu.destroyed);ji.length?Y8(this,Nt,ji):this.processLeaveNode(Nt)}return oe.length=0,xm.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Nt=this.players.indexOf(Ct);this.players.splice(Nt,1)}),Ct.play()}),xm}elementContainsData(e,t){let r=!1;const i=t[Ua];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const _=!s||s==ib;h.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,x=b!==s,T=sa(r,b,[]);this._getPreviousPlayers(b,x,c,h,t.toState).forEach(V=>{const H=V.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),V.destroy(),T.push(V)})}Qp(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,c){const h=t.triggerName,_=t.element,b=[],x=new Set,T=new Set,P=t.timelines.map(H=>{const Q=H.element;x.add(Q);const oe=Q[Ua];if(oe&&oe.removedBeforeQueried)return new Jh(H.duration,H.delay);const ke=Q!==_,Ze=function Q8(n){const e=[];return TL(n,e),e}((r.get(Q)||z8).map(fn=>fn.getRealPlayer())).filter(fn=>!!fn.element&&fn.element===Q),$e=s.get(Q),Qe=c.get(Q),Tt=eL(0,this._normalizer,0,H.keyframes,$e,Qe),Pt=this._buildPlayer(H,Tt,Ze);if(H.subTimeline&&i&&T.add(Q),ke){const fn=new iM(e,h,Q);fn.setRealPlayer(Pt),b.push(fn)}return Pt});b.forEach(H=>{sa(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function W8(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,H.element,H))}),x.forEach(H=>Ha(H,cL));const V=nf(P);return V.onDestroy(()=>{x.forEach(H=>Jg(H,cL)),nu(_,t.toStyles)}),T.forEach(H=>{sa(i,H,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Jh(e.duration,e.delay)}}class iM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Jh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>LA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function JC(n){return n&&1===n.nodeType}function IL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function DL(n,e,t,r,i){const s=[];t.forEach(_=>s.push(IL(_)));const c=[];r.forEach((_,b)=>{const x=new Map;_.forEach(T=>{const P=e.computeStyle(b,T,i);x.set(T,P),(!P||0==P.length)&&(b[Ua]=$8,c.push(b))}),n.set(b,x)});let h=0;return t.forEach(_=>IL(_,s[h++])),c}function SL(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function c(h){if(!h)return r;let _=s.get(h);if(_)return _;const b=h.parentNode;return _=t.has(b)?b:i.has(b)?r:c(b),s.set(h,_),_}return e.forEach(h=>{const _=c(h);_!==r&&t.get(_).push(h)}),t}function Ha(n,e){n.classList?.add(e)}function Jg(n,e){n.classList?.remove(e)}function Y8(n,e,t){nf(t).onDone(()=>n.processLeaveNode(e))}function TL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Gg?TL(r.players,e):e.push(r)}}function AL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class ex{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new q8(e,t,r),this._timelineEngine=new V8(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const _=[],b=[],x=ZA(this._driver,s,_,b);if(_.length)throw function Fz(n,e){return new u.vHH(3404,!1)}();h=function P8(n,e,t){return new N8(n,e,t)}(i,x,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,c]=tL(r);this._timelineEngine.command(s,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[c,h]=tL(r);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let e$=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&nu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nu(this._element,this._initialStyles),this._endStyles&&(nu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qp(this._element,this._endStyles),this._endStyles=null),nu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function oM(n){let e=null;return n.forEach((t,r)=>{(function t$(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ML{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:mL(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class n${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return oL(e,t)}getParentElement(e){return HA(e)}query(e,t,r){return sL(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(_.easing=s);const b=new Map,x=c.filter(V=>V instanceof ML);(function s8(n,e){return 0===n||0===e})(r,i)&&x.forEach(V=>{V.currentSnapshot.forEach((H,Q)=>b.set(Q,H))});let T=function n8(n){return n.length?n[0]instanceof Map?n:n.map(e=>uL(e)):[]}(t).map(V=>rf(V));T=function a8(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,c)=>{r.has(c)||i.push(c),r.set(c,s)}),i.length)for(let s=1;s<e.length;s++){let c=e[s];i.forEach(h=>c.set(h,mL(n,h)))}}return e}(e,T,b);const P=function J8(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=oM(e[0]),e.length>1&&(r=oM(e[e.length-1]))):e instanceof Map&&(t=oM(e)),t||r?new e$(n,t,r):null}(e,T);return new ML(e,T,_,P)}}let r$=(()=>{class n extends MT{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?RT(t):t;return RL(this._renderer,null,r,"register",[i]),new i$(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(J))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class i$ extends qP{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new o$(this._id,e,t||{},this._renderer)}}class o${constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return RL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function RL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const kL="@.disabled";let s$=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,c)=>{const h=c?.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(s);return x||(x=new OL("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,x)),x}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const _=x=>{Array.isArray(x)?x.forEach(_):this.engine.registerTrigger(c,h,t,x.name,x)};return r.data.animation.forEach(_),new a$(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ex),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class OL{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==kL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class a$ extends OL{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function l$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function c$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let u$=(()=>{class n extends ex{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(jA),u.LFG(JA),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const PL=[{provide:MT,useClass:r$},{provide:JA,useFactory:function d$(){return new M8}},{provide:ex,useClass:u$},{provide:u.FYo,useFactory:function h$(n,e,t){return new s$(n,e,t)},deps:[Ai,ex,u.R0b]}],sM=[{provide:jA,useFactory:()=>new n$},{provide:u.QbO,useValue:"BrowserAnimations"},...PL],NL=[{provide:jA,useClass:aL},{provide:u.QbO,useValue:"NoopAnimations"},...PL];let f$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?NL:sM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:sM,imports:[Us]}),n})();function aM(){return(0,fr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Zn.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}L(2644);var st,p$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$l={},lM=lM||{},Yt=p$||self;function nx(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ob(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var cM="closure_uid_"+(1e9*Math.random()>>>0),g$=0;function _$(n,e,t){return n.call.apply(n.bind,arguments)}function y$(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function xo(n,e,t){return(xo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_$:y$).apply(null,arguments)}function rx(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Li(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function sf(){this.s=this.s,this.o=this.o}sf.prototype.s=!1,sf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function m$(n){Object.prototype.hasOwnProperty.call(n,cM)&&n[cM]||(n[cM]=++g$)}(this)},sf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function uM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function LL(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nx(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let c=0;c<s;c++)n[i+c]=r[c]}else n.push(r)}}function Io(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Io.prototype.h=function(){this.defaultPrevented=!0};var b$=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",()=>{},e),Yt.removeEventListener("test",()=>{},e)}catch{}return n}();function sb(n){return/^[\s\xa0]*$/.test(n)}function ix(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function ru(n){return-1!=ix().indexOf(n)}function dM(n){return dM[" "](n),n}dM[" "]=function(){};var fM,n,E$=ru("Opera"),e_=ru("Trident")||ru("MSIE"),VL=ru("Edge"),hM=VL||e_,BL=ru("Gecko")&&!(-1!=ix().toLowerCase().indexOf("webkit")&&!ru("Edge"))&&!(ru("Trident")||ru("MSIE"))&&!ru("Edge"),C$=-1!=ix().toLowerCase().indexOf("webkit")&&!ru("Edge");function UL(){var n=Yt.document;return n?n.documentMode:void 0}e:{var pM="",mM=(n=ix(),BL?/rv:([^\);]+)(\)|;)/.exec(n):VL?/Edge\/([\d\.]+)/.exec(n):e_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):C$?/WebKit\/(\S+)/.exec(n):E$?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mM&&(pM=mM?mM[1]:""),e_){var gM=UL();if(null!=gM&&gM>parseFloat(pM)){fM=String(gM);break e}}fM=pM}var x$=Yt.document&&e_&&(UL()||parseInt(fM,10))||void 0;function ab(n,e){if(Io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(BL){e:{try{dM(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:I$[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ab.$.h.call(this)}}Li(ab,Io);var I$={2:"touch",3:"pen",4:"mouse"};ab.prototype.h=function(){ab.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var lb="closure_listenable_"+(1e6*Math.random()|0),D$=0;function S$(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++D$,this.fa=this.ia=!1}function ox(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function yM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jL(n){const e={};for(const t in n)e[t]=n[t];return e}const zL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $L(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<zL.length;s++)t=zL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function sx(n){this.src=n,this.g={},this.h=0}function vM(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=FL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ox(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bM(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}sx.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=bM(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new S$(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var wM="closure_lm_"+(1e6*Math.random()|0),EM={};function GL(n,e,t,r,i){if(r&&r.once)return WL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)GL(n,e[s],t,r,i);return null}return t=DM(t),n&&n[lb]?n.O(e,t,ob(r)?!!r.capture:!!r,i):qL(n,e,t,!1,r,i)}function qL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=ob(i)?!!i.capture:!!i,h=xM(n);if(h||(n[wM]=h=new sx(n)),(t=h.add(e,t,r,c,s)).proxy)return t;if(r=function A$(){const e=M$;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)b$||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(KL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function WL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WL(n,e[s],t,r,i);return null}return t=DM(t),n&&n[lb]?n.P(e,t,ob(r)?!!r.capture:!!r,i):qL(n,e,t,!0,r,i)}function ZL(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ZL(n,e[s],t,r,i);else r=ob(r)?!!r.capture:!!r,t=DM(t),n&&n[lb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bM(s=n.g[e],t,r,i))&&(ox(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=xM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bM(e,t,r,i)),(t=-1<n?e[n]:null)&&CM(t))}function CM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[lb])vM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xM(e))?(vM(t,n),0==t.h&&(t.src=null,e[wM]=null)):ox(n)}}}function KL(n){return n in EM?EM[n]:EM[n]="on"+n}function M$(n,e){if(n.fa)n=!0;else{e=new ab(e,this);var t=n.listener,r=n.la||n.src;n.ia&&CM(n),n=t.call(r,e)}return n}function xM(n){return(n=n[wM])instanceof sx?n:null}var IM="__closure_events_fn_"+(1e9*Math.random()>>>0);function DM(n){return"function"==typeof n?n:(n[IM]||(n[IM]=function(e){return n.handleEvent(e)}),n[IM])}function Vi(){sf.call(this),this.i=new sx(this),this.S=this,this.J=null}function ro(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Io(e,n);else if(e instanceof Io)e.target=e.target||n;else{var i=e;$L(e=new Io(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=ax(c,r,!0,e)&&i}if(i=ax(c=e.g=n,r,!0,e)&&i,i=ax(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=ax(c=e.g=t[s],r,!1,e)&&i}function ax(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.fa&&c.capture==t){var h=c.listener,_=c.la||c.src;c.ia&&vM(n.i,c),i=!1!==h.call(_,r)&&i}}return i&&!r.defaultPrevented}Li(Vi,sf),Vi.prototype[lb]=!0,Vi.prototype.removeEventListener=function(n,e,t,r){ZL(this,n,e,t,r)},Vi.prototype.N=function(){if(Vi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ox(t[r]);delete n.g[e],n.h--}}this.J=null},Vi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var SM=Yt.JSON.stringify;function k$(){var n=TM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var YL=new class R${constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new P$,n=>n.reset());class P${constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function N$(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function F$(n){Yt.setTimeout(()=>{throw n},0)}let cb,ub=!1,TM=new class O${constructor(){this.h=this.g=null}add(e,t){const r=YL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},QL=()=>{const n=Yt.Promise.resolve(void 0);cb=()=>{n.then(L$)}};var L$=()=>{for(var n;n=k$();){try{n.h.call(n.g)}catch(t){F$(t)}var e=YL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ub=!1};function lx(n,e){Vi.call(this),this.h=n||1,this.g=e||Yt,this.j=xo(this.qb,this),this.l=Date.now()}function AM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function MM(n,e,t){if("function"==typeof n)t&&(n=xo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Yt.setTimeout(n,e||0)}function XL(n){n.g=MM(()=>{n.g=null,n.i&&(n.i=!1,XL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Li(lx,Vi),(st=lx.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ro(this,"tick"),this.ga&&(AM(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){lx.$.N.call(this),AM(this),delete this.g};class V$ extends sf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XL(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function db(n){sf.call(this),this.h=n,this.g={}}Li(db,sf);var JL=[];function e2(n,e,t,r){Array.isArray(t)||(t&&(JL[0]=t.toString()),t=JL);for(var i=0;i<t.length;i++){var s=GL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function t2(n){yM(n.g,function(e,t){this.g.hasOwnProperty(t)&&CM(e)},n),n.g={}}function cx(){this.g=!0}function t_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function j$(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return SM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}db.prototype.N=function(){db.$.N.call(this),t2(this)},db.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cx.prototype.Ea=function(){this.g=!1},cx.prototype.info=function(){};var Jp={},n2=null;function ux(){return n2=n2||new Vi}function r2(n){Io.call(this,Jp.Ta,n)}function hb(n){const e=ux();ro(e,new r2(e))}function o2(n,e){Io.call(this,Jp.STAT_EVENT,n),this.stat=e}function Jo(n){const e=ux();ro(e,new o2(e,n))}function s2(n,e){Io.call(this,Jp.Ua,n),this.size=e}function fb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},e)}Jp.Ta="serverreachability",Li(r2,Io),Jp.STAT_EVENT="statevent",Li(o2,Io),Jp.Ua="timingevent",Li(s2,Io);var dx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},a2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function RM(){}function c2(){}RM.prototype.h=null;var PM,pb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kM(){Io.call(this,"d")}function OM(){Io.call(this,"c")}function hx(){}function mb(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new db(this),this.P=z$,this.V=new lx(n=hM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new u2}function u2(){this.i=null,this.g="",this.h=!1}Li(kM,Io),Li(OM,Io),Li(hx,RM),hx.prototype.g=function(){return new XMLHttpRequest},hx.prototype.i=function(){return{}},PM=new hx;var z$=45e3,NM={},fx={};function FM(n,e,t){n.L=1,n.v=_x(Cd(e)),n.s=t,n.S=!0,d2(n,null)}function d2(n,e){n.G=Date.now(),gb(n),n.A=Cd(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),w2(t.i,"t",r),n.C=0,t=n.l.J,n.h=new u2,n.g=G2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new V$(xo(n.Pa,n,n.g),n.O)),e2(n.U,n.g,"readystatechange",n.nb),e=n.I?jL(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),hb(),function B$(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var x=b[0];b=b[1];var T=x.split("_");c=2<=T.length&&"type"==T[1]?c+(x+"=")+b+"&":c+(x+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function h2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function f2(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=$$(n,t),i==fx){4==e&&(n.o=4,Jo(14),r=!1),t_(n.j,n.m,null,"[Incomplete Response]");break}if(i==NM){n.o=4,Jo(15),t_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}t_(n.j,n.m,i,null),LM(n,i)}h2(n)&&i!=fx&&i!=NM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Jo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),$M(e),e.M=!0,Jo(11))):(t_(n.j,n.m,t,"[Invalid Chunked Response]"),em(n),_b(n))}function $$(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fx:(t=Number(e.substring(t,r)),isNaN(t)?NM:(r+=1)+t>e.length?fx:(e=e.slice(r,r+t),n.C=r+t,e))}function gb(n){n.Y=Date.now()+n.P,p2(n,n.P)}function p2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fb(xo(n.lb,n),e)}function px(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function _b(n){0==n.l.H||n.J||H2(n.l,n)}function em(n){px(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,AM(n.V),t2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function LM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||VM(t.i,n)))if(!n.K&&VM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Cx(t),wx(t)}zM(t),Jo(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=fb(xo(t.ib,t),6e3));if(1>=x2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else nm(t,11)}else if((n.K||t.g==n)&&Cx(t),!sb(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const x=b[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const T=b[4];null!=T&&(t.Ga=T,t.l.info("SVER="+t.Ga));const P=b[5];null!=P&&"number"==typeof P&&0<P&&(t.L=r=1.5*P,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const H=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var s=r.i;s.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(BM(s,s.h),s.h=null))}if(r.F){const Q=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(r.Da=Q,rr(r.I,r.F,Q))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=$2(r,r.J?r.pa:null,r.Y),c.K){I2(r.i,c);var h=c,_=r.L;_&&h.setTimeout(_),h.B&&(px(h),gb(h)),r.g=c}else B2(r);0<t.j.length&&Ex(t)}else"stop"!=b[0]&&"close"!=b[0]||nm(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?nm(t,7):jM(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}hb()}catch{}}function m2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nx(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function q$(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nx(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function G$(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nx(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(st=mb.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const e=this.M;e&&3==iu(n)?e.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const x=iu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||hM||this.g&&(this.h.h||this.g.ja()||O2(this.g)))){this.J||4!=x||7==e||hb(),px(this);var t=this.g.da();this.ca=t;t:if(h2(this)){var r=O2(this.g);n="";var i=r.length,s=4==iu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){em(this),_b(this);var c="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function U$(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sb(h)){var b=h;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Jo(12),em(this),_b(this);break e}t_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LM(this,t)}this.S?(f2(this,x,c),hM&&this.i&&3==x&&(e2(this.U,this.V,"tick",this.mb),this.V.start())):(t_(this.j,this.m,c,null),LM(this,c)),4==x&&em(this),this.i&&!this.J&&(4==x?H2(this.l,this):(this.i=!1,gb(this)))}else(function u9(n){const e={};n=(n.g&&2<=iu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(sb(n[r]))continue;var t=N$(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function T$(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Jo(12)):(this.o=0,Jo(13)),em(this),_b(this)}}}catch{}},st.mb=function(){if(this.g){var n=iu(this.g),e=this.g.ja();this.C<e.length&&(px(this),f2(this,n,e),this.i&&4!=n&&gb(this))}},st.cancel=function(){this.J=!0,em(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function H$(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(hb(),Jo(17)),em(this),this.o=2,_b(this)):p2(this,this.Y-n)};var g2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tm){this.h=n.h,mx(this,n.j),this.s=n.s,this.g=n.g,gx(this,n.m),this.l=n.l;var e=n.i,t=new bb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_2(this,t),this.o=n.o}else n&&(e=String(n).match(g2))?(this.h=!1,mx(this,e[1]||"",!0),this.s=yb(e[2]||""),this.g=yb(e[3]||"",!0),gx(this,e[4]),this.l=yb(e[5]||"",!0),_2(this,e[6]||"",!0),this.o=yb(e[7]||"")):(this.h=!1,this.i=new bb(null,this.h))}function Cd(n){return new tm(n)}function mx(n,e,t){n.j=t?yb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gx(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _2(n,e,t){e instanceof bb?(n.i=e,function J$(n,e){e&&!n.j&&(af(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(v2(this,r),w2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vb(e,Q$)),n.i=new bb(e,n.h))}function rr(n,e,t){n.i.set(e,t)}function _x(n){return rr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Z$),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Z$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vb(e,y2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vb(e,y2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vb(t,"/"==t.charAt(0)?Y$:K$,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vb(t,X$)),n.join("")};var y2=/[#\/\?@]/g,K$=/[#\?:]/g,Y$=/[#\?]/g,Q$=/[#\?@]/g,X$=/#/g;function bb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function af(n){n.g||(n.g=new Map,n.h=0,n.i&&function W$(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function v2(n,e){af(n),e=n_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function b2(n,e){return af(n),e=n_(n,e),n.g.has(e)}function w2(n,e,t){v2(n,e),0<t.length&&(n.i=null,n.g.set(n_(n,e),uM(t)),n.h+=t.length)}function n_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function E2(n){this.l=n||t9,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=bb.prototype).add=function(n,e){af(this),this.i=null,n=n_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){af(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},st.ta=function(){af(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},st.Z=function(n){af(this);let e=[];if("string"==typeof n)b2(this,n)&&(e=e.concat(this.g.get(n_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},st.set=function(n,e){return af(this),this.i=null,b2(this,n=n_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=s;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var t9=10;function C2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function x2(n){return n.h?1:n.g?n.g.size:0}function VM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BM(n,e){n.g?n.g.add(e):n.h=e}function I2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function D2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return uM(n.i)}E2.prototype.cancel=function(){if(this.i=D2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n9=class{stringify(n){return Yt.JSON.stringify(n,void 0)}parse(n){return Yt.JSON.parse(n,void 0)}};function r9(){this.g=new n9}function i9(n,e,t){const r=t||"";try{m2(n,function(i,s){let c=i;ob(i)&&(c=SM(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yx(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function wb(n){this.l=n.fc||null,this.j=n.ob||!1}function vx(n,e){Vi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=UM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Li(wb,RM),wb.prototype.g=function(){return new vx(this.l,this.j)},wb.prototype.i=function(n){return function(){return n}}({}),Li(vx,Vi);var UM=0;function S2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Eb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cb(n)}function Cb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=vx.prototype).open=function(n,e){if(this.readyState!=UM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cb(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eb(this)),this.readyState=UM},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cb(this)),this.g&&(this.readyState=3,Cb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;S2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Eb(this):Cb(this),3==this.readyState&&S2(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,Eb(this))},st.Ya=function(n){this.g&&(this.response=n,Eb(this))},st.ka=function(){this.g&&Eb(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var s9=Yt.JSON.parse;function Br(n){Vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=T2,this.L=this.M=!1}Li(Br,Vi);var T2="",a9=/^https?$/i,l9=["POST","PUT"];function A2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,M2(n),bx(n)}function M2(n){n.F||(n.F=!0,ro(n,"complete"),ro(n,"error"))}function R2(n){if(n.h&&typeof lM<"u"&&(!n.C[1]||4!=iu(n)||2!=n.da()))if(n.v&&4==iu(n))MM(n.La,0,n);else if(ro(n,"readystatechange"),4==iu(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(g2)[1]||null;!i&&Yt.self&&Yt.self.location&&(i=Yt.self.location.protocol.slice(0,-1)),r=!a9.test(i?i.toLowerCase():"")}t=r}if(t)ro(n,"complete"),ro(n,"success");else{n.m=6;try{var s=2<iu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",M2(n)}}finally{bx(n)}}}function bx(n,e){if(n.g){k2(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ro(n,"ready");try{t.onreadystatechange=r}catch{}}}function k2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function iu(n){return n.g?n.g.readyState:0}function O2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case T2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function P2(n){let e="";return yM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function HM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=P2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rr(n,e,t))}function xb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function N2(n){this.Ga=0,this.j=[],this.l=new cx,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xb("baseRetryDelayMs",5e3,n),this.hb=xb("retryDelaySeedMs",1e4,n),this.eb=xb("forwardChannelMaxRetries",2,n),this.xa=xb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new E2(n&&n.concurrentRequestLimit),this.Ja=new r9,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jM(n){if(F2(n),3==n.H){var e=n.W++,t=Cd(n.I);if(rr(t,"SID",n.K),rr(t,"RID",e),rr(t,"TYPE","terminate"),Ib(n,t),(e=new mb(n,n.l,e)).L=2,e.v=_x(Cd(t)),t=!1,Yt.navigator&&Yt.navigator.sendBeacon)try{t=Yt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=G2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gb(e)}z2(n)}function wx(n){n.g&&($M(n),n.g.cancel(),n.g=null)}function F2(n){wx(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),Cx(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function Ex(n){if(!C2(n.i)&&!n.m){n.m=!0;var e=n.Na;cb||QL(),ub||(cb(),ub=!0),TM.add(e,n),n.C=0}}function L2(n,e){var t;t=e?e.m:n.W++;const r=Cd(n.I);rr(r,"SID",n.K),rr(r,"RID",t),rr(r,"AID",n.V),Ib(n,r),n.o&&n.s&&HM(r,n.o,n.s),t=new mb(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=V2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),BM(n.i,t),FM(t,r,e)}function Ib(n,e){n.na&&yM(n.na,function(t,r){rr(e,r,t)}),n.h&&m2({},function(t,r){rr(e,r,t)})}function V2(n,e,t){t=Math.min(n.j.length,t);var r=n.h?xo(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let _=0;_<t;_++){let b=i[_].g;const x=i[_].map;if(b-=s,0>b)s=Math.max(0,i[_].g-100),h=!1;else try{i9(x,c,"req"+b+"_")}catch{r&&r(x)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function B2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cb||QL(),ub||(cb(),ub=!0),TM.add(e,n),n.A=0}}function zM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=fb(xo(n.Ma,n),j2(n,n.A)),n.A++,0))}function $M(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function U2(n){n.g=new mb(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Cd(n.wa);rr(e,"RID","rpc"),rr(e,"SID",n.K),rr(e,"AID",n.V),rr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&rr(e,"TO",n.qa),rr(e,"TYPE","xmlhttp"),Ib(n,e),n.o&&n.s&&HM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=_x(Cd(e)),t.s=null,t.S=!0,d2(t,n)}function Cx(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function H2(n,e){var t=null;if(n.g==e){Cx(n),$M(n),n.g=null;var r=2}else{if(!VM(n.i,e))return;t=e.F,I2(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ro(r=ux(),new s2(r,t)),Ex(n)}else B2(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function d9(n,e){return!(x2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=fb(xo(n.Na,n,e),j2(n,n.C)),n.C++,0)))}(n,e)||2==r&&zM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:nm(n,5);break;case 4:nm(n,10);break;case 3:nm(n,6);break;default:nm(n,2)}}function j2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function nm(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=xo(n.pb,n);t||(t=new tm("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||mx(t,"https"),_x(t)),function o9(n,e){const t=new cx;if(Yt.Image){const r=new Image;r.onload=rx(yx,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rx(yx,t,r,"TestLoadImage: error",!1,e),r.onabort=rx(yx,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rx(yx,t,r,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Jo(2);n.H=0,n.h&&n.h.za(e),z2(n),F2(n)}function z2(n){if(n.H=0,n.ma=[],n.h){const e=D2(n.i);(0!=e.length||0!=n.j.length)&&(LL(n.ma,e),LL(n.ma,n.j),n.i.i.length=0,uM(n.j),n.j.length=0),n.h.ya()}}function $2(n,e,t){var r=t instanceof tm?Cd(t):new tm(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gx(r,r.m);else{var i=Yt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new tm(null);r&&mx(s,r),e&&(s.g=e),i&&gx(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&rr(r,t,e),rr(r,"VER",n.ra),Ib(n,r),r}function G2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&n.Ha&&!n.va?new wb({ob:!0}):n.va)).Oa(n.J),e}function q2(){}function xx(){if(e_&&!(10<=Number(x$)))throw Error("Environmental error: no available transport.")}function la(n,e){Vi.call(this),this.g=new N2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sb(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new r_(this)}function W2(n){kM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Z2(){OM.call(this),this.status=1}function r_(n){this.g=n}function Gl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function GM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],c=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;c=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(c<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(e=t+((c=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=s+((c=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function On(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(st=Br.prototype).Oa=function(n){this.M=n},st.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():PM.g(),this.C=function l2(n){return n.h||(n.h=n.i())}(this.u?this.u:PM),this.g.onreadystatechange=xo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void A2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Yt.FormData&&n instanceof Yt.FormData,!(0<=FL(l9,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{k2(this),0<this.B&&((this.L=function c9(n){return e_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xo(this.ua,this)):this.A=MM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){A2(this,s)}},st.ua=function(){typeof lM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ro(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ro(this,"complete"),ro(this,"abort"),bx(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bx(this,!0)),Br.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?R2(this):this.kb())},st.kb=function(){R2(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<iu(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),s9(e)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=N2.prototype).ra=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new mb(this,this.l,n);let s=this.s;if(this.U&&(s?(s=jL(s),$L(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=V2(this,i,e),rr(t=Cd(this.I),"RID",n),rr(t,"CVER",22),this.F&&rr(t,"X-HTTP-Session-Id",this.F),Ib(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(P2(s)))+"&"+e:this.o&&HM(t,this.o,s)),BM(this.i,i),this.bb&&rr(t,"TYPE","init"),this.P?(rr(t,"$req",e),rr(t,"SID","null"),i.aa=!0,FM(i,t,null)):FM(i,t,e),this.H=2}}else 3==this.H&&(n?L2(this,n):0==this.j.length||C2(this.i)||L2(this))},st.Ma=function(){if(this.u=null,U2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=fb(xo(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jo(10),wx(this),U2(this))},st.ib=function(){null!=this.v&&(this.v=null,wx(this),zM(this),Jo(19))},st.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Jo(2)):(this.l.info("Failed to ping google.com"),Jo(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=q2.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},xx.prototype.g=function(n,e){return new la(n,e)},Li(la,Vi),la.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Jo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$2(n,null,n.Y),Ex(n)},la.prototype.close=function(){jM(this.g)},la.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=SM(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ex(e)},la.prototype.N=function(){this.g.h=null,delete this.j,jM(this.g),delete this.g,la.$.N.call(this)},Li(W2,kM),Li(Z2,OM),Li(r_,q2),r_.prototype.Ba=function(){ro(this.g,"a")},r_.prototype.Aa=function(n){ro(this.g,new W2(n))},r_.prototype.za=function(n){ro(this.g,new Z2)},r_.prototype.ya=function(){ro(this.g,"b")},Li(Gl,function h9(){this.blockSize=-1}),Gl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)GM(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){GM(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){GM(this,r),i=0;break}}this.h=i,this.i+=e},Gl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var f9={};function qM(n){return-128<=n&&128>n?function w$(n,e){var t=f9;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new On([0|e],0>e?-1:0)}):new On([0|n],0>n?-1:0)}function ou(n){if(isNaN(n)||!isFinite(n))return i_;if(0>n)return io(ou(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=WM;return new On(e,0)}var WM=4294967296,i_=qM(0),ZM=qM(1),Y2=qM(16777216);function xd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ja(n){return-1==n.h}function io(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new On(t,~n.h).add(ZM)}function Ix(n,e){return n.add(io(e))}function Dx(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Db(n,e){this.g=n,this.h=e}function Sx(n,e){if(xd(e))throw Error("division by zero");if(xd(n))return new Db(i_,i_);if(ja(n))return e=Sx(io(n),e),new Db(io(e.g),io(e.h));if(ja(e))return e=Sx(n,io(e)),new Db(io(e.g),e.h);if(30<n.g.length){if(ja(n)||ja(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ZM,r=e;0>=r.X(n);)t=Q2(t),r=Q2(r);var i=o_(t,1),s=o_(r,1);for(r=o_(r,2),t=o_(t,2);!xd(r);){var c=s.add(r);0>=c.X(n)&&(i=i.add(t),s=c),r=o_(r,1),t=o_(t,1)}return e=Ix(n,i.R(e)),new Db(i,e)}for(i=i_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(s=ou(t)).R(e);ja(c)||0<c.X(n);)c=(s=ou(t-=r)).R(e);xd(s)&&(s=ZM),i=i.add(s),n=Ix(n,c)}return new Db(i,n)}function Q2(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new On(t,n.h)}function o_(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new On(i,n.h)}(st=On.prototype).ea=function(){if(ja(this))return-io(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:WM+r)*e,e*=WM}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(xd(this))return"0";if(ja(this))return"-"+io(this).toString(n);for(var e=ou(Math.pow(n,6)),t=this,r="";;){var i=Sx(t,e).g,s=((0<(t=Ix(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(xd(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return ja(n=Ix(this,n))?-1:xd(n)?0:1},st.abs=function(){return ja(this)?io(this):this},st.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),c=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(s&=65535)}return new On(t,-2147483648&t[t.length-1]?-1:0)},st.R=function(n){if(xd(this)||xd(n))return i_;if(ja(this))return ja(n)?io(this).R(io(n)):io(io(this).R(n));if(ja(n))return io(this.R(io(n)));if(0>this.X(Y2)&&0>n.X(Y2))return ou(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,Dx(t,2*r+2*i),t[2*r+2*i+1]+=s*_,Dx(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,Dx(t,2*r+2*i+1),t[2*r+2*i+2]+=s*h,Dx(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new On(t,0)},st.gb=function(n){return Sx(this,n).h},st.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new On(t,this.h&n.h)},st.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new On(t,this.h|n.h)},st.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new On(t,this.h^n.h)},xx.prototype.createWebChannel=xx.prototype.g,la.prototype.send=la.prototype.u,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,dx.NO_ERROR=0,dx.TIMEOUT=8,dx.HTTP_ERROR=6,a2.COMPLETE="complete",c2.EventType=pb,pb.OPEN="a",pb.CLOSE="b",pb.ERROR="c",pb.MESSAGE="d",Vi.prototype.listen=Vi.prototype.O,Br.prototype.listenOnce=Br.prototype.P,Br.prototype.getLastError=Br.prototype.Sa,Br.prototype.getLastErrorCode=Br.prototype.Ia,Br.prototype.getStatus=Br.prototype.da,Br.prototype.getResponseJson=Br.prototype.Wa,Br.prototype.getResponseText=Br.prototype.ja,Br.prototype.send=Br.prototype.ha,Br.prototype.setWithCredentials=Br.prototype.Oa,Gl.prototype.digest=Gl.prototype.l,Gl.prototype.reset=Gl.prototype.reset,Gl.prototype.update=Gl.prototype.j,On.prototype.add=On.prototype.add,On.prototype.multiply=On.prototype.R,On.prototype.modulo=On.prototype.gb,On.prototype.compare=On.prototype.X,On.prototype.toNumber=On.prototype.ea,On.prototype.toString=On.prototype.toString,On.prototype.getBits=On.prototype.D,On.fromNumber=ou,On.fromString=function K2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return io(K2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ou(Math.pow(e,8)),r=i_,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+s),e);8>s?(s=ou(Math.pow(e,s)),r=r.R(s).add(ou(c))):r=(r=r.R(t)).add(ou(c))}return r};var p9=$l.createWebChannelTransport=function(){return new xx},m9=$l.getStatEventTarget=function(){return ux()},KM=$l.ErrorCode=dx,g9=$l.EventType=a2,_9=$l.Event=Jp,X2=$l.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y9=$l.FetchXmlHttpFactory=wb,Tx=$l.WebChannel=c2,v9=$l.XhrIo=Br,b9=$l.Md5=Gl,s_=$l.Integer=On;const J2="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let a_="9.23.0";const lf=new tf.Yd("@firebase/firestore");function YM(){return lf.logLevel}function He(n,...e){if(lf.logLevel<=tf.in.DEBUG){const t=e.map(QM);lf.debug(`Firestore (${a_}): ${n}`,...t)}}function Kr(n,...e){if(lf.logLevel<=tf.in.ERROR){const t=e.map(QM);lf.error(`Firestore (${a_}): ${n}`,...t)}}function za(n,...e){if(lf.logLevel<=tf.in.WARN){const t=e.map(QM);lf.warn(`Firestore (${a_}): ${n}`,...t)}}function QM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${a_}) INTERNAL ASSERTION FAILED: `+n;throw Kr(e),new Error(e)}function xt(n,e){n||pt()}function rt(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class x9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class I9{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new bi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const b=c;e.enqueueRetryable((0,ge.Z)(function*(){yield b.promise,yield s(r.currentUser)}))},_=b=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new bi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new eV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Bi(e)}}class D9{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class S9{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new D9(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.T=t.token,new tV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function A9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class nV{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=A9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function l_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function rV(n){return n+"\0"}class gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new gr(0,0))}static max(){return new Dt(new gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sb{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Sb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends Sb{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const M9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ur extends Sb{construct(e,t,r){return new Ur(e,t,r)}static isValidIdentifier(e){return M9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ur(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(s(),i++)}if(s(),c)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ur(t)}static emptyPath(){return new Ur([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(gn.fromString(e))}static fromName(e){return new et(gn.fromString(e).popFirst(5))}static empty(){return new et(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new gn(e.slice()))}}class Ax{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function XM(n){return n.fields.find(e=>2===e.kind)}function rm(n){return n.fields.filter(e=>2!==e.kind)}Ax.UNKNOWN_ID=-1;class Mx{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tb(0,ca.min())}}function iV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new gr(t+1,0):new gr(t,r));return new ca(i,et.empty(),e)}function oV(n){return new ca(n.readTime,n.key,-1)}class ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ca(Dt.min(),et.empty(),-1)}static max(){return new ca(Dt.max(),et.empty(),-1)}}function JM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const sV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cf(n){return e1.apply(this,arguments)}function e1(){return e1=(0,ge.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==sV)throw n;He("LocalStore","Unexpectedly lost primary lease")}),e1.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,s=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++s,c&&s===i&&t()},_=>r(_))}),c=!0,s===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const s=e.length,c=new Array(s);let h=0;for(let _=0;_<s;_++){const b=_;t(e[b]).next(x=>{c[b]=x,++h,h===s&&r(c)},x=>i(x))}})}static doWhile(e,t){return new ae((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Rx{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new bi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ab(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=t1(r.target.error);this.v.reject(new Ab(e,i))}}static open(e,t,r,i){try{return new Rx(t,e.transaction(i,r))}catch(s){throw new Ab(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new P9(t)}}class ql{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===ql.S((0,Xt.z$)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),im(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Xt.hl)())return!1;if(ql.C())return!0;const e=(0,Xt.z$)(),t=ql.S(e),r=0<t&&t<10,i=ql.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ge.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{r(c.target.result)},s.onblocked=()=>{i(new Ab(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new Re(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Ab(e,h))},s.onupgradeneeded=c=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,ge.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const _=Rx.open(s.db,e,c?"readonly":"readwrite",r),b=i(_).next(x=>(_.P(),x)).catch(x=>(_.abort(x),ae.reject(x))).toPromise();return b.catch(()=>{}),yield _.R,b}catch(_){const b=_,x="FirebaseError"!==b.name&&h<3;if(He("SimpleDb","Transaction failed with error:",b.message,"Retrying:",x),s.close(),!x)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class O9{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return im(this.L.delete())}}class Ab extends Re{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uf(n){return"IndexedDbTransactionError"===n.name}class P9{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),im(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),im(this.store.add(e))}get(e){return im(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),im(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),im(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.W(i,(c,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new ae((s,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,s)=>{r.onerror=c=>{s(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=s=>{const c=t1(s.target.error);i(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new ae((i,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const _=new O9(h),b=t(h.primaryKey,h.value,_);if(b instanceof ae){const x=b.catch(T=>(_.done(),ae.reject(T)));r.push(x)}_.isDone?i():null===_.K?h.continue():h.continue(_.K)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function im(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=t1(r.target.error);t(i)}})}let lV=!1;function t1(n){const e=ql.S((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lV||(lV=!0,setTimeout(()=>{throw r},0)),r}}return n}class N9{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){uf(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield cf(r)}yield t.et(6e4)}))}}class F9{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,s=!0;return ae.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return He("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});s=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,s)).next(h=>(He("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,s)=>{const c=oV(s);JM(c,r)>0&&(r=c)}),new ca(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ua=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Mb(n){return null==n}function Rb(n){return 0===n&&1/n==-1/0}function cV(n){return"number"==typeof n&&Number.isInteger(n)&&!Rb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Do(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uV(e)),e=L9(n.get(t),e);return uV(e)}function L9(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function uV(n){return n+"\x01\x01"}function su(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&pt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let _;0===i.length?_=h:(i+=h,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(s,c),i+="\0";break;case"\x11":i+=n.substring(s,c+1);break;default:pt()}s=c+2}return new gn(r)}const dV=["userId","batchId"];function kx(n,e){return[n,Do(e)]}function hV(n,e,t){return[n,Do(e),t]}const V9={},B9=["prefixPath","collectionGroup","readTime","documentId"],U9=["prefixPath","collectionGroup","documentId"],H9=["collectionGroup","readTime","prefixPath","documentId"],j9=["canonicalId","targetId"],z9=["targetId","path"],$9=["path","targetId"],G9=["collectionId","parent"],q9=["indexId","uid"],W9=["uid","sequenceNumber"],Z9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],K9=["indexId","uid","orderedDocumentKey"],Y9=["userId","collectionPath","documentId"],Q9=["userId","collectionPath","largestBatchId"],X9=["userId","collectionGroup","largestBatchId"],fV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J9=[...fV,"documentOverlays"],pV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mV=pV,e7=[...mV,"indexConfiguration","indexState","indexEntries"];class n1 extends aV{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ui(n,e){const t=rt(n);return ql.M(t.ht,e)}function gV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function df(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _V(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Qn{constructor(e,t){this.comparator=e,this.root=t||oo.EMPTY}insert(e,t){return new Qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oo.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ox(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ox(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ox(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ox(this.root,e,this.comparator,!0)}}class Ox{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oo{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??oo.RED,this.left=i??oo.EMPTY,this.right=s??oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new oo(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return oo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}oo.EMPTY=null,oo.RED=!0,oo.BLACK=!1,oo.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new oo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ir{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yV(this.data.getIterator())}getIteratorFrom(e){return new yV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ir(this.comparator);return t.data=e,t}}class yV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function c_(n){return n.hasNext()?n.getNext():void 0}class Es{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new Es([])}unionWith(e){let t=new ir(Ur.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return l_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vV("Invalid base64 string: "+i):i}}(e);return new wi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const n7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hf(n){if(xt(!!n),"string"==typeof n){let e=0;const t=n7.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hr(n.seconds),nanos:Hr(n.nanos)}}function Hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Id(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function Px(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Nx(n){const e=n.mapValue.fields.__previous_value__;return Px(e)?Nx(e):e}function kb(n){const e=hf(n.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}class r7{constructor(e,t,r,i,s,c,h,_,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=_,this.useFetchStreams=b}}class ff{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}const pf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fx={nullValue:"NULL_VALUE"};function mf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Px(n)?4:CV(n)?9007199254740991:10:pt()}function au(n,e){if(n===e)return!0;const t=mf(n);if(t!==mf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kb(n).isEqual(kb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=hf(r.timestampValue),c=hf(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Id(n.bytesValue).isEqual(Id(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Hr(r.geoPointValue.latitude)===Hr(i.geoPointValue.latitude)&&Hr(r.geoPointValue.longitude)===Hr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Hr(r.integerValue)===Hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Hr(r.doubleValue),c=Hr(i.doubleValue);return s===c?Rb(s)===Rb(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return l_(n.arrayValue.values||[],e.arrayValue.values||[],au);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(gV(s)!==gV(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!au(s[h],c[h])))return!1;return!0}(n,e);default:return pt()}var i}function Ob(n,e){return void 0!==(n.values||[]).find(t=>au(t,e))}function gf(n,e){if(n===e)return 0;const t=mf(n),r=mf(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const c=Hr(i.integerValue||i.doubleValue),h=Hr(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return bV(n.timestampValue,e.timestampValue);case 4:return bV(kb(n),kb(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,s){const c=Id(i),h=Id(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const c=i.split("/"),h=s.split("/");for(let _=0;_<c.length&&_<h.length;_++){const b=Zt(c[_],h[_]);if(0!==b)return b}return Zt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const c=Zt(Hr(i.latitude),Hr(s.latitude));return 0!==c?c:Zt(Hr(i.longitude),Hr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const c=i.values||[],h=s.values||[];for(let _=0;_<c.length&&_<h.length;++_){const b=gf(c[_],h[_]);if(b)return b}return Zt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===pf.mapValue&&s===pf.mapValue)return 0;if(i===pf.mapValue)return 1;if(s===pf.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),_=s.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let x=0;x<h.length&&x<b.length;++x){const T=Zt(h[x],b[x]);if(0!==T)return T;const P=gf(c[h[x]],_[b[x]]);if(0!==P)return P}return Zt(h.length,b.length)}(n.mapValue,e.mapValue);default:throw pt()}}function bV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=hf(n),r=hf(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function u_(n){return r1(n)}function r1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=hf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Id(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=r1(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const h of i)c?c=!1:s+=",",s+=`${h}:${r1(r.fields[h])}`;return s+"}"}(n.mapValue):pt();var e}function om(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function o1(n){return!!n&&"integerValue"in n}function Pb(n){return!!n&&"arrayValue"in n}function wV(n){return!!n&&"nullValue"in n}function EV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vx(n){return!!n&&"mapValue"in n}function Nb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return df(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function i7(n){return"nullValue"in n?Fx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?om(ff.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function o7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?om(ff.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pf:pt()}function xV(n,e){const t=gf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function IV(n,e){const t=gf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class so{constructor(e){this.value=e}static empty(){return new so({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nb(t)}setAll(e){let t=Ur.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Nb(c):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Vx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return au(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){df(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new so(Nb(this.value))}}function DV(n){const e=[];return df(n.fields,(t,r)=>{const i=new Ur([t]);if(Vx(r)){const s=DV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new Es(e)}class or{constructor(e,t,r,i,s,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new or(e,0,Dt.min(),Dt.min(),Dt.min(),so.empty(),0)}static newFoundDocument(e,t,r,i){return new or(e,1,t,Dt.min(),r,i,0)}static newNoDocument(e,t){return new or(e,2,t,Dt.min(),Dt.min(),so.empty(),0)}static newUnknownDocument(e,t){return new or(e,3,t,Dt.min(),Dt.min(),so.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _f{constructor(e,t){this.position=e,this.inclusive=t}}function SV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(r=s.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),t.key):gf(c,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function TV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!au(n.position[t],e.position[t]))return!1;return!0}class d_{constructor(e,t="asc"){this.field=e,this.dir=t}}function s7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AV{}class dn extends AV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new a7(e,t,r):"array-contains"===t?new u7(e,r):"in"===t?new NV(e,r):"not-in"===t?new d7(e,r):"array-contains-any"===t?new h7(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new l7(e,r):new c7(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gf(t,this.value)):null!==t&&mf(this.value)===mf(t)&&this.matchesComparison(gf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pn extends AV{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Pn(e,t)}matches(e){return h_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function h_(n){return"and"===n.op}function s1(n){return"or"===n.op}function a1(n){return MV(n)&&h_(n)}function MV(n){for(const e of n.filters)if(e instanceof Pn)return!1;return!0}function l1(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+u_(n.value);if(a1(n))return n.filters.map(e=>l1(e)).join(",");{const e=n.filters.map(t=>l1(t)).join(",");return`${n.op}(${e})`}}function RV(n,e){return n instanceof dn?(t=n,(r=e)instanceof dn&&t.op===r.op&&t.field.isEqual(r.field)&&au(t.value,r.value)):n instanceof Pn?function(t,r){return r instanceof Pn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,c)=>i&&RV(s,r.filters[c]),!0)}(n,e):void pt();var t,r}function kV(n,e){const t=n.filters.concat(e);return Pn.create(t,n.op)}function OV(n){return n instanceof dn?`${(e=n).field.canonicalString()} ${e.op} ${u_(e.value)}`:n instanceof Pn?function(e){return e.op.toString()+" {"+e.getFilters().map(OV).join(" ,")+"}"}(n):"Filter";var e}class a7 extends dn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class l7 extends dn{constructor(e,t){super(e,"in",t),this.keys=PV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class c7 extends dn{constructor(e,t){super(e,"not-in",t),this.keys=PV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class u7 extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pb(t)&&Ob(t.arrayValue,this.value)}}class NV extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ob(this.value.arrayValue,t)}}class d7 extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ob(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ob(this.value.arrayValue,t)}}class h7 extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ob(this.value.arrayValue,r))}}class f7{constructor(e,t=null,r=[],i=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=h,this.dt=null}}function c1(n,e=null,t=[],r=[],i=null,s=null,c=null){return new f7(n,e,t,r,i,s,c)}function sm(n){const e=rt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>l1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Mb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>u_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>u_(r)).join(",")),e.dt=t}return e.dt}function Fb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TV(n.startAt,e.startAt)&&TV(n.endAt,e.endAt)}function Bx(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ux(n,e){return n.filters.filter(t=>t instanceof dn&&t.field.isEqual(e))}function FV(n,e,t){let r=Fx,i=!0;for(const s of Ux(n,e)){let c=Fx,h=!0;switch(s.op){case"<":case"<=":c=i7(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=Fx}xV({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];xV({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function LV(n,e,t){let r=pf,i=!0;for(const s of Ux(n,e)){let c=pf,h=!0;switch(s.op){case">=":case">":c=o7(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=pf}IV({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];IV({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Dd{constructor(e,t=null,r=[],i=[],s=null,c="F",h=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=_,this.wt=null,this._t=null}}function VV(n,e,t,r,i,s,c,h){return new Dd(n,e,t,r,i,s,c,h)}function f_(n){return new Dd(n)}function BV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function u1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Hx(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function d1(n){return null!==n.collectionGroup}function am(n){const e=rt(n);if(null===e.wt){e.wt=[];const t=Hx(e),r=u1(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new d_(t)),e.wt.push(new d_(Ur.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new d_(Ur.keyField(),s))}}}return e.wt}function es(n){const e=rt(n);if(!e._t)if("F"===e.limitType)e._t=c1(e.path,e.collectionGroup,am(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of am(e))t.push(new d_(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new _f(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new _f(e.startAt.position,e.startAt.inclusive):null;e._t=c1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function h1(n,e){e.getFirstInequalityField(),Hx(n);const t=n.filters.concat([e]);return new Dd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jx(n,e,t){return new Dd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lb(n,e){return Fb(es(n),es(e))&&n.limitType===e.limitType}function UV(n){return`${sm(es(n))}|lt:${n.limitType}`}function f1(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>OV(r)).join(", ")}]`),Mb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>u_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>u_(r)).join(",")),`Target(${t})`}(es(n))}; limitType=${n.limitType})`}function Vb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of am(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,c){const h=SV(i,s,c);return i.inclusive?h<=0:h<0}(t.startAt,am(t),r)||t.endAt&&!function(i,s,c){const h=SV(i,s,c);return i.inclusive?h>=0:h>0}(t.endAt,am(t),r)));var t,r}function HV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jV(n){return(e,t)=>{let r=!1;for(const i of am(n)){const s=p7(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function p7(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,s,c){const h=s.data.field(i),_=c.data.field(i);return null!==h&&null!==_?gf(h,_):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}class Sd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){df(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _V(this.inner)}size(){return this.innerSize}}const m7=new Qn(et.comparator);function Cs(){return m7}const zV=new Qn(et.comparator);function Bb(...n){let e=zV;for(const t of n)e=e.insert(t.key,t);return e}function $V(n){let e=zV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function lu(){return Ub()}function GV(){return Ub()}function Ub(){return new Sd(n=>n.toString(),(n,e)=>n.isEqual(e))}const g7=new Qn(et.comparator),_7=new ir(et.comparator);function en(...n){let e=_7;for(const t of n)e=e.add(t);return e}const y7=new ir(Zt);function p1(){return y7}function qV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rb(e)?"-0":e}}function WV(n){return{integerValue:""+n}}function ZV(n,e){return cV(e)?WV(e):qV(n,e)}class zx{constructor(){this._=void 0}}function v7(n,e,t){return n instanceof p_?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Px(i)&&(i=Nx(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof lm?YV(n,e):n instanceof cm?QV(n,e):function(r,i){const s=KV(r,i),c=XV(s)+XV(r.gt);return o1(s)&&o1(r.gt)?WV(c):qV(r.serializer,c)}(n,e)}function b7(n,e,t){return n instanceof lm?YV(n,e):n instanceof cm?QV(n,e):t}function KV(n,e){return n instanceof m_?o1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class p_ extends zx{}class lm extends zx{constructor(e){super(),this.elements=e}}function YV(n,e){const t=JV(e);for(const r of n.elements)t.some(i=>au(i,r))||t.push(r);return{arrayValue:{values:t}}}class cm extends zx{constructor(e){super(),this.elements=e}}function QV(n,e){let t=JV(e);for(const r of n.elements)t=t.filter(i=>!au(i,r));return{arrayValue:{values:t}}}class m_ extends zx{constructor(e,t){super(),this.serializer=e,this.gt=t}}function XV(n){return Hr(n.integerValue||n.doubleValue)}function JV(n){return Pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Hb{constructor(e,t){this.field=e,this.transform=t}}class E7{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $x(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gx{}function eB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new __(n.key,_r.none()):new g_(n.key,n.data,_r.none());{const t=n.data,r=so.empty();let i=new ir(Ur.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new Td(n.key,r,new Es(i.toArray()),_r.none())}}function C7(n,e,t){n instanceof g_?function(r,i,s){const c=r.value.clone(),h=rB(r.fieldTransforms,i,s.transformResults);c.setAll(h),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Td?function(r,i,s){if(!$x(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=rB(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(nB(r)),h.setAll(c),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jb(n,e,t,r){return n instanceof g_?function(i,s,c,h){if(!$x(i.precondition,s))return c;const _=i.value.clone(),b=iB(i.fieldTransforms,h,s);return _.setAll(b),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Td?function(i,s,c,h){if(!$x(i.precondition,s))return c;const _=iB(i.fieldTransforms,h,s),b=s.data;return b.setAll(nB(i)),b.setAll(_),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(x=>x.field))}(n,e,t,r):(c=t,$x(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function x7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=KV(r.transform,i||null);null!=s&&(null===t&&(t=so.empty()),t.set(r.field,s))}return t||null}function tB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&l_(t,r,(i,s)=>function w7(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof lm&&r instanceof lm||t instanceof cm&&r instanceof cm?l_(t.elements,r.elements,au):t instanceof m_&&r instanceof m_?au(t.gt,r.gt):t instanceof p_&&r instanceof p_);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class g_ extends Gx{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Td extends Gx{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rB(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,h=e.data.field(s.field);r.set(s.field,b7(c,h,t[i]))}return r}function iB(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,v7(s,c,e))}return r}class __ extends Gx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m1 extends Gx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&C7(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GV();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(i.key)?null:h;const _=eB(c,h);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&l_(this.mutations,e.mutations,(t,r)=>tB(t,r))&&l_(this.baseMutations,e.baseMutations,(t,r)=>tB(t,r))}}class _1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=g7;const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new _1(e,t,r,i)}}class y1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class D7{constructor(e,t){this.count=e,this.unchangedNames=t}}var ai,_n;function oB(n){switch(n){default:return pt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function sB(n){if(void 0===n)return Kr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case ai.OK:return fe.OK;case ai.CANCELLED:return fe.CANCELLED;case ai.UNKNOWN:return fe.UNKNOWN;case ai.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ai.INTERNAL:return fe.INTERNAL;case ai.UNAVAILABLE:return fe.UNAVAILABLE;case ai.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ai.NOT_FOUND:return fe.NOT_FOUND;case ai.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ai.ABORTED:return fe.ABORTED;case ai.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ai.DATA_LOSS:return fe.DATA_LOSS;default:return pt()}}(_n=ai||(ai={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class v1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qx}static getOrCreateInstance(){return null===qx&&(qx=new v1),qx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let qx=null;function aB(){return new TextEncoder}const S7=new s_([4294967295,4294967295],0);function lB(n){const e=aB().encode(n),t=new b9;return t.update(e),new Uint8Array(t.digest())}function cB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new s_([t,r],0),new s_([i,s],0)]}class b1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new zb(`Invalid padding: ${t}`);if(r<0)throw new zb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new zb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new zb(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=s_.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(s_.fromNumber(r)));return 1===i.compare(S7)&&(i=new s_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=lB(e),[r,i]=cB(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(r,i,s);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new b1(s,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=lB(e),[r,i]=cB(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(r,i,s);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class zb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $b{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Gb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $b(Dt.min(),i,new Qn(Zt),Cs(),en())}}class Gb{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gb(r,t,en(),en(),en())}}class Wx{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class uB{constructor(e,t){this.targetId=e,this.Vt=t}}class dB{constructor(e,t,r=wi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hB{constructor(){this.St=0,this.Dt=pB(),this.Ct=wi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=en(),t=en(),r=en();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:pt()}}),new Gb(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=pB()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class T7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Cs(),this.zt=fB(),this.Wt=new Qn(Zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const c=s.target;if(Bx(c))if(0===i){const h=new et(c.path);this.Yt(r,h,or.newNoDocument(h,Dt.min()))}else xt(1===i);else{const h=this.ie(r);if(h!==i){const _=this.re(e,h);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=v1.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,x,T){var P,V,H,Q,oe,ke;const Ze={localCacheCount:x,existenceFilterCount:T.count},$e=T.unchangedNames;return $e&&(Ze.bloomFilter={applied:0===b,hashCount:null!==(P=$e?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(Q=null===(H=null===(V=$e?.bits)||void 0===V?void 0:V.bitmap)||void 0===H?void 0:H.length)&&void 0!==Q?Q:0,padding:null!==(ke=null===(oe=$e?.bits)||void 0===oe?void 0:oe.padding)&&void 0!==ke?ke:0}),Ze}(_,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=r;let _,b;try{_=Id(s).toUint8Array()}catch(x){if(x instanceof vV)return za("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{b=new b1(_,c,h)}catch(x){return za(x instanceof zb?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===b.It?1:i!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,c)=>{const h=this.se(c);if(h){if(s.current&&Bx(h.target)){const _=new et(h.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,or.newNoDocument(_,e))}s.Mt&&(t.set(c,s.Ot()),s.Ft())}});let r=en();this.zt.forEach((s,c)=>{let h=!0;c.forEachWhile(_=>{const b=this.se(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.jt.forEach((s,c)=>c.setReadTime(e));const i=new $b(e,t,this.Wt,this.jt,r);return this.jt=Cs(),this.zt=fB(),this.Wt=new Qn(Zt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new hB,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ir(Zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new hB),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function fB(){return new Qn(et.comparator)}function pB(){return new Qn(et.comparator)}const A7={asc:"ASCENDING",desc:"DESCENDING"},M7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R7={and:"AND",or:"OR"};class k7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function w1(n,e){return n.useProto3Json||Mb(e)?e:{value:e}}function y_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function O7(n,e){return y_(n,e.toTimestamp())}function Yr(n){return xt(!!n),Dt.fromTimestamp(function(e){const t=hf(e);return new gr(t.seconds,t.nanos)}(n))}function E1(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gB(n){const e=gn.fromString(n);return xt(IB(e)),e}function qb(n,e){return E1(n.databaseId,e.path)}function cu(n,e){const t=gB(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(yB(t))}function C1(n,e){return E1(n.databaseId,e)}function _B(n){const e=gB(n);return 4===e.length?gn.emptyPath():yB(e)}function Wb(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yB(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vB(n,e,t){return{name:qb(n,e),fields:t.value.mapValue.fields}}function bB(n,e,t){const r=cu(n,e.name),i=Yr(e.updateTime),s=e.createTime?Yr(e.createTime):Dt.min(),c=new so({mapValue:{fields:e.fields}}),h=or.newFoundDocument(r,i,s,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Zb(n,e){let t;if(e instanceof g_)t={update:vB(n,e.key,e.value)};else if(e instanceof __)t={delete:qb(n,e.key)};else if(e instanceof Td)t={update:vB(n,e.key,e.data),updateMask:H7(e.fieldMask)};else{if(!(e instanceof m1))return pt();t={verify:qb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof p_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof lm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof cm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof m_)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:O7(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:pt()),t;var i}function x1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?_r.updateTime(Yr(i.updateTime)):void 0!==i.exists?_r.exists(i.exists):_r.none():_r.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,c){let h=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),h=new p_):"appendMissingElements"in c?h=new lm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new cm(c.removeAllFromArray.values||[]):"increment"in c?h=new m_(s,c.increment):pt();const _=Ur.fromServerFormat(c.fieldPath);return new Hb(_,h)}(n,i)):[];var i;if(e.update){const i=cu(n,e.update.name),s=new so({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Es((e.updateMask.fieldPaths||[]).map(b=>Ur.fromServerFormat(b)));return new Td(i,s,c,t,r)}return new g_(i,s,t,r)}if(e.delete){const i=cu(n,e.delete);return new __(i,t)}if(e.verify){const i=cu(n,e.verify);return new m1(i,t)}return pt()}function wB(n,e){return{documents:[C1(n,e.path)]}}function I1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=C1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=C1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return xB(Pn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(_){if(0!==_.length)return _.map(b=>{return{field:yf((x=b).field),direction:V7(x.dir)};var x})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=w1(n,e.limit);var h,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function EB(n){let e=_B(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const x=t.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let s=[];t.where&&(s=function(x){const T=CB(x);return T instanceof Pn&&a1(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(x=>{return new d_(v_((T=x).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(x){let T;return T="object"==typeof x?x.value:x,Mb(T)?null:T}(t.limit));let _=null;var x;t.startAt&&(_=new _f((x=t.startAt).values||[],!!x.before));let b=null;return t.endAt&&(b=function(x){return new _f(x.values||[],!x.before)}(t.endAt)),VV(e,i,c,s,h,"F",_,b)}function CB(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=v_(e.unaryFilter.field);return dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=v_(e.unaryFilter.field);return dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=v_(e.unaryFilter.field);return dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=v_(e.unaryFilter.field);return dn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(n):void 0!==n.fieldFilter?dn.create(v_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Pn.create(e.compositeFilter.filters.map(t=>CB(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pt()}}(e.compositeFilter.op))}(n):pt();var e}function V7(n){return A7[n]}function B7(n){return M7[n]}function U7(n){return R7[n]}function yf(n){return{fieldPath:n.canonicalString()}}function v_(n){return Ur.fromServerFormat(n.fieldPath)}function xB(n){return n instanceof dn?function(e){if("=="===e.op){if(EV(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NAN"}};if(wV(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(EV(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NOT_NAN"}};if(wV(e.value))return{unaryFilter:{field:yf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yf(e.field),op:B7(e.op),value:e.value}}}(n):n instanceof Pn?function(e){const t=e.getFilters().map(r=>xB(r));return 1===t.length?t[0]:{compositeFilter:{op:U7(e.op),filters:t}}}(n):pt()}function H7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ad{constructor(e,t,r,i,s=Dt.min(),c=Dt.min(),h=wi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=_}withSequenceNumber(e){return new Ad(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DB{constructor(e){this.fe=e}}function SB(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Zx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:qb(i=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:y_(i,s.version.toTimestamp()),createTime:y_(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:um(e.version)};else{if(!e.isUnknownDocument())return pt();r.unknownDocument={path:t.path.toArray(),version:um(e.version)}}var i,s;return r}function Zx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function um(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dm(n){const e=new gr(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function hm(n,e){const t=(e.baseMutations||[]).map(s=>x1(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>x1(n.fe,s)),i=gr.fromMillis(e.localWriteTimeMs);return new g1(e.batchId,i,t,r)}function Kb(n){const e=dm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?dm(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=es(f_(_B(i.documents[0])))):r=es(EB(n.query)),new Ad(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,wi.fromBase64String(n.resumeToken))}function TB(n,e){const t=um(e.snapshotVersion),r=um(e.lastLimboFreeSnapshotVersion);let i;i=Bx(e.target)?wB(n.fe,e.target):I1(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:sm(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function D1(n){const e=EB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jx(e,e.limit,"L"):e}function S1(n,e){return new y1(e.largestBatchId,x1(n.fe,e.overlayMutation))}function AB(n,e){const t=e.path.lastSegment();return[n,Do(e.path.popLast()),t]}function MB(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:um(r.readTime),documentKey:Do(r.documentKey.path),largestBatchId:r.largestBatchId}}class z7{getBundleMetadata(e,t){return RB(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:dm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return RB(e).put({bundleId:(r=t).id,createTime:um(Yr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return kB(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:D1(i.bundledQuery),readTime:dm(i.readTime)};var i})}saveNamedQuery(e,t){return kB(e).put({name:(r=t).name,readTime:um(Yr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function RB(n){return Ui(n,"bundles")}function kB(n){return Ui(n,"namedQueries")}class Kx{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Kx(e,t.uid||"")}getOverlay(e,t){return Yb(e).get(AB(this.userId,t)).next(r=>r?S1(this.serializer,r):null)}getOverlays(e,t){const r=lu();return ae.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,c)=>{const h=new y1(t,c);i.push(this.we(e,h))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Do(c.getCollectionPath())));const s=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);s.push(Yb(e).J("collectionPathOverlayIndex",h))}),ae.waitFor(s)}getOverlaysForCollection(e,t,r){const i=lu(),s=Do(t),c=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Yb(e).j("collectionPathOverlayIndex",c).next(h=>{for(const _ of h){const b=S1(this.serializer,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=lu();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yb(e).X({index:"collectionGroupOverlayIndex",range:h},(_,b,x)=>{const T=S1(this.serializer,b);s.size()<i||T.largestBatchId===c?(s.set(T.getKey(),T),c=T.largestBatchId):x.done()}).next(()=>s)}we(e,t){return Yb(e).put(function(r,i,s){const[c,h,_]=AB(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:_,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Zb(r.fe,s.mutation)}}(this.serializer,this.userId,t))}}function Yb(n){return Ui(n,"documentOverlays")}class fm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Hr(e.integerValue));else if("doubleValue"in e){const r=Hr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Rb(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Id(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?CV(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),et.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function $7(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function OB(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=$7(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}fm.Ve=new fm;class G7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=OB(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=OB(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class q7{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class W7{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qb{constructor(){this.je=new G7,this.ze=new q7(this.je),this.We=new W7(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class pm{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new pm(this.indexId,this.documentKey,this.arrayValue,r)}}function vf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=PB(n.arrayValue,e.arrayValue),0!==t?t:(t=PB(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function PB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Z7{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){xt(e.collectionGroup===this.collectionId);const t=XM(e);if(void 0!==t&&!this.en(t))return!1;const r=rm(e);let i=new Set,s=0,c=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++s}for(;s<r.length;++s)if(c>=this.Ye.length||!this.sn(this.Ye[c++],r[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function NB(n){var e,t;if(xt(n instanceof dn||n instanceof Pn),n instanceof dn){if(n instanceof NV){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>dn.create(n.field,"==",s)))||[];return Pn.create(i,"or")}return n}const r=n.filters.map(i=>NB(i));return Pn.create(r,n.op)}function K7(n){if(0===n.getFilters().length)return[];const e=M1(NB(n));return xt(FB(e)),T1(e)||A1(e)?[e]:e.getFilters()}function T1(n){return n instanceof dn}function A1(n){return n instanceof Pn&&a1(n)}function FB(n){return T1(n)||A1(n)||function(e){if(e instanceof Pn&&s1(e)){for(const t of e.getFilters())if(!T1(t)&&!A1(t))return!1;return!0}return!1}(n)}function M1(n){if(xt(n instanceof dn||n instanceof Pn),n instanceof dn)return n;if(1===n.filters.length)return M1(n.filters[0]);const e=n.filters.map(r=>M1(r));let t=Pn.create(e,n.op);return t=Yx(t),FB(t)?t:(xt(t instanceof Pn),xt(h_(t)),xt(t.filters.length>1),t.filters.reduce((r,i)=>R1(r,i)))}function R1(n,e){let t;return xt(n instanceof dn||n instanceof Pn),xt(e instanceof dn||e instanceof Pn),t=n instanceof dn?e instanceof dn?Pn.create([n,e],"and"):LB(n,e):e instanceof dn?LB(e,n):function(r,i){if(xt(r.filters.length>0&&i.filters.length>0),h_(r)&&h_(i))return kV(r,i.getFilters());const s=s1(r)?r:i,c=s1(r)?i:r,h=s.filters.map(_=>R1(_,c));return Pn.create(h,"or")}(n,e),Yx(t)}function LB(n,e){if(h_(e))return kV(e,n.getFilters());{const t=e.filters.map(r=>R1(n,r));return Pn.create(t,"or")}}function Yx(n){if(xt(n instanceof dn||n instanceof Pn),n instanceof dn)return n;const e=n.getFilters();if(1===e.length)return Yx(e[0]);if(MV(n))return n;const t=e.map(i=>Yx(i)),r=[];return t.forEach(i=>{i instanceof dn?r.push(i):i instanceof Pn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Pn.create(r,n.op)}class Y7{constructor(){this.rn=new k1}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ca.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class k1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ir(gn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ir(gn.comparator)).toArray()}}const Qx=new Uint8Array(0);class Q7{constructor(e,t){this.user=e,this.databaseId=t,this.on=new k1,this.un=new Sd(r=>sm(r),(r,i)=>Fb(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:r,parent:Do(i)};return VB(e).put(s)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[rV(t),""],!1,!0);return VB(e).j(i).next(s=>{for(const c of s){if(c.collectionId!==t)break;r.push(su(c.parent))}return r})}addFieldIndex(e,t){const r=Xx(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const s=r.add(i);if(t.indexState){const c=Jb(e);return s.next(h=>{c.put(MB(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Xx(e),i=Jb(e),s=Xb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Xb(e);let i=!0;const s=new Map;return ae.forEach(this.cn(t),c=>this.an(e,c).next(h=>{i&&(i=!!h),s.set(c,h)})).next(()=>{if(i){let c=en();const h=[];return ae.forEach(s,(_,b)=>{var x;He("IndexedDbIndexManager",`Using index ${x=_,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map($e=>`${$e.fieldPath}:${$e.kind}`).join(",")}`} to execute ${sm(t)}`);const T=function($e,Qe){const Tt=XM(Qe);if(void 0===Tt)return null;for(const Pt of Ux($e,Tt.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(b,_),P=function($e,Qe){const Tt=new Map;for(const Pt of rm(Qe))for(const fn of Ux($e,Pt.fieldPath))switch(fn.op){case"==":case"in":Tt.set(Pt.fieldPath.canonicalString(),fn.value);break;case"not-in":case"!=":return Tt.set(Pt.fieldPath.canonicalString(),fn.value),Array.from(Tt.values())}return null}(b,_),V=function($e,Qe){const Tt=[];let Pt=!0;for(const fn of rm(Qe)){const Mr=0===fn.kind?FV($e,fn.fieldPath,$e.startAt):LV($e,fn.fieldPath,$e.startAt);Tt.push(Mr.value),Pt&&(Pt=Mr.inclusive)}return new _f(Tt,Pt)}(b,_),H=function($e,Qe){const Tt=[];let Pt=!0;for(const fn of rm(Qe)){const Mr=0===fn.kind?LV($e,fn.fieldPath,$e.endAt):FV($e,fn.fieldPath,$e.endAt);Tt.push(Mr.value),Pt&&(Pt=Mr.inclusive)}return new _f(Tt,Pt)}(b,_),Q=this.hn(_,b,V),oe=this.hn(_,b,H),ke=this.ln(_,b,P),Ze=this.fn(_.indexId,T,Q,V.inclusive,oe,H.inclusive,ke);return ae.forEach(Ze,$e=>r.H($e,t.limit).next(Qe=>{Qe.forEach(Tt=>{const Pt=et.fromSegments(Tt.documentKey);c.has(Pt)||(c=c.add(Pt),h.push(Pt))})}))}).next(()=>h)}return ae.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:K7(Pn.create(e.filters,"and")).map(r=>c1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,s,c,h){const _=(null!=t?t.length:1)*Math.max(r.length,s.length),b=_/(null!=t?t.length:1),x=[];for(let T=0;T<_;++T){const P=t?this.dn(t[T/b]):Qx,V=this.wn(e,P,r[T%b],i),H=this._n(e,P,s[T%b],c),Q=h.map(oe=>this.wn(e,P,oe,!0));x.push(...this.createRange(V,H,Q))}return x}wn(e,t,r,i){const s=new pm(e,et.empty(),t,r);return i?s:s.Je()}_n(e,t,r,i){const s=new pm(e,et.empty(),t,r);return i?s.Je():s}an(e,t){const r=new Z7(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let c=null;for(const h of s)r.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return ae.forEach(i,s=>this.an(e,s).next(c=>{c?0!==r&&c.fields.length<function(h){let _=new ir(Ur.comparator),b=!1;for(const x of h.filters)for(const T of x.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?b=!0:_=_.add(T.field));for(const x of h.orderBy)x.field.isKeyField()||(_=_.add(x.field));return _.size+(b?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Qb;for(const i of rm(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const c=r.He(i.kind);fm.Ve._e(s,c)}return r.Qe()}dn(e){const t=new Qb;return fm.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Qb;return fm.Ve._e(om(this.databaseId,t),r.He(function(i){const s=rm(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Qb);let s=0;for(const c of rm(e)){const h=r[s++];for(const _ of i)if(this.yn(t,c.fieldPath)&&Pb(h))i=this.pn(i,c,h);else{const b=_.He(c.kind);fm.Ve._e(h,b)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],s=[];for(const c of r.arrayValue.values||[])for(const h of i){const _=new Qb;_.seed(h.Qe()),fm.Ve._e(c,_.He(t.kind)),s.push(_)}return s}yn(e,t){return!!e.filters.find(r=>r instanceof dn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Xx(e),i=Jb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(s=>{const c=[];return ae.forEach(s,h=>i.get([h.indexId,this.uid]).next(_=>{c.push(function(b,x){const T=x?new Tb(x.sequenceNumber,new ca(dm(x.readTime),new et(su(x.documentKey)),x.largestBatchId)):Tb.empty(),P=b.fields.map(([V,H])=>new Mx(Ur.fromServerFormat(V),H));return new Ax(b.indexId,b.collectionGroup,P,T)}(h,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Xx(e),s=Jb(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,_=>s.put(MB(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,s)=>{const c=r.get(i.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),ae.forEach(h,_=>this.En(e,i,_).next(b=>{const x=this.An(s,_);return b.isEqual(x)?ae.resolve():this.vn(e,s,_,b,x)}))))})}Rn(e,t,r,i){return Xb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Xb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Xb(e);let s=new ir(vf);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,h)=>{s=s.add(new pm(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let r=new ir(vf);const i=this.mn(t,e);if(null==i)return r;const s=XM(t);if(null!=s){const c=e.data.field(s.fieldPath);if(Pb(c))for(const h of c.arrayValue.values||[])r=r.add(new pm(t.indexId,e.key,this.dn(h),i))}else r=r.add(new pm(t.indexId,e.key,Qx,i));return r}vn(e,t,r,i,s){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,_,b,x,T){const P=h.getIterator(),V=_.getIterator();let H=c_(P),Q=c_(V);for(;H||Q;){let oe=!1,ke=!1;if(H&&Q){const Ze=b(H,Q);Ze<0?ke=!0:Ze>0&&(oe=!0)}else null!=H?ke=!0:oe=!0;oe?(x(Q),Q=c_(V)):ke?(T(H),H=c_(P)):(H=c_(P),Q=c_(V))}}(i,s,vf,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.Pn(e,t,r,h))}),ae.waitFor(c)}Tn(e){let t=1;return Jb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>vf(c,h)).filter((c,h,_)=>!h||0!==vf(c,_[h-1]));const i=[];i.push(e);for(const c of r){const h=vf(c,e),_=vf(c,t);if(0===h)i[0]=e.Je();else if(h>0&&_<0)i.push(c),i.push(c.Je());else if(_>0)break}i.push(t);const s=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];s.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Qx,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Qx,[]]))}return s}bn(e,t){return vf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(BB)}getMinOffset(e,t){return ae.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||pt())).next(BB)}}function VB(n){return Ui(n,"collectionParents")}function Xb(n){return Ui(n,"indexEntries")}function Xx(n){return Ui(n,"indexConfiguration")}function Jb(n){return Ui(n,"indexState")}function BB(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;JM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ca(e.readTime,e.documentKey,t)}const UB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function HB(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const _=r.X({range:c},(x,T,P)=>(h++,P.delete()));s.push(_.next(()=>{xt(1===h)}));const b=[];for(const x of t.mutations){const T=hV(e,x.key.path,t.batchId);s.push(i.delete(T)),b.push(x.key)}return ae.waitFor(s).next(()=>b)}function Jx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class eI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){xt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new eI(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bf(e).X({index:"userMutationsIndex",range:r},(i,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=b_(e),c=bf(e);return c.add({}).next(h=>{xt("number"==typeof h);const _=new g1(h,t,r,i),b=function(P,V,H){const Q=H.baseMutations.map(ke=>Zb(P.fe,ke)),oe=H.mutations.map(ke=>Zb(P.fe,ke));return{userId:V,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:Q,mutations:oe}}(this.serializer,this.userId,_),x=[];let T=new ir((P,V)=>Zt(P.canonicalString(),V.canonicalString()));for(const P of i){const V=hV(this.userId,P.key.path,h);T=T.add(P.key.path.popLast()),x.push(c.put(b)),x.push(s.put(V,V9))}return T.forEach(P=>{x.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.Vn[h]=_.keys()}),ae.waitFor(x).next(()=>_)})}lookupMutationBatch(e,t){return bf(e).get(t).next(r=>r?(xt(r.userId===this.userId),hm(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ae.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return bf(e).X({index:"userMutationsIndex",range:i},(c,h,_)=>{h.userId===this.userId&&(xt(h.batchId>=r),s=hm(this.serializer,h)),_.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return bf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,s,c)=>{r=s.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bf(e).j("userMutationsIndex",t).next(r=>r.map(i=>hm(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=kx(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return b_(e).X({range:i},(c,h,_)=>{const[b,x,T]=c,P=su(x);if(b===this.userId&&t.path.isEqual(P))return bf(e).get(T).next(V=>{if(!V)throw pt();xt(V.userId===this.userId),s.push(hm(this.serializer,V))});_.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ir(Zt);const i=[];return t.forEach(s=>{const c=kx(this.userId,s.path),h=IDBKeyRange.lowerBound(c),_=b_(e).X({range:h},(b,x,T)=>{const[P,V,H]=b,Q=su(V);P===this.userId&&s.path.isEqual(Q)?r=r.add(H):T.done()});i.push(_)}),ae.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=kx(this.userId,r),c=IDBKeyRange.lowerBound(s);let h=new ir(Zt);return b_(e).X({range:c},(_,b,x)=>{const[T,P,V]=_,H=su(P);T===this.userId&&r.isPrefixOf(H)?H.length===i&&(h=h.add(V)):x.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(bf(e).get(s).next(c=>{if(null===c)throw pt();xt(c.userId===this.userId),r.push(hm(this.serializer,c))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return HB(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return b_(e).X({range:r},(s,c,h)=>{if(s[0]===this.userId){const _=su(s[1]);i.push(_)}else h.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return jB(e,this.userId,t)}xn(e){return zB(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jB(n,e,t){const r=kx(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let c=!1;return b_(n).X({range:s,Y:!0},(h,_,b)=>{const[x,T,P]=h;x===e&&T===i&&(c=!0),b.done()}).next(()=>c)}function bf(n){return Ui(n,"mutations")}function b_(n){return Ui(n,"documentMutations")}function zB(n){return Ui(n,"mutationQueues")}class mm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new mm(0)}static Mn(){return new mm(-1)}}class X7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new mm(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Dt.fromTimestamp(new gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>w_(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return w_(e).X((c,h)=>{const _=Kb(h);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,s.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(s)).next(()=>i)}forEachTarget(e,t){return w_(e).X((r,i)=>{const s=Kb(i);t(s)})}$n(e){return $B(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}On(e,t){return $B(e).put("targetGlobalKey",t)}Fn(e,t){return w_(e).put(TB(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=sm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return w_(e).X({range:i,index:"queryTargetsIndex"},(c,h,_)=>{const b=Kb(h);Fb(t,b.target)&&(s=b,_.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=wf(e);return t.forEach(c=>{const h=Do(c.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=wf(e);return ae.forEach(t,s=>{const c=Do(s.path);return ae.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=wf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=wf(e);let s=en();return i.X({range:r,Y:!0},(c,h,_)=>{const b=su(c[1]),x=new et(b);s=s.add(x)}).next(()=>s)}containsKey(e,t){const r=Do(t.path),i=IDBKeyRange.bound([r],[rV(r)],!1,!0);let s=0;return wf(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],_,b)=>{0!==c&&(s++,b.done())}).next(()=>s>0)}le(e,t){return w_(e).get(t).next(r=>r?Kb(r):null)}}function w_(n){return Ui(n,"targets")}function $B(n){return Ui(n,"targetGlobal")}function wf(n){return Ui(n,"targetDocuments")}function GB([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class J7{constructor(e){this.Ln=e,this.buffer=new ir(GB),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GB(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qB{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){uf(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield cf(r)}yield t.Qn(3e5)}))}}class eG{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(ua.ct);const r=new J7(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(UB)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UB):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,s,c,h,_,b;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),i=this.params.maximumSequenceNumbersToCollect):i=T,c=Date.now(),this.nthSequenceNumber(e,i))).next(T=>(r=T,h=Date.now(),this.removeTargets(e,r,t))).next(T=>(s=T,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(b=Date.now(),YM()<=tf.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-x}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(_-h)+`ms\n\tRemoved ${T} documents in `+(b-_)+`ms\nTotal Duration: ${b-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:T})))}}class tG{constructor(e,t){this.db=e,this.garbageCollector=function WB(n,e){return new eG(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return tI(e,r)}removeReference(e,t,r){return tI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tI(e,t)}Xn(e,t){return function(r,i){let s=!1;return zB(r).Z(c=>jB(r,c,i).next(h=>(h&&(s=!0),ae.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(c,h)=>{if(h<=t){const _=this.Xn(e,c).next(b=>{if(!b)return s++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Dt.min()),wf(e).delete([0,Do(c.path)])))});i.push(_)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tI(e,t)}Yn(e,t){const r=wf(e);let i,s=ua.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:_,sequenceNumber:b})=>{0===c?(s!==ua.ct&&t(new et(su(i)),s),s=b,i=_):s=ua.ct}).next(()=>{s!==ua.ct&&t(new et(su(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tI(n,e){return wf(n).put((r=n.currentSequenceNumber,{targetId:0,path:Do(e.path),sequenceNumber:r}));var r}class ZB{constructor(){this.changes=new Sd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return gm(e).put(r)}removeEntry(e,t,r){return gm(e).delete(function(i,s){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Zx(s),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=or.newInvalidDocument(t);return gm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(e0(t))},(i,s)=>{r=this.ts(t,s)}).next(()=>r)}es(e,t){let r={size:0,document:or.newInvalidDocument(t)};return gm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(e0(t))},(i,s)=>{r={document:this.ts(t,s),size:Jx(s)}}).next(()=>r)}getEntries(e,t){let r=Cs();return this.ns(e,t,(i,s)=>{const c=this.ts(i,s);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=Cs(),i=new Qn(et.comparator);return this.ns(e,t,(s,c)=>{const h=this.ts(s,c);r=r.insert(s,h),i=i.insert(s,Jx(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ae.resolve();let i=new ir(XB);t.forEach(_=>i=i.add(_));const s=IDBKeyRange.bound(e0(i.first()),e0(i.last())),c=i.getIterator();let h=c.getNext();return gm(e).X({index:"documentKeyIndex",range:s},(_,b,x)=>{const T=et.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&XB(h,T)<0;)r(h,null),h=c.getNext();h&&h.isEqual(T)&&(r(h,b),h=c.hasNext()?c.getNext():null),h?x.G(e0(h)):x.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,c=[s.popLast().toArray(),s.lastSegment(),Zx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gm(e).j(IDBKeyRange.bound(c,h,!0)).next(_=>{let b=Cs();for(const x of _){const T=this.ts(et.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);T.isFoundDocument()&&(Vb(t,T)||i.has(T.key))&&(b=b.insert(T.key,T))}return b})}getAllFromCollectionGroup(e,t,r,i){let s=Cs();const c=QB(t,r),h=QB(t,ca.max());return gm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(_,b,x)=>{const T=this.ts(et.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);s=s.insert(T.key,T),s.size===i&&x.done()}).next(()=>s)}newChangeBuffer(e){return new rG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return YB(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Zn(e,t){return YB(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function j7(n,e){let t;if(e.document)t=bB(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=dm(e.noDocument.readTime);t=or.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const r=et.fromSegments(e.unknownDocument.path),i=dm(e.unknownDocument.version);t=or.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new gr(r[0],r[1]);return Dt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return or.newInvalidDocument(e)}}function KB(n){return new nG(n)}class rG extends ZB{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Sd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ir((s,c)=>Zt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),c.isValidDocument()){const _=SB(this.os.serializer,c);i=i.add(s.path.popLast());const b=Jx(_);r+=b-h.size,t.push(this.os.addEntry(e,s,_))}else if(r-=h.size,this.trackRemovals){const _=SB(this.os.serializer,c.convertToNoDocument(Dt.min()));t.push(this.os.addEntry(e,s,_))}}),i.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((s,c)=>{this.us.set(s,{size:c,readTime:r.get(s).readTime})}),r))}}function YB(n){return Ui(n,"remoteDocumentGlobal")}function gm(n){return Ui(n,"remoteDocumentsV14")}function e0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QB(n,e){const t=e.documentKey.path.toArray();return[n,Zx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function XB(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Zt(t[s],r[s]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class iG{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class JB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&jb(r.mutation,i,Es.empty(),gr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,en()).next(()=>r))}getLocalViewOfDocuments(e,t,r=en()){const i=lu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=Bb();return s.forEach((h,_)=>{c=c.insert(h,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=lu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,en()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let s=Cs();const c=Ub(),h=Ub();return t.forEach((_,b)=>{const x=r.get(b.key);i.has(b.key)&&(void 0===x||x.mutation instanceof Td)?s=s.insert(b.key,b):void 0!==x?(c.set(b.key,x.mutation.getFieldMask()),jb(x.mutation,b,x.mutation.getFieldMask(),gr.now())):c.set(b.key,Es.empty())}),this.recalculateAndSaveOverlays(e,s).next(_=>(_.forEach((b,x)=>c.set(b,x)),t.forEach((b,x)=>{var T;return h.set(b,new iG(x,null!==(T=c.get(b))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ub();let i=new Qn((c,h)=>c-h),s=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let x=r.get(_)||Es.empty();x=h.applyToLocalView(b,x),r.set(_,x);const T=(i.get(h.batchId)||en()).add(_);i=i.insert(h.batchId,T)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,x=_.value,T=GV();x.forEach(P=>{if(!s.has(P)){const V=eB(t.get(P),r.get(P));null!==V&&T.set(P,V),s=s.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,T))}return ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):d1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ae.resolve(lu());let h=-1,_=s;return c.next(b=>ae.forEach(b,(x,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),s.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(e,x).next(P=>{_=_.insert(x,P)}))).next(()=>this.populateOverlays(e,b,s)).next(()=>this.computeViews(e,_,b,en())).next(x=>({batchId:h,changes:$V(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=Bb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Bb();return this.indexManager.getCollectionParents(e,i).next(c=>ae.forEach(c,h=>{const _=(b=t,x=h.child(i),new Dd(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,x;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((x,T)=>{s=s.insert(x,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((h,_)=>{const b=_.getKey();null===s.get(b)&&(s=s.insert(b,or.newInvalidDocument(b)))});let c=Bb();return s.forEach((h,_)=>{const b=i.get(h);void 0!==b&&jb(b.mutation,_,Es.empty(),gr.now()),Vb(t,_)&&(c=c.insert(h,_))}),c})}}class oG{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Yr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:D1(r.bundledQuery),readTime:Yr(r.readTime)}),ae.resolve();var r}}class sG{constructor(){this.overlays=new Qn(et.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=lu();return ae.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=lu(),s=t.length+1,c=new et(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===s&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Qn((b,x)=>b-x);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let x=s.get(b.largestBatchId);null===x&&(x=lu(),s=s.insert(b.largestBatchId,x)),x.set(b.getKey(),b)}}const h=lu(),_=s.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,x)=>h.set(b,x)),!(h.size()>=i)););return ae.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new y1(t,r));let s=this.ls.get(t);void 0===s&&(s=en(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class O1{constructor(){this.fs=new ir(Hi.ds),this.ws=new ir(Hi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Hi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Hi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new et(new gn([])),r=new Hi(t,e),i=new Hi(t,e+1),s=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),s.push(c.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new et(new gn([])),r=new Hi(t,e),i=new Hi(t,e+1);let s=en();return this.ws.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Hi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Hi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return et.comparator(e.key,t.key)||Zt(e.As,t.As)}static _s(e,t){return Zt(e.As,t.As)||et.comparator(e.key,t.key)}}class aG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ir(Hi.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const c=new g1(s,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new Hi(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Hi(t,0),i=new Hi(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.Ps(c.As);s.push(h)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ir(Zt);return t.forEach(i=>{const s=new Hi(i,0),c=new Hi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],h=>{r=r.add(h.As)})}),ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;et.isDocumentKey(s)||(s=s.child(""));const c=new Hi(new et(s),0);let h=new ir(Zt);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(h=h.add(_.As)),!0)},c),ae.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(t.mutations,i=>{const s=new Hi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Hi(t,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lG{constructor(e){this.Ds=e,this.docs=new Qn(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():or.newInvalidDocument(t))}getEntries(e,t){let r=Cs();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():or.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Cs();const c=t.path,h=new et(c.child("")),_=this.docs.getIteratorFrom(h);for(;_.hasNext();){const{key:b,value:{document:x}}=_.getNext();if(!c.isPrefixOf(b.path))break;b.path.length>c.length+1||JM(oV(x),r)<=0||(i.has(x.key)||Vb(t,x))&&(s=s.insert(x.key,x.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,t,r,i){pt()}Cs(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cG(this)}getSize(e){return ae.resolve(this.size)}}class cG extends ZB{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class uG{constructor(e){this.persistence=e,this.xs=new Sd(t=>sm(t),Fb),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new O1,this.targetCount=0,this.Ms=mm.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new mm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ae.waitFor(s).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class P1{constructor(e,t){this.$s={},this.overlays={},this.Os=new ua(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uG(this),this.indexManager=new Y7,this.remoteDocumentCache=new lG(r=>this.referenceDelegate.Ls(r)),this.serializer=new DB(t),this.qs=new oG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sG,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new aG(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new dG(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class dG extends aV{constructor(e){super(),this.currentSequenceNumber=e}}class nI{constructor(e){this.persistence=e,this.Qs=new O1,this.js=null}static zs(e){return new nI(e)}get Ws(){if(this.js)return this.js;throw pt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,r=>{const i=et.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class hG{constructor(e){this.serializer=e}O(e,t,r,i){const s=new Rx("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dV,{unique:!0}),h.createObjectStore("documentMutations"),eU(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),eU(e)),c=c.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(s))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,_){return _.store("mutations").j().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dV,{unique:!0});const x=_.store("mutations"),T=b.map(P=>x.put(P));return ae.waitFor(T)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(s))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(s))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,s))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(s))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:Y9});_.createIndex("collectionPathOverlayIndex",Q9,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",X9,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:B9});_.createIndex("documentKeyIndex",U9),_.createIndex("collectionGroupIndex",H9)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,s))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:q9}).createIndex("sequenceNumberIndex",W9,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Z9}).createIndex("documentKeyIndex",K9,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Jx(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ae.forEach(i,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>ae.forEach(h,_=>{xt(_.userId===s.userId);const b=hm(this.serializer,_);return HB(e,s.userId,b).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((c,h)=>{const _=new gn(c),b=[0,Do(_)];s.push(t.get(b).next(x=>x?ae.resolve():t.put({targetId:0,path:Do(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:G9});const r=t.store("collectionParents"),i=new k1,s=c=>{if(i.add(c)){const h=c.lastSegment(),_=c.popLast();return r.put({collectionId:h,parent:Do(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const _=new gn(c);return s(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,_],b)=>{const x=su(h);return s(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const s=Kb(i),c=TB(this.serializer,s);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((s,c)=>{const h=t.store("remoteDocumentsV14"),_=(b=c,b.document?new et(gn.fromString(b.document.name).popFirst(5)):b.noDocument?et.fromSegments(b.noDocument.path):b.unknownDocument?et.fromSegments(b.unknownDocument.path):pt()).path.toArray();var b;const x={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(x))}).next(()=>ae.waitFor(i))}si(e,t){const r=t.store("mutations"),i=KB(this.serializer),s=new P1(nI.zs,this.serializer.fe);return r.j().next(c=>{const h=new Map;return c.forEach(_=>{var b;let x=null!==(b=h.get(_.userId))&&void 0!==b?b:en();hm(this.serializer,_).keys().forEach(T=>x=x.add(T)),h.set(_.userId,x)}),ae.forEach(h,(_,b)=>{const x=new Bi(b),T=Kx.de(this.serializer,x),P=s.getIndexManager(x),V=eI.de(x,this.serializer,P,s.referenceDelegate);return new JB(i,V,T,P).recalculateAndSaveOverlaysForDocumentKeys(new n1(t,ua.ct),_).next()})})}}function eU(n){n.createObjectStore("targetDocuments",{keyPath:z9}).createIndex("documentTargetsIndex",$9,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j9,{unique:!0}),n.createObjectStore("targetGlobal")}const N1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class F1{constructor(e,t,r,i,s,c,h,_,b,x,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=s,this.window=c,this.document=h,this.ri=b,this.oi=x,this.ui=T,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=P=>Promise.resolve(),!F1.D())throw new Re(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tG(this,i),this.di=t+"main",this.serializer=new DB(_),this.wi=new ql(this.di,this.ui,new hG(this.serializer)),this.Bs=new X7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=KB(this.serializer),this.qs=new z7,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,N1);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ua(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ge.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>iI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(uf(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return t0(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}Pi(e){return iI(e).delete(this.clientId)}bi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ui(r,"clientMetadata");return i.j().next(s=>{const c=e.Si(s,18e5),h=s.filter(_=>-1===c.indexOf(_));return ae.forEach(h,_=>i.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):t0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,N1);return!1}}return!(!this.networkEnabled||!this.inForeground)||iI(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new n1(t,ua.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>iI(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return eI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Q7(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Kx.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(c=this.ui)?e7:14===c?mV:13===c?pV:12===c?J9:11===c?fV:void pt();var c;let h;return this.wi.runTransaction(e,i,s,_=>(h=new n1(_,this.Os?this.Os.next():ua.ct),"readwrite-primary"===t?this.Ti(h).next(b=>!!b||this.Ei(h)).next(b=>{if(!b)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(fe.FAILED_PRECONDITION,sV);return r(h)}).next(b=>this.vi(h).next(()=>b)):this.Oi(h).next(()=>r(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Oi(e){return t0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(fe.FAILED_PRECONDITION,N1)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return t0(e).put("owner",t)}static D(){return ql.D()}Ai(e){const t=t0(e);return t.get("owner").next(r=>this.Ri(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Kr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Xt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Kr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function t0(n){return Ui(n,"owner")}function iI(n){return Ui(n,"clientMetadata")}function L1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class V1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=en(),i=en();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V1(e,t.fromCache,r,i)}}class tU{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(BV(t))return ae.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=jx(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=en(...s);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.ji(t,h);return this.zi(t,b,c,_.readTime)?this.Ki(e,jx(t,null,"F")):this.Wi(e,b,t,_)}))})))}Gi(e,t,r,i){return BV(t)||i.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const c=this.ji(t,s);return this.zi(t,c,r,i)?this.Qi(e,t):(YM()<=tf.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),f1(t)),this.Wi(e,c,t,iV(i,-1)))})}ji(e,t){let r=new ir(jV(e));return t.forEach((i,s)=>{Vb(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return YM()<=tf.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",f1(t)),this.Ui.getDocumentsMatchingQuery(e,t,ca.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class fG{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Qn(Zt),this.Yi=new Sd(s=>sm(s),Fb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function nU(n,e,t,r){return new fG(n,e,t,r)}function rU(n,e){return B1.apply(this,arguments)}function B1(){return B1=(0,ge.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],h=[];let _=en();for(const b of i){c.push(b.batchId);for(const x of b.mutations)_=_.add(x.key)}for(const b of s){h.push(b.batchId);for(const x of b.mutations)_=_.add(x.key)}return t.localDocuments.getDocuments(r,_).next(b=>({er:b,removedBatchIds:c,addedBatchIds:h}))})})}),B1.apply(this,arguments)}function iU(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function oU(n,e,t){let r=en(),i=en();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=Cs();return t.forEach((h,_)=>{const b=s.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(h)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(e.removeEntry(h,_.readTime),c=c.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(h,_)):He("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{nr:c,sr:i}})}function gG(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E_(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,ae.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Ad(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function C_(n,e,t){return U1.apply(this,arguments)}function U1(){return U1=(0,ge.Z)(function*(n,e,t){const r=rt(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!uf(c))throw c;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),U1.apply(this,arguments)}function oI(n,e,t){const r=rt(n);let i=Dt.min(),s=en();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,_,b){const x=rt(h),T=x.Yi.get(b);return void 0!==T?ae.resolve(x.Ji.get(T)):x.Bs.getTargetData(_,b)}(r,c,es(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,h.targetId).next(_=>{s=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Dt.min(),t?s:en())).next(h=>(lU(r,HV(e),h),{documents:h,ir:s})))}function sU(n,e){const t=rt(n),r=rt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(c=>c?c.target:null))}function aU(n,e){const t=rt(n),r=t.Xi.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,iV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(lU(t,e,i),i))}function lU(n,e,t){let r=n.Xi.get(e)||Dt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}function H1(){return H1=(0,ge.Z)(function*(n,e,t,r){const i=rt(n);let s=en(),c=Cs();for(const b of t){const x=e.rr(b.metadata.name);b.document&&(s=s.add(x));const T=e.ur(b);T.setReadTime(e.cr(b.metadata.readTime)),c=c.insert(x,T)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield E_(i,(b=r,es(f_(gn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>oU(b,h,c).next(x=>(h.apply(b),x)).next(x=>i.Bs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Bs.addMatchingKeys(b,s,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,x.nr,x.sr)).next(()=>x.nr)))}),H1.apply(this,arguments)}function yG(n,e){return j1.apply(this,arguments)}function j1(){return j1=(0,ge.Z)(function*(n,e,t=en()){const r=yield E_(n,es(D1(e.bundledQuery))),i=rt(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const c=Yr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(s,e);const h=r.withResumeToken(wi.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(s,h).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,t,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}),j1.apply(this,arguments)}function cU(n,e){return`firestore_clients_${n}_${e}`}function uU(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function z1(n,e){return`firestore_targets_${n}_${e}`}class sI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let s,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(s=new Re(i.error.code,i.error.message))),c?new sI(e,t,i.state,s):(Kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class n0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Re(r.error.code,r.error.message))),s?new n0(e,r.state,i):(Kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class aI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=p1();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=cV(r.activeTargetIds[c]),s=s.add(r.activeTargetIds[c]);return i?new aI(e,s):(Kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $1{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $1(t.clientId,t.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class G1{constructor(){this.activeTargetIds=p1()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q1{constructor(e,t,r,i,s){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Qn(Zt),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=cU(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new G1),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const s=e.getItem(cU(e.persistenceKey,i));if(s){const c=aI.ar(i,s);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(z1(this.persistenceKey,e));if(r){const i=n0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(z1(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(s){let c=ua.ct;if(null!=s)try{const h=JSON.parse(s);xt("number"==typeof h),c=h}catch(h){Kr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==ua.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new sI(this.currentUser,e,t,r),s=uU(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const t=uU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=z1(this.persistenceKey,e),s=new n0(e,t,r);this.setItem(i,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return aI.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return sI.ar(new Bi(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return n0.ar(i,t)}br(e){return $1.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),c=[],h=[];return s.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{s.has(_)||h.push(_)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=p1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class dU{constructor(){this.Hr=new G1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new G1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vG{Yr(e){}shutdown(){}}class hU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lI=null;function W1(){return null===lI?lI=268435456+Math.round(2147483648*Math.random()):lI++,"0x"+lI.toString(16)}const bG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wG{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const To="WebChannelConnection";class EG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const c=W1(),h=this.To(e,t);He("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const _={};return this.Eo(_,i,s),this.Ao(e,h,_,r).then(b=>(He("RestConnection",`Received RPC '${e}' ${c}: `,b),b),b=>{throw za("RestConnection",`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",r),b})}vo(e,t,r,i,s,c){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+a_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${bG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=W1();return new Promise((c,h)=>{const _=new v9;_.setWithCredentials(!0),_.listenOnce(g9.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case KM.NO_ERROR:const x=_.getResponseJson();He(To,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(x)),c(x);break;case KM.TIMEOUT:He(To,`RPC '${e}' ${s} timed out`),h(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case KM.HTTP_ERROR:const T=_.getStatus();if(He(To,`RPC '${e}' ${s} failed with status:`,T,"response text:",_.getResponseText()),T>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=P?.error;if(V&&V.status&&V.message){const H=function(Q){const oe=Q.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(oe)>=0?oe:fe.UNKNOWN}(V.status);h(new Re(H,V.message))}else h(new Re(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{He(To,`RPC '${e}' ${s} completed.`)}});const b=JSON.stringify(i);He(To,`RPC '${e}' ${s} sending request:`,i),_.send(t,"POST",b,r,15)})}Ro(e,t,r){const i=W1(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=p9(),h=m9(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.xmlHttpFactory=new y9({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const x=s.join("");He(To,`Creating RPC '${e}' stream ${i}: ${x}`,_);const T=c.createWebChannel(x,_);let P=!1,V=!1;const H=new wG({ro:oe=>{V?He(To,`Not sending because RPC '${e}' stream ${i} is closed:`,oe):(P||(He(To,`Opening RPC '${e}' stream ${i} transport.`),T.open(),P=!0),He(To,`RPC '${e}' stream ${i} sending:`,oe),T.send(oe))},oo:()=>T.close()}),Q=(oe,ke,Ze)=>{oe.listen(ke,$e=>{try{Ze($e)}catch(Qe){setTimeout(()=>{throw Qe},0)}})};return Q(T,Tx.EventType.OPEN,()=>{V||He(To,`RPC '${e}' stream ${i} transport opened.`)}),Q(T,Tx.EventType.CLOSE,()=>{V||(V=!0,He(To,`RPC '${e}' stream ${i} transport closed`),H.wo())}),Q(T,Tx.EventType.ERROR,oe=>{V||(V=!0,za(To,`RPC '${e}' stream ${i} transport errored:`,oe),H.wo(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),Q(T,Tx.EventType.MESSAGE,oe=>{var ke;if(!V){const Ze=oe.data[0];xt(!!Ze);const Qe=Ze.error||(null===(ke=Ze[0])||void 0===ke?void 0:ke.error);if(Qe){He(To,`RPC '${e}' stream ${i} received error:`,Qe);const Tt=Qe.status;let Pt=function(Mr){const Ao=ai[Mr];if(void 0!==Ao)return sB(Ao)}(Tt),fn=Qe.message;void 0===Pt&&(Pt=fe.INTERNAL,fn="Unknown error status: "+Tt+" with message "+Qe.message),V=!0,H.wo(new Re(Pt,fn)),T.close()}else He(To,`RPC '${e}' stream ${i} received:`,Ze),H._o(Ze)}}),Q(h,_9.STAT_EVENT,oe=>{oe.stat===X2.PROXY?He(To,`RPC '${e}' stream ${i} detected buffering proxy`):oe.stat===X2.NOPROXY&&He(To,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{H.fo()},0),H}}function fU(){return typeof window<"u"?window:null}function cI(){return typeof document<"u"?document:null}function r0(n){return new k7(n,!0)}class Z1{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pU{constructor(e,t,r,i,s,c,h,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Z1(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Re(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CG extends pU{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function N7(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:pt(),i=e.targetChange.targetIds||[],s=function(_,b){return _.useProto3Json?(xt(void 0===b||"string"==typeof b),wi.fromBase64String(b||"")):(xt(void 0===b||b instanceof Uint8Array),wi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(_){const b=void 0===_.code?fe.UNKNOWN:sB(_.code);return new Re(b,_.message||"")}(c);t=new dB(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=cu(n,r.document.name),s=Yr(r.document.updateTime),c=r.document.createTime?Yr(r.document.createTime):Dt.min(),h=new so({mapValue:{fields:r.document.fields}}),_=or.newFoundDocument(i,s,c,h);t=new Wx(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=cu(n,r.document),s=r.readTime?Yr(r.readTime):Dt.min(),c=or.newNoDocument(i,s);t=new Wx([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=cu(n,r.document);t=new Wx([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return pt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,c=new D7(i,s);t=new uB(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Dt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Dt.min():s.readTime?Yr(s.readTime):Dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Wb(this.serializer),t.addTarget=function(i,s){let c;const h=s.target;if(c=Bx(h)?{documents:wB(i,h)}:{query:I1(i,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=mB(i,s.resumeToken);const _=w1(i,s.expectedCount);null!==_&&(c.expectedCount=_)}else if(s.snapshotVersion.compareTo(Dt.min())>0){c.readTime=y_(i,s.snapshotVersion.toTimestamp());const _=w1(i,s.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function L7(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Wb(this.serializer),t.removeTarget=e,this.Wo(t)}}class xG extends pU{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function F7(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let s=Yr(r.updateTime?r.updateTime:i);return s.isEqual(Dt.min())&&(s=Yr(i)),new E7(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.cu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wb(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Zb(this.serializer,r))};this.Wo(t)}}class IG extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(fe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.vo(e,t,r,s,c,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(fe.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class SG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kr(t),this.mu=!1):He("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class TG{constructor(e,t,r,i,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{r.enqueueAndForget((0,ge.Z)(function*(){var _;Ef(c)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ge.Z)(function*(b){const x=rt(b);x.vu.add(4),yield x_(x),x.bu.set("Unknown"),x.vu.delete(4),yield o0(x)}),function(b){return _.apply(this,arguments)})(c))}))}),this.bu=new SG(r,i)}}function o0(n){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ge.Z)(function*(n){if(Ef(n))for(const e of n.Ru)yield e(!0)}),Y1.apply(this,arguments)}function x_(n){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,ge.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Q1.apply(this,arguments)}function uI(n,e){const t=rt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),eR(t)?J1(t):D_(t).Ko()&&X1(t,e))}function s0(n,e){const t=rt(n),r=D_(t);t.Au.delete(e),r.Ko()&&mU(t,e),0===t.Au.size&&(r.Ko()?r.jo():Ef(t)&&t.bu.set("Unknown"))}function X1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}D_(n).su(e)}function mU(n,e){n.Vu.qt(e),D_(n).iu(e)}function J1(n){n.Vu=new T7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),D_(n).start(),n.bu.gu()}function eR(n){return Ef(n)&&!D_(n).Uo()&&n.Au.size>0}function Ef(n){return 0===rt(n).vu.size}function gU(n){n.Vu=void 0}function AG(n){return tR.apply(this,arguments)}function tR(){return tR=(0,ge.Z)(function*(n){n.Au.forEach((e,t)=>{X1(n,e)})}),tR.apply(this,arguments)}function MG(n,e){return nR.apply(this,arguments)}function nR(){return nR=(0,ge.Z)(function*(n,e){gU(n),eR(n)?(n.bu.Iu(e),J1(n)):n.bu.set("Unknown")}),nR.apply(this,arguments)}function RG(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=(0,ge.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof dB&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(i,s){const c=s.cause;for(const h of s.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dI(n,r)}else if(e instanceof Wx?n.Vu.Ht(e):e instanceof uB?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const r=yield iU(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const c=i.Vu.ce(s);return c.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=i.Au.get(_);b&&i.Au.set(_,b.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach((h,_)=>{const b=i.Au.get(h);if(!b)return;i.Au.set(h,b.withResumeToken(wi.EMPTY_BYTE_STRING,b.snapshotVersion)),mU(i,h);const x=new Ad(b.target,h,_,b.sequenceNumber);X1(i,x)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield dI(n,r)}var r}),rR.apply(this,arguments)}function dI(n,e,t){return iR.apply(this,arguments)}function iR(){return iR=(0,ge.Z)(function*(n,e,t){if(!uf(e))throw e;n.vu.add(1),yield x_(n),n.bu.set("Offline"),t||(t=()=>iU(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield o0(n)}))}),iR.apply(this,arguments)}function _U(n,e){return e().catch(t=>dI(n,t,e))}function I_(n){return oR.apply(this,arguments)}function oR(){return oR=(0,ge.Z)(function*(n){const e=rt(n),t=Cf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;kG(e);)try{const i=yield gG(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,OG(e,i)}catch(i){yield dI(e,i)}yU(e)&&vU(e)}),oR.apply(this,arguments)}function kG(n){return Ef(n)&&n.Eu.length<10}function OG(n,e){n.Eu.push(e);const t=Cf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function yU(n){return Ef(n)&&!Cf(n).Uo()&&n.Eu.length>0}function vU(n){Cf(n).start()}function PG(n){return sR.apply(this,arguments)}function sR(){return sR=(0,ge.Z)(function*(n){Cf(n).hu()}),sR.apply(this,arguments)}function NG(n){return aR.apply(this,arguments)}function aR(){return aR=(0,ge.Z)(function*(n){const e=Cf(n);for(const t of n.Eu)e.uu(t.mutations)}),aR.apply(this,arguments)}function FG(n,e,t){return lR.apply(this,arguments)}function lR(){return lR=(0,ge.Z)(function*(n,e,t){const r=n.Eu.shift(),i=_1.from(r,e,t);yield _U(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield I_(n)}),lR.apply(this,arguments)}function LG(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,ge.Z)(function*(n,e){var t;e&&Cf(n).ou&&(yield(t=(0,ge.Z)(function*(r,i){if(oB(s=i.code)&&s!==fe.ABORTED){const c=r.Eu.shift();Cf(r).Qo(),yield _U(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield I_(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),yU(n)&&vU(n)}),cR.apply(this,arguments)}function bU(n,e){return uR.apply(this,arguments)}function uR(){return uR=(0,ge.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Ef(t);t.vu.add(3),yield x_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield o0(t)}),uR.apply(this,arguments)}function dR(n,e){return hR.apply(this,arguments)}function hR(){return hR=(0,ge.Z)(function*(n,e){const t=rt(n);e?(t.vu.delete(2),yield o0(t)):e||(t.vu.add(2),yield x_(t),t.bu.set("Unknown"))}),hR.apply(this,arguments)}function D_(n){return n.Su||(n.Su=function(e,t,r){const i=rt(e);return i.fu(),new CG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:AG.bind(null,n),ao:MG.bind(null,n),nu:RG.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Su.Qo(),eR(n)?J1(n):n.bu.set("Unknown")):(yield n.Su.stop(),gU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cf(n){return n.Du||(n.Du=function(e,t,r){const i=rt(e);return i.fu(),new xG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:PG.bind(null,n),ao:LG.bind(null,n),au:NG.bind(null,n),cu:FG.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Du.Qo(),yield I_(n)):(yield n.Du.stop(),n.Eu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class fR{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,h=new fR(e,t,c,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),uf(n))return new Re(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class T_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Bb(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new T_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof T_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new T_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class wU{constructor(){this.Cu=new Qn(et.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class A_{constructor(e,t,r,i,s,c,h,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,s){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new A_(e,t,T_.emptySet(t),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class VG{constructor(){this.Nu=void 0,this.listeners=[]}}class BG{constructor(){this.queries=new Sd(e=>UV(e),Lb),this.onlineState="Unknown",this.ku=new Set}}function pR(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,ge.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new VG),i)try{s.Nu=yield t.onListen(r)}catch(c){const h=S_(c,`Initialization of query '${f1(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&yR(t)}),mR.apply(this,arguments)}function gR(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,ge.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),_R.apply(this,arguments)}function UG(n,e){const t=rt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.$u(i)&&(r=!0);c.Nu=i}}r&&yR(t)}function HG(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function yR(n){n.ku.forEach(e=>{e.next()})}class vR{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new A_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=A_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class jG{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class EU{constructor(e){this.serializer=e}rr(e){return cu(this.serializer,e)}ur(e){return e.metadata.exists?bB(this.serializer,e.document,!1):or.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Yr(e)}}class zG{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CU(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=gn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new EU(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||en()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function _G(n,e,t,r){return H1.apply(this,arguments)}(e.localStore,new EU(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield yG(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function CU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xU{constructor(e){this.key=e}}class IU{constructor(e){this.key=e}}class DU{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=en(),this.mutatedKeys=en(),this.tc=jV(e),this.ec=new T_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new wU,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,T)=>{const P=i.get(x),V=Vb(this.query,T)?T:null,H=!!P&&this.mutatedKeys.has(P.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let oe=!1;P&&V?P.data.isEqual(V.data)?H!==Q&&(r.track({type:3,doc:V}),oe=!0):this.rc(P,V)||(r.track({type:2,doc:V}),oe=!0,(_&&this.tc(V,_)>0||b&&this.tc(V,b)<0)&&(h=!0)):!P&&V?(r.track({type:0,doc:V}),oe=!0):P&&!V&&(r.track({type:1,doc:P}),oe=!0,(_||b)&&(h=!0)),oe&&(V?(c=c.add(V),s=Q?s.add(x):s.delete(x)):(c=c.delete(x),s=s.delete(x)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const x="F"===this.query.limitType?c.last():c.first();c=c.delete(x.key),s=s.delete(x.key),r.track({type:1,doc:x})}return{ec:c,ic:r,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((b,x)=>function(T,P){const V=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return V(T)-V(P)}(b.type,x.type)||this.tc(b.doc,x.doc)),this.oc(r);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,_=h!==this.Xu;return this.Xu=h,0!==s.length||_?{snapshot:new A_(this.query,e.ec,i,s,e.mutatedKeys,0===h,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=en(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new IU(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new xU(r))}),t}hc(e){this.Yu=e.ir,this.Zu=en();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return A_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class $G{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class GG{constructor(e){this.key=e,this.fc=!1}}class qG{constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Sd(h=>UV(h),Lb),this._c=new Map,this.mc=new Set,this.gc=new Qn(et.comparator),this.yc=new Map,this.Ic=new O1,this.Tc={},this.Ec=new Map,this.Ac=mm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function WG(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,ge.Z)(function*(n,e){const t=zR(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const c=yield E_(t.localStore,es(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield wR(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&uI(t.remoteStore,c)}return i}),bR.apply(this,arguments)}function wR(n,e,t,r,i){return ER.apply(this,arguments)}function ER(){return ER=(0,ge.Z)(function*(n,e,t,r,i){n.Rc=(T,P,V)=>{return(H=(0,ge.Z)(function*(Q,oe,ke,Ze){let $e=oe.view.sc(ke);$e.zi&&($e=yield oI(Q.localStore,oe.query,!1).then(({documents:Pt})=>oe.view.sc(Pt,$e)));const Qe=Ze&&Ze.targetChanges.get(oe.targetId),Tt=oe.view.applyChanges($e,Q.isPrimaryClient,Qe);return kR(Q,oe.targetId,Tt.cc),Tt.snapshot}),function(Q,oe,ke,Ze){return H.apply(this,arguments)})(n,T,P,V);var H};const s=yield oI(n.localStore,e,!0),c=new DU(e,s.ir),h=c.sc(s.documents),_=Gb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=c.applyChanges(h,n.isPrimaryClient,_);kR(n,t,b.cc);const x=new $G(e,t,c);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),ER.apply(this,arguments)}function ZG(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,ge.Z)(function*(n,e){const t=rt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Lb(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield C_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),s0(t.remoteStore,r.targetId),M_(t,r.targetId)}).catch(cf))):(M_(t,r.targetId),yield C_(t.localStore,r.targetId,!0))}),CR.apply(this,arguments)}function xR(){return xR=(0,ge.Z)(function*(n,e,t){const r=$R(n);try{const i=yield function(s,c){const h=rt(s),_=gr.now(),b=c.reduce((P,V)=>P.add(V.key),en());let x,T;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=Cs(),H=en();return h.Zi.getEntries(P,b).next(Q=>{V=Q,V.forEach((oe,ke)=>{ke.isValidDocument()||(H=H.add(oe))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,V)).next(Q=>{x=Q;const oe=[];for(const ke of c){const Ze=x7(ke,x.get(ke.key).overlayedDocument);null!=Ze&&oe.push(new Td(ke.key,Ze,DV(Ze.value.mapValue),_r.exists(!0)))}return h.mutationQueue.addMutationBatch(P,_,oe,c)}).next(Q=>{T=Q;const oe=Q.applyToLocalDocumentSet(x,H);return h.documentOverlayCache.saveOverlays(P,Q.batchId,oe)})}).then(()=>({batchId:T.batchId,changes:$V(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,h){let _=s.Tc[s.currentUser.toKey()];_||(_=new Qn(Zt)),_=_.insert(c,h),s.Tc[s.currentUser.toKey()]=_}(r,i.batchId,t),yield Md(r,i.changes),yield I_(r.remoteStore)}catch(i){const s=S_(i,"Failed to persist write");t.reject(s)}}),xR.apply(this,arguments)}function SU(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,ge.Z)(function*(n,e){const t=rt(n);try{const r=yield function mG(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((x,T)=>{const P=i.get(T);if(!P)return;h.push(t.Bs.removeMatchingKeys(s,x.removedDocuments,T).next(()=>t.Bs.addMatchingKeys(s,x.addedDocuments,T)));let V=P.withSequenceNumber(s.currentSequenceNumber);var H,Q,oe;null!==e.targetMismatches.get(T)?V=V.withResumeToken(wi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):x.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(x.resumeToken,r)),i=i.insert(T,V),Q=V,oe=x,(0===(H=P).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,V))});let _=Cs(),b=en();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,x))}),h.push(oU(s,c,e.documentUpdates).next(x=>{_=x.nr,b=x.sr})),!r.isEqual(Dt.min())){const x=t.Bs.getLastRemoteSnapshotVersion(s).next(T=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(x)}return ae.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,_,b)).next(()=>_)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.yc.get(s);c&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?xt(c.fc):i.removedDocuments.size>0&&(xt(c.fc),c.fc=!1))}),yield Md(t,r,e)}catch(r){yield cf(r)}}),IR.apply(this,arguments)}function TU(n,e,t){const r=rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,c)=>{const h=c.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(s,c){const h=rt(s);h.onlineState=c;let _=!1;h.queries.forEach((b,x)=>{for(const T of x.listeners)T.Mu(c)&&(_=!0)}),_&&yR(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YG(n,e,t){return DR.apply(this,arguments)}function DR(){return DR=(0,ge.Z)(function*(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let c=new Qn(et.comparator);c=c.insert(s,or.newNoDocument(s,Dt.min()));const h=en().add(s),_=new $b(Dt.min(),new Map,new Qn(Zt),c,h);yield SU(r,_),r.gc=r.gc.remove(s),r.yc.delete(e),OR(r)}else yield C_(r.localStore,e,!1).then(()=>M_(r,e,t)).catch(cf)}),DR.apply(this,arguments)}function QG(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,ge.Z)(function*(n,e){const t=rt(n),r=e.batch.batchId;try{const i=yield function pG(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,_,b){const x=_.batch,T=x.keys();let P=ae.resolve();return T.forEach(V=>{P=P.next(()=>b.getEntry(h,V)).next(H=>{const Q=_.docVersions.get(V);xt(null!==Q),H.version.compareTo(Q)<0&&(x.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),b.addEntry(H)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(h,x))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=en();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(h=h.add(c.batch.mutations[_].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);RR(t,r,null),MR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Md(t,i)}catch(i){yield cf(i)}}),SR.apply(this,arguments)}function XG(n,e,t){return TR.apply(this,arguments)}function TR(){return TR=(0,ge.Z)(function*(n,e,t){const r=rt(n);try{const i=yield function(s,c){const h=rt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,c).next(x=>(xt(null!==x),b=x.keys(),h.mutationQueue.removeMutationBatch(_,x))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(r.localStore,e);RR(r,e,t),MR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Md(r,i)}catch(i){yield cf(i)}}),TR.apply(this,arguments)}function AR(){return AR=(0,ge.Z)(function*(n,e){const t=rt(n);Ef(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const c=rt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=S_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),AR.apply(this,arguments)}function MR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function RR(n,e,t){const r=rt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function M_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||AU(n,r)})}function AU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(s0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),OR(n))}function kR(n,e,t){for(const r of t)r instanceof xU?(n.Ic.addReference(r.key,e),eq(n,r)):r instanceof IU?(He("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||AU(n,r.key)):pt()}function eq(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.mc.add(r),OR(n))}function OR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new et(gn.fromString(e)),r=n.Ac.next();n.yc.set(r,new GG(t)),n.gc=n.gc.insert(t,r),uI(n.remoteStore,new Ad(es(f_(t.path)),r,"TargetPurposeLimboResolution",ua.ct))}}function Md(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,ge.Z)(function*(n,e,t){const r=rt(n),i=[],s=[],c=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,_)=>{c.push(r.Rc(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const x=V1.Li(_.targetId,b);s.push(x)}}))}),yield Promise.all(c),r.dc.nu(i),yield(h=(0,ge.Z)(function*(_,b){const x=rt(_);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(b,P=>ae.forEach(P.Fi,V=>x.persistence.referenceDelegate.addReference(T,P.targetId,V)).next(()=>ae.forEach(P.Bi,V=>x.persistence.referenceDelegate.removeReference(T,P.targetId,V)))))}catch(T){if(!uf(T))throw T;He("LocalStore","Failed to update sequence numbers: "+T)}for(const T of b){const P=T.targetId;if(!T.fromCache){const V=x.Ji.get(P),Q=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);x.Ji=x.Ji.insert(P,Q)}}}),function(_,b){return h.apply(this,arguments)})(r.localStore,s))}),PR.apply(this,arguments)}function tq(n,e){return NR.apply(this,arguments)}function NR(){return NR=(0,ge.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield rU(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Re(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Md(t,r.er)}var i}),NR.apply(this,arguments)}function nq(n,e){const t=rt(n),r=t.yc.get(e);if(r&&r.fc)return en().add(r.key);{let i=en();const s=t._c.get(e);if(!s)return i;for(const c of s){const h=t.wc.get(c);i=i.unionWith(h.view.nc)}return i}}function rq(n,e){return FR.apply(this,arguments)}function FR(){return FR=(0,ge.Z)(function*(n,e){const t=rt(n),r=yield oI(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&kR(t,e.targetId,i.cc),i}),FR.apply(this,arguments)}function iq(n,e){return LR.apply(this,arguments)}function LR(){return LR=(0,ge.Z)(function*(n,e){const t=rt(n);return aU(t.localStore,e).then(r=>Md(t,r))}),LR.apply(this,arguments)}function oq(n,e,t,r){return VR.apply(this,arguments)}function VR(){return VR=(0,ge.Z)(function*(n,e,t,r){const i=rt(n),s=yield function(c,h){const _=rt(c),b=rt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",x=>b.Sn(x,h).next(T=>T?_.localDocuments.getDocuments(x,T):ae.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield I_(i.remoteStore):"acknowledged"===t||"rejected"===t?(RR(i,e,r||null),MR(i,e),h=e,rt(rt(i.localStore).mutationQueue).Cn(h)):pt(),yield Md(i,s)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),VR.apply(this,arguments)}function BR(){return BR=(0,ge.Z)(function*(n,e){const t=rt(n);if(zR(t),$R(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield MU(t,r.toArray());t.vc=!0,yield dR(t.remoteStore,!0);for(const s of i)uI(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(M_(t,c),C_(t.localStore,c,!0))),s0(t.remoteStore,c)}),yield i,yield MU(t,r),function(s){const c=rt(s);c.yc.forEach((h,_)=>{s0(c.remoteStore,_)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Qn(et.comparator)}(t),t.vc=!1,yield dR(t.remoteStore,!1)}}),BR.apply(this,arguments)}function MU(n,e,t){return UR.apply(this,arguments)}function UR(){return UR=(0,ge.Z)(function*(n,e,t){const r=rt(n),i=[],s=[];for(const c of e){let h;const _=r._c.get(c);if(_&&0!==_.length){h=yield E_(r.localStore,es(_[0]));for(const b of _){const x=r.wc.get(b),T=yield rq(r,x);T.snapshot&&s.push(T.snapshot)}}else{const b=yield sU(r.localStore,c);h=yield E_(r.localStore,b),yield wR(r,RU(b),c,!1,h.resumeToken)}i.push(h)}return r.dc.nu(s),i}),UR.apply(this,arguments)}function RU(n){return VV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function aq(n){const e=rt(n);return rt(rt(e.localStore).persistence).$i()}function lq(n,e,t,r){return HR.apply(this,arguments)}function HR(){return HR=(0,ge.Z)(function*(n,e,t,r){const i=rt(n);if(i.vc)return void He("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield aU(i.localStore,HV(s[0])),h=$b.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,wi.EMPTY_BYTE_STRING);yield Md(i,c,h);break}case"rejected":yield C_(i.localStore,e,!0),M_(i,e,r);break;default:pt()}}),HR.apply(this,arguments)}function cq(n,e,t){return jR.apply(this,arguments)}function jR(){return jR=(0,ge.Z)(function*(n,e,t){const r=zR(n);if(r.vc){for(const i of e){if(r._c.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const s=yield sU(r.localStore,i),c=yield E_(r.localStore,s);yield wR(r,RU(s),c.targetId,!1,c.resumeToken),uI(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield C_(r.localStore,i,!1).then(()=>{s0(r.remoteStore,i),M_(r,i)}).catch(cf))}}),jR.apply(this,arguments)}function zR(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YG.bind(null,e),e.dc.nu=UG.bind(null,e.eventManager),e.dc.Pc=HG.bind(null,e.eventManager),e}function $R(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XG.bind(null,e),e}class a0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.serializer=r0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return nU(this.persistence,new tU,e.initialUser,this.serializer)}createPersistence(e){return new P1(nI.zs,this.serializer)}createSharedClientState(e){return new dU}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GR extends a0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield $R(r.Vc.syncEngine),yield I_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return nU(this.persistence,new tU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new qB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new F9(t,this.persistence);return new N9(e.asyncQueue,r)}createPersistence(e){const t=L1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new F1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,fU(),cI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dU}}class kU extends GR{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof q1&&(r.sharedClientState.syncEngine={jr:oq.bind(null,i),zr:lq.bind(null,i),Wr:cq.bind(null,i),$i:aq.bind(null,i),Qr:iq.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var s=(0,ge.Z)(function*(c){yield function sq(n,e){return BR.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=fU();if(!q1.D(t))throw new Re(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=L1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new q1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class R_{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>TU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tq.bind(null,r.syncEngine),yield dR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BG}createDatastore(e){const t=r0(e.databaseInfo.databaseId),r=new EG(e.databaseInfo);return new IG(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>TU(this.syncEngine,h,0),c=hU.D()?new hU:new vG,new TG(t,r,i,s,c);var t,r,i,s,c}createSyncEngine(e,t){return function(r,i,s,c,h,_,b){const x=new qG(r,i,s,c,h,_);return b&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=rt(t);He("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield x_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function OU(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class hI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hq{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new bi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const s=yield e.$c(i);return new jG(JSON.parse(s),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ge.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class fq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ge.Z)(function*(s,c){const h=rt(s),_=Wb(h.serializer)+"/documents",b={documents:c.map(V=>qb(h.serializer,V))},x=yield h.vo("BatchGetDocuments",_,b,c.length),T=new Map;x.forEach(V=>{const H=function P7(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=cu(t,r.found.name),s=Yr(r.found.updateTime),c=r.found.createTime?Yr(r.found.createTime):Dt.min(),h=new so({mapValue:{fields:r.found.fields}});return or.newFoundDocument(i,s,c,h)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=cu(t,r.missing),s=Yr(r.readTime);return or.newNoDocument(i,s)}(n,e):pt()}(h.serializer,V);T.set(H.key.toString(),H)});const P=[];return c.forEach(V=>{const H=T.get(V.toString());xt(!!H),P.push(H)}),P}),function(s,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new __(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=et.fromPath(i);e.mutations.push(new m1(s,e.precondition(s)))}),yield(r=(0,ge.Z)(function*(i,s){const c=rt(i),h=Wb(c.serializer)+"/documents",_={writes:s.map(b=>Zb(c.serializer,b))};yield c.Io("Commit",h,_)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?_r.exists(!1):_r.updateTime(t):_r.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _r.updateTime(t)}return _r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pq{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new Z1(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ge.Z)(function*(){const t=new fq(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Uc(s)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Mb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!oB(t)}return!1}}class mq{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=nV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ge.Z)(function*(h){He("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(He("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=S_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function fI(n,e){return qR.apply(this,arguments)}function qR(){return qR=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ge.Z)(function*(s){r.isEqual(s)||(yield rU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),qR.apply(this,arguments)}function WR(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KR(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>bU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>bU(e.remoteStore,s)),n._onlineComponents=e}),ZR.apply(this,arguments)}function PU(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function KR(n){return YR.apply(this,arguments)}function YR(){return YR=(0,ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!PU(t))throw t;za("Error using user provided cache. Falling back to memory cache: "+t),yield fI(n,new a0)}}else He("FirestoreClient","Using default OfflineComponentProvider"),yield fI(n,new a0);return n._offlineComponents}),YR.apply(this,arguments)}function pI(n){return QR.apply(this,arguments)}function QR(){return QR=(0,ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),yield WR(n,n._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),yield WR(n,new R_))),n._onlineComponents}),QR.apply(this,arguments)}function NU(n){return KR(n).then(e=>e.persistence)}function mI(n){return KR(n).then(e=>e.localStore)}function FU(n){return pI(n).then(e=>e.remoteStore)}function XR(n){return pI(n).then(e=>e.syncEngine)}function k_(n){return JR.apply(this,arguments)}function JR(){return JR=(0,ge.Z)(function*(n){const e=yield pI(n),t=e.eventManager;return t.onListen=WG.bind(null,e.syncEngine),t.onUnlisten=ZG.bind(null,e.syncEngine),t}),JR.apply(this,arguments)}function VU(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,s,c,h,_){const b=new hI({next:T=>{s.enqueueAndForget(()=>gR(i,x));const P=T.docs.has(c);!P&&T.fromCache?_.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&h&&"server"===h.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(T)},error:T=>_.reject(T)}),x=new vR(f_(c.path),b,{includeMetadataChanges:!0,Ku:!0});return pR(i,x)}(yield k_(n),n.asyncQueue,e,t,r)})),r.promise}function BU(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,s,c,h,_){const b=new hI({next:T=>{s.enqueueAndForget(()=>gR(i,x)),T.fromCache&&"server"===h.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(T)},error:T=>_.reject(T)}),x=new vR(c,b,{includeMetadataChanges:!0,Ku:!0});return pR(i,x)}(yield k_(n),n.asyncQueue,e,t,r)})),r.promise}function UU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const HU=new Map;function ek(n,e,t){if(!t)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jU(n,e,t,r){if(!0===e&&!0===r)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zU(n){if(!et.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $U(n){if(et.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gI(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GU(n,e){if(e<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=UU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class l0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new C9;switch(t.type){case"firstParty":return new S9(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HU.get(e);t&&(He("ComponentProvider","Removing Datastore"),HU.delete(e),t.terminate())}(this),Promise.resolve()}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class ao{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class uu extends ao{constructor(e,t,r){super(e,t,f_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new et(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function ZU(n,e,...t){if(n=(0,Xt.m9)(n),ek("collection","path",e),n instanceof l0){const r=gn.fromString(e,...t);return $U(r),new uu(n,null,r)}{if(!(n instanceof sr||n instanceof uu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return $U(r),new uu(n.firestore,null,r)}}function _I(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=nV.A()),ek("doc","path",e),n instanceof l0){const r=gn.fromString(e,...t);return zU(r),new sr(n,null,new et(r))}{if(!(n instanceof sr||n instanceof uu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return zU(r),new sr(n.firestore,n instanceof uu?n.converter:null,new et(r))}}function KU(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof sr||n instanceof uu)&&(e instanceof sr||e instanceof uu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function tk(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof ao&&e instanceof ao&&n.firestore===e.firestore&&Lb(n._query,e._query)&&n.converter===e.converter}class Iq{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Z1(this,"async_queue_retry"),this.Xc=()=>{const t=cI();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=cI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=cI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new bi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!uf(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=fR.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&pt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function nk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Dq{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ar extends l0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Iq,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YU(this),this._firestoreClient.terminate()}}function Qr(n){return n._firestoreClient||YU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YU(n){var e,t,r;const i=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new r7(n._databaseId,h,n._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,UU(b.experimentalLongPollingOptions),b.useFetchStreams));var h,b;n._firestoreClient=new mq(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function QU(n,e,t){const r=new bi;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield fI(n,t),yield WR(n,e),r.resolve()}catch(i){const s=i;if(!PU(s))throw s;za("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function XU(n){if(n._initialized||n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(wi.fromBase64String(e))}catch(t){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new du(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _m{constructor(e){this._methodName=e}}class yI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const Lq=/^__.*__$/;class Vq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Td(e,this.data,this.fieldMask,t,this.fieldTransforms):new g_(e,this.data,t,this.fieldTransforms)}}class JU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Td(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function e3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class vI{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new vI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return EI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(e3(this.ca)&&Lq.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bq{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||r0(e)}ya(e,t,r,i=!1){return new vI({ca:e,methodName:t,ga:r,path:Ur.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(n){const e=n._freezeSettings(),t=r0(n._databaseId);return new Bq(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bI(n,e,t,r,i,s={}){const c=n.ya(s.merge||s.mergeFields?2:0,e,t,i);sk("Data must be an object, but it was:",c,r);const h=r3(r,c);let _,b;if(s.merge)_=new Es(c.fieldMask),b=c.fieldTransforms;else if(s.mergeFields){const x=[];for(const T of s.mergeFields){const P=d0(e,T,t);if(!c.contains(P))throw new Re(fe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);s3(x,P)||x.push(P)}_=new Es(x),b=c.fieldTransforms.filter(T=>_.covers(T.field))}else _=null,b=c.fieldTransforms;return new Vq(new so(h),_,b)}class u0 extends _m{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof u0}}function t3(n,e,t){return new vI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rk extends _m{_toFieldTransform(e){return new Hb(e.path,new p_)}isEqual(e){return e instanceof rk}}class Uq extends _m{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=t3(this,e,!0),r=this.pa.map(s=>vm(s,t)),i=new lm(r);return new Hb(e.path,i)}isEqual(e){return this===e}}class Hq extends _m{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=t3(this,e,!0),r=this.pa.map(s=>vm(s,t)),i=new cm(r);return new Hb(e.path,i)}isEqual(e){return this===e}}class jq extends _m{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new m_(e.serializer,ZV(e.serializer,this.Ia));return new Hb(e.path,t)}isEqual(e){return this===e}}function ik(n,e,t,r){const i=n.ya(1,e,t);sk("Data must be an object, but it was:",i,r);const s=[],c=so.empty();df(r,(_,b)=>{const x=wI(e,_,t);b=(0,Xt.m9)(b);const T=i.da(x);if(b instanceof u0)s.push(x);else{const P=vm(b,T);null!=P&&(s.push(x),c.set(x,P))}});const h=new Es(s);return new JU(c,h,i.fieldTransforms)}function ok(n,e,t,r,i,s){const c=n.ya(1,e,t),h=[d0(e,r,t)],_=[i];if(s.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<s.length;P+=2)h.push(d0(e,s[P])),_.push(s[P+1]);const b=[],x=so.empty();for(let P=h.length-1;P>=0;--P)if(!s3(b,h[P])){const V=h[P];let H=_[P];H=(0,Xt.m9)(H);const Q=c.da(V);if(H instanceof u0)b.push(V);else{const oe=vm(H,Q);null!=oe&&(b.push(V),x.set(V,oe))}}const T=new Es(b);return new JU(x,T,c.fieldTransforms)}function n3(n,e,t,r=!1){return vm(t,n.ya(r?4:3,e))}function vm(n,e){if(o3(n=(0,Xt.m9)(n)))return sk("Unsupported field value:",e,n),r3(n,e);if(n instanceof _m)return function(t,r){if(!e3(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const c of t){let h=vm(c,r.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ZV(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=gr.fromDate(t);return{timestampValue:y_(r.serializer,i)}}if(t instanceof gr){const i=new gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:y_(r.serializer,i)}}if(t instanceof yI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:mB(r.serializer,t._byteString)};if(t instanceof sr){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:E1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${gI(t)}`)}(n,e)}function r3(n,e){const t={};return _V(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):df(n,(r,i)=>{const s=vm(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function o3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gr||n instanceof yI||n instanceof du||n instanceof sr||n instanceof _m)}function sk(n,e,t){if(!o3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function d0(n,e,t){if((e=(0,Xt.m9)(e))instanceof Rd)return e._internalPath;if("string"==typeof e)return wI(n,e);throw EI("Field path arguments must be of type string or ",n,!1,void 0,t)}const zq=new RegExp("[~\\*/\\[\\]]");function wI(n,e,t){if(e.search(zq)>=0)throw EI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rd(...e.split("."))._internalPath}catch{throw EI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function EI(n,e,t,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(s||c)&&(_+=" (found",s&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Re(fe.INVALID_ARGUMENT,h+n+_)}function s3(n,e){return n.some(t=>t.isEqual(e))}class h0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $q(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $q extends h0{data(){return super.data()}}function CI(n,e){return"string"==typeof e?wI(n,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}function a3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ak{}class f0 extends ak{}function xf(n,e,...t){let r=[];e instanceof ak&&r.push(e),r=r.concat(t),function(i){const s=i.filter(h=>h instanceof O_).length,c=i.filter(h=>h instanceof p0).length;if(s>1||s>0&&c>0)throw new Re(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class p0 extends f0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new p0(e,t,r)}_apply(e){const t=this._parse(e);return d3(e._query,t),new ao(e.firestore,e.converter,h1(e._query,t))}_parse(e){const t=ym(e.firestore);return function(i,s,c,h,_,b,x){let T;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){u3(x,b);const P=[];for(const V of x)P.push(c3(h,i,V));T={arrayValue:{values:P}}}else T=c3(h,i,x)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||u3(x,b),T=n3(c,"where",x,"in"===b||"not-in"===b);return dn.create(_,b,T)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class O_ extends ak{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new O_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const c=i.getFlattenedFilters();for(const h of c)d3(s,h),s=h1(s,h)}(e._query,t),new ao(e.firestore,e.converter,h1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lk extends f0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lk(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new d_(i,s);return function(h,_){if(null===u1(h)){const b=Hx(h);null!==b&&h3(0,b,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Dd(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class xI extends f0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xI(e,t,r)}_apply(e){return new ao(e.firestore,e.converter,jx(e._query,this._limit,this._limitType))}}class II extends f0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new II(e,t,r)}_apply(e){const t=l3(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(i=t,new Dd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class DI extends f0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new DI(e,t,r)}_apply(e){const t=l3(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(i=t,new Dd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function l3(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof h0)return function(i,s,c,h,_){if(!h)throw new Re(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const x of am(i))if(x.field.isKeyField())b.push(om(s,h.key));else{const T=h.data.field(x.field);if(Px(T))throw new Re(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const P=x.field.canonicalString();throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}b.push(T)}return new _f(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ym(n.firestore);return function(s,c,h,_,b,x){const T=s.explicitOrderBy;if(b.length>T.length)throw new Re(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<b.length;V++){const H=b[V];if(T[V].field.isKeyField()){if("string"!=typeof H)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof H}`);if(!d1(s)&&-1!==H.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${H}' contains a slash.`);const Q=s.path.child(gn.fromString(H));if(!et.isDocumentKey(Q))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const oe=new et(Q);P.push(om(c,oe))}else{const Q=n3(h,_,H);P.push(Q)}}return new _f(P,x)}(n._query,n.firestore._databaseId,i,e,t,r)}}function c3(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d1(e)&&-1!==t.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!et.isDocumentKey(r))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return om(n,new et(r))}if(t instanceof sr)return om(n,t._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gI(t)}.`)}function u3(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d3(n,e){if(e.isInequality()){const r=Hx(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=u1(n);null!==s&&h3(0,i,s)}const t=function(r,i){for(const s of r)for(const c of s.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function h3(n,e,t){if(!t.isEqual(e))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ck{convertValue(e,t="none"){switch(mf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Id(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return df(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new yI(Hr(e.latitude),Hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nx(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(kb(e));default:return null}}convertTimestamp(e){const t=hf(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);xt(IB(r));const i=new ff(r.get(1),r.get(3)),s=new et(r.popFirst(5));return i.isEqual(t)||Kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function SI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Jq extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}class bm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kd extends h0{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new m0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class m0 extends kd{data(e={}){return super.data(e)}}class If{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new m0(this._firestore,this._userDataWriter,r.key,r,new bm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new m0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new bm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new m0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new bm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),b=s.indexOf(c.doc.key)),{type:tW(c.type),doc:h,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function p3(n,e){return n instanceof kd&&e instanceof kd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof If&&e instanceof If&&n._firestore===e._firestore&&tk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Df extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function m3(n,e,t){n=hn(n,sr);const r=hn(n.firestore,ar),i=SI(n.converter,e,t);return P_(r,[bI(ym(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,_r.none())])}function g3(n,e,t,...r){n=hn(n,sr);const i=hn(n.firestore,ar),s=ym(i);let c;return c="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Rd?ok(s,"updateDoc",n._key,e,t,r):ik(s,"updateDoc",n._key,e),P_(i,[c.toMutation(n._key,_r.exists(!0))])}function _3(n,...e){var t,r,i;n=(0,Xt.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||nk(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(nk(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[c+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let _,b,x;if(n instanceof sr)b=hn(n.firestore,ar),x=f_(n._key.path),_={next:T=>{e[c]&&e[c](uk(b,n,T))},error:e[c+1],complete:e[c+2]};else{const T=hn(n,ao);b=hn(T.firestore,ar),x=T._query;const P=new Df(b);_={next:V=>{e[c]&&e[c](new If(b,P,T,V))},error:e[c+1],complete:e[c+2]},a3(n._query)}return function(T,P,V,H){const Q=new hI(H),oe=new vR(P,Q,V);return T.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return pR(yield k_(T),oe)})),()=>{Q.Dc(),T.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return gR(yield k_(T),oe)}))}}(Qr(b),x,h,_)}function P_(n,e){return function(t,r){const i=new bi;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function KG(n,e,t){return xR.apply(this,arguments)}(yield XR(t),r,i)})),i.promise}(Qr(n),e)}function uk(n,e,t){const r=t.docs.get(e._key),i=new Df(n);return new kd(n,i,e._key,r,new bm(t.hasPendingWrites,t.fromCache),e.converter)}const vW={maxAttempts:5};class y3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ym(e)}set(e,t,r){this._verifyNotCommitted();const i=Sf(e,this._firestore),s=SI(i.converter,t,r),c=bI(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,_r.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Sf(e,this._firestore);let c;return c="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Rd?ok(this._dataReader,"WriteBatch.update",s._key,t,r,i):ik(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,_r.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sf(e,this._firestore);return this._mutations=this._mutations.concat(new __(t._key,_r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sf(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bW extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ym(e)}get(e){const t=Sf(e,this._firestore),r=new Jq(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return pt();const s=i[0];if(s.isFoundDocument())return new h0(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new h0(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const i=Sf(e,this._firestore),s=SI(i.converter,t,r),c=bI(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const s=Sf(e,this._firestore);let c;return c="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Rd?ok(this._dataReader,"Transaction.update",s._key,t,r,i):ik(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Sf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sf(e,this._firestore),r=new Df(this._firestore);return super.get(e).then(i=>new kd(this._firestore,r,t._key,i._document,new bm(!1,!1),t.converter))}}!function(n,e=!0){a_=jl.SDK_VERSION,(0,jl._registerComponent)(new Zg.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),c=new ar(new I9(t.getProvider("auth-internal")),new T9(t.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(h.options.projectId,_)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,jl.registerVersion)(J2,"3.13.0",n),(0,jl.registerVersion)(J2,"3.13.0","esm2017")}();function dk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function b3(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function w3(){if(!function t7(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class g0{constructor(e){this._delegate=e}static fromBase64String(e){return w3(),new g0(du.fromBase64String(e))}static fromUint8Array(e){return b3(),new g0(du.fromUint8Array(e))}toBase64(){return w3(),this._delegate.toBase64()}toUint8Array(){return b3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hk(n){return function AW(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class MW{enableIndexedDbPersistence(e,t){return function Tq(n,e){XU(n=hn(n,ar));const t=Qr(n);if(t._uninitializedComponentsProvider)throw new Re(fe.FAILED_PRECONDITION,"SDK cache is already specified.");za("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new R_;return QU(t,i,new GR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Aq(n){XU(n=hn(n,ar));const e=Qr(n);if(e._uninitializedComponentsProvider)throw new Re(fe.FAILED_PRECONDITION,"SDK cache is already specified.");za("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new R_;return QU(e,r,new kU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Mq(n){if(n._initialized&&!n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!ql.D())return Promise.resolve();const i=r+"main";yield ql.delete(i)}),function(r){return t.apply(this,arguments)})(L1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class E3{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ff||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&za("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function WU(n,e,t,r={}){var i;const s=(n=hn(n,l0))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==c&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:c,ssl:!1})),r.mockUserToken){let h,_;if("string"==typeof r.mockUserToken)h=r.mockUserToken,_=Bi.MOCK_USER;else{h=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Bi(b)}n._authCredentials=new x9(new eV(h,_))}}(this._delegate,e,t,r)}enableNetwork(){return function kq(n){return function gq(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield NU(n),t=yield FU(n);return e.setNetworkEnabled(!0),function(r){const i=rt(r);return i.vu.delete(0),o0(i)}(t)}))}(Qr(n=hn(n,ar)))}(this._delegate)}disableNetwork(){return function Oq(n){return function _q(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield NU(n),t=yield FU(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(i){const s=rt(i);s.vu.add(0),yield x_(s),s.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Qr(n=hn(n,ar)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,jU("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Rq(n){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function JG(n,e){return AR.apply(this,arguments)}(yield XR(e),t)})),t.promise}(Qr(n=hn(n,ar)))}(this._delegate)}onSnapshotsInSync(e){return function uW(n,e){return function bq(n,e){const t=new hI(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield k_(n),i=t,rt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield k_(n),i=t,void rt(r).ku.delete(i);var r,i}))}}(Qr(n=hn(n,ar)),nk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new N_(this,ZU(this._delegate,e))}catch(t){throw ts(t,"collection()","Firestore.collection()")}}doc(e){try{return new $a(this,_I(this._delegate,e))}catch(t){throw ts(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ns(this,function xq(n,e){if(n=hn(n,l0),ek("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ao(n,null,(t=e,new Dd(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ts(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wW(n,e,t){n=hn(n,ar);const r=Object.assign(Object.assign({},vW),t);return function(i){if(i.maxAttempts<1)throw new Re(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,c){const h=new bi;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const _=yield function LU(n){return pI(n).then(e=>e.datastore)}(i);new pq(i.asyncQueue,_,c,s,h).run()})),h.promise}(Qr(n),i=>e(new bW(n,i)),r)}(this._delegate,t=>e(new C3(this,t)))}batch(){return Qr(this._delegate),new x3(new y3(this._delegate,e=>P_(this._delegate,e)))}loadBundle(e){return function Pq(n,e){const t=Qr(n=hn(n,ar)),r=new Dq;return function wq(n,e,t,r){const i=function(s,c){let h;return h="string"==typeof s?aB().encode(s):s,_=function(_,b){if(_ instanceof Uint8Array)return OU(_,b);if(_ instanceof ArrayBuffer)return OU(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new hq(_,c);var _}(t,r0(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function uq(n,e,t){const r=rt(n);var i;(i=(0,ge.Z)(function*(s,c,h){try{const _=yield c.getMetadata();if(yield function(P,V){const H=rt(P),Q=Yr(V.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",oe=>H.qs.getBundleMetadata(oe,V.id)).then(oe=>!!oe&&oe.createTime.compareTo(Q)>=0)}(s.localStore,_))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(CU(_));const b=new zG(_,s.localStore,c.serializer);let x=yield c.bc();for(;x;){const P=yield b.zu(x);P&&h._updateProgress(P),x=yield c.bc()}const T=yield b.complete();return yield Md(s,T.Ju,void 0),yield function(P,V){const H=rt(P);return H.persistence.runTransaction("Save bundle","readwrite",Q=>H.qs.saveBundleMetadata(Q,V))}(s.localStore,_),h._completeWith(T.progress),Promise.resolve(T.Hu)}catch(_){return za("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var P}),function(s,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield XR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Nq(n,e){return function Eq(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const i=rt(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(yield mI(n),e)}))}(Qr(n=hn(n,ar)),e).then(t=>t?new ao(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ns(this,t):null)}}class TI extends ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new g0(new du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $a.forKey(t,this.firestore,null)}}class C3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}get(e){const t=Em(e);return this._delegate.get(t).then(r=>new _0(this._firestore,new kd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Em(e);return r?(dk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Em(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Em(e);return this._delegate.delete(t),this}}class x3{constructor(e){this._delegate=e}set(e,t,r){const i=Em(e);return r?(dk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Em(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Em(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new m0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new y0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new wm(e,new TI(e),t),i.set(t,s)),s}}wm.INSTANCES=new WeakMap;class $a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $a(t,new sr(t._delegate,r,new et(e)))}static forKey(e,t,r){return new $a(t,new sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new N_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new N_(this.firestore,ZU(this._delegate,e))}catch(t){throw ts(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof sr&&KU(this._delegate,e)}set(e,t){t=dk("DocumentReference.set",t);try{return t?m3(this._delegate,e,t):m3(this._delegate,e)}catch(r){throw ts(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?g3(this._delegate,e):g3(this._delegate,e,t,...r)}catch(i){throw ts(i,"updateDoc()","DocumentReference.update()")}}delete(){return function lW(n){return P_(hn(n.firestore,ar),[new __(n._key,_r.none())])}(this._delegate)}onSnapshot(...e){const t=I3(e),r=D3(e,i=>new _0(this.firestore,new kd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _3(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function rW(n){n=hn(n,sr);const e=hn(n.firestore,ar),t=Qr(e),r=new Df(e);return function yq(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,s,c){try{const h=yield function(_,b){const x=rt(_);return x.persistence.runTransaction("read document","readonly",T=>x.localDocuments.getDocument(T,b))}(i,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Re(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=S_(h,`Failed to get document '${s} from cache`);c.reject(_)}}),function(i,s,c){return r.apply(this,arguments)})(yield mI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new kd(e,r,n._key,i,new bm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function iW(n){n=hn(n,sr);const e=hn(n.firestore,ar);return VU(Qr(e),n._key,{source:"server"}).then(t=>uk(e,n,t))}(this._delegate):function nW(n){n=hn(n,sr);const e=hn(n.firestore,ar);return VU(Qr(e),n._key).then(t=>uk(e,n,t))}(this._delegate),t.then(r=>new _0(this.firestore,new kd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?wm.getInstance(this.firestore,e):null))}}function ts(n,e,t){return n.message=n.message.replace(e,t),n}function I3(n){for(const e of n)if("object"==typeof e&&!hk(e))return e;return{}}function D3(n,e){var t,r;let i;return i=hk(n[0])?n[0]:hk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class _0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return p3(this._delegate,e._delegate)}}class y0 extends _0{data(e){const t=this._delegate.data(e);return function E9(n,e){n||pt()}(void 0!==t),t}}class ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}where(e,t,r){try{return new ns(this.firestore,xf(this._delegate,function Gq(n,e,t){const r=e,i=CI("where",n);return p0._create(i,r,t)}(e,t,r)))}catch(i){throw ts(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ns(this.firestore,xf(this._delegate,function qq(n,e="asc"){const t=e,r=CI("orderBy",n);return lk._create(r,t)}(e,t)))}catch(r){throw ts(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ns(this.firestore,xf(this._delegate,function Wq(n){return GU("limit",n),xI._create("limit",n,"F")}(e)))}catch(t){throw ts(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ns(this.firestore,xf(this._delegate,function Zq(n){return GU("limitToLast",n),xI._create("limitToLast",n,"L")}(e)))}catch(t){throw ts(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ns(this.firestore,xf(this._delegate,function Kq(...n){return II._create("startAt",n,!0)}(...e)))}catch(t){throw ts(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ns(this.firestore,xf(this._delegate,function Yq(...n){return II._create("startAfter",n,!1)}(...e)))}catch(t){throw ts(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ns(this.firestore,xf(this._delegate,function Qq(...n){return DI._create("endBefore",n,!1)}(...e)))}catch(t){throw ts(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ns(this.firestore,xf(this._delegate,function Xq(...n){return DI._create("endAt",n,!0)}(...e)))}catch(t){throw ts(t,"endAt()","Query.endAt()")}}isEqual(e){return tk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function sW(n){n=hn(n,ao);const e=hn(n.firestore,ar),t=Qr(e),r=new Df(e);return function vq(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,s,c){try{const h=yield oI(i,s,!0),_=new DU(s,h.ir),b=_.sc(h.documents),x=_.applyChanges(b,!1);c.resolve(x.snapshot)}catch(h){const _=S_(h,`Failed to execute query '${s} against cache`);c.reject(_)}}),function(i,s,c){return r.apply(this,arguments)})(yield mI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new If(e,r,n,i))}(this._delegate):"server"===e?.source?function aW(n){n=hn(n,ao);const e=hn(n.firestore,ar),t=Qr(e),r=new Df(e);return BU(t,n._query,{source:"server"}).then(i=>new If(e,r,n,i))}(this._delegate):function oW(n){n=hn(n,ao);const e=hn(n.firestore,ar),t=Qr(e),r=new Df(e);return a3(n._query),BU(t,n._query).then(i=>new If(e,r,n,i))}(this._delegate),t.then(r=>new fk(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=I3(e),r=D3(e,i=>new fk(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _3(this._delegate,t,r)}withConverter(e){return new ns(this.firestore,this._delegate.withConverter(e?wm.getInstance(this.firestore,e):null))}}class kW{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new y0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new y0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kW(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new y0(this._firestore,r))})}isEqual(e){return p3(this._delegate,e._delegate)}}class N_ extends ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $a(this.firestore,e):null}doc(e){try{return new $a(this.firestore,void 0===e?_I(this._delegate):_I(this._delegate,e))}catch(t){throw ts(t,"doc()","CollectionReference.doc()")}}add(e){return function cW(n,e){const t=hn(n.firestore,ar),r=_I(n),i=SI(n.converter,e);return P_(t,[bI(ym(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new $a(this.firestore,t))}isEqual(e){return KU(this._delegate,e._delegate)}withConverter(e){return new N_(this.firestore,this._delegate.withConverter(e?wm.getInstance(this.firestore,e):null))}}function Em(n){return hn(n,sr)}class pk{constructor(...e){this._delegate=new Rd(...e)}static documentId(){return new pk(Ur.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Rd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Cm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CW(){return new rk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Cm(e)}static delete(){const e=function EW(){return new u0("deleteField")}();return e._methodName="FieldValue.delete",new Cm(e)}static arrayUnion(...e){const t=function xW(...n){return new Uq("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Cm(t)}static arrayRemove(...e){const t=function IW(...n){return new Hq("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Cm(t)}static increment(e){const t=function DW(n){return new jq("increment",n)}(e);return t._methodName="FieldValue.increment",new Cm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const OW={Firestore:E3,GeoPoint:yI,Timestamp:gr,Blob:g0,Transaction:C3,WriteBatch:x3,DocumentReference:$a,DocumentSnapshot:_0,Query:ns,QueryDocumentSnapshot:y0,QuerySnapshot:fk,CollectionReference:N_,FieldPath:pk,FieldValue:Cm,setLogLevel:function RW(n){!function w9(n){lf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function NW(n){(function PW(n,e){n.INTERNAL.registerComponent(new Zg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},OW)))})(n,(e,t)=>new E3(e,t,new MW)),n.registerVersion("@firebase/firestore-compat","0.3.12")}($N.Z);var AI=L(5363),FW=L(6063);class LW extends Wt.x{constructor(e=1/0,t=1/0,r=FW.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;t||(r.push(e),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!e.closed;c+=r?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=t.now();let h=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)h=_;h&&r.splice(0,h+1)}}}function S3(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,LN.B)({connector:()=>new LW(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function T3(n,e){return(0,Ri.m)(e)?Hn(()=>n,e):Hn(()=>n)}var mk=L(9468);const A3=new u.OlP("angularfire2.auth.use-emulator"),M3=new u.OlP("angularfire2.auth.settings"),R3=new u.OlP("angularfire2.auth.tenant-id"),k3=new u.OlP("angularfire2.auth.langugage-code"),O3=new u.OlP("angularfire2.auth.use-device-language"),P3=new u.OlP("angularfire.auth.persistence"),N3=(n,e,t,r,i,s,c,h)=>(0,Yo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,s&&_.useDeviceLanguage(),c)for(const[b,x]of Object.entries(c))_.settings[b]=x;return h&&_.setPersistence(h),_},[t,r,i,s,c,h]);let gk=(()=>{class n{constructor(t,r,i,s,c,h,_,b,x,T,P,V){const H=new Wt.x,Q=tt(void 0).pipe((0,AI.Q)(c.outsideAngular),Hn(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2644)))),(0,ht.U)(()=>(0,Yo.on)(t,s,r)),(0,ht.U)(oe=>N3(oe,s,h,b,x,T,_,P)),S3({bufferSize:1,refCount:!1}));if(Po(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{Q.pipe(Ki()).subscribe();const ke=Q.pipe(Hn(Qe=>Qe.getRedirectResult().then(Tt=>Tt,()=>null)),mr.iC,S3({bufferSize:1,refCount:!1})),Ze=Q.pipe(Hn(Qe=>new Un.y(Tt=>({unsubscribe:s.runOutsideAngular(()=>Qe.onAuthStateChanged(Pt=>Tt.next(Pt),Pt=>Tt.error(Pt),()=>Tt.complete()))})))),$e=Q.pipe(Hn(Qe=>new Un.y(Tt=>({unsubscribe:s.runOutsideAngular(()=>Qe.onIdTokenChanged(Pt=>Tt.next(Pt),Pt=>Tt.error(Pt),()=>Tt.complete()))}))));this.authState=ke.pipe(T3(Ze),(0,mk.R)(c.outsideAngular),(0,AI.Q)(c.insideAngular)),this.user=ke.pipe(T3($e),(0,mk.R)(c.outsideAngular),(0,AI.Q)(c.insideAngular)),this.idToken=this.user.pipe(Hn(Qe=>Qe?(0,sn.D)(Qe.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(Hn(Qe=>Qe?(0,sn.D)(Qe.getIdTokenResult()):tt(null))),this.credential=(0,GT.T)(ke,H,this.authState.pipe(xr(Qe=>!Qe))).pipe((0,ht.U)(Qe=>Qe?.user?Qe:null),(0,mk.R)(c.outsideAngular),(0,AI.Q)(c.insideAngular))}return(0,Yo.pX)(this,Q,s,{spy:{apply:(oe,ke,Ze)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&Ze.then($e=>H.next($e))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yo.Dh),u.LFG(Yo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(mr.HU),u.LFG(A3,8),u.LFG(M3,8),u.LFG(R3,8),u.LFG(k3,8),u.LFG(O3,8),u.LFG(P3,8),u.LFG(VC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BW=(()=>{class n{constructor(){PA.Z.registerVersion("angularfire",mr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gk]}),n})();function F3(n,e){return function UW(n,e=Hg.z){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function _k(n,e){return F3(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function MI(n,e){return _k(n,e).pipe($o(void 0),aM(),(0,ht.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const _=i.find(x=>x.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(x=>x.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function L3(n,e,t){return MI(n,t).pipe(Ac((r,i)=>function jW(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function zW(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),mv(),(0,ht.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function yk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function V3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class B3{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=MI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe($o(void 0),aM(),xr(([r,i])=>i.length>0||!r),(0,ht.U)(([r,i])=>i),mr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ac((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=V3(e);return L3(this.query,t,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(e={}){return _k(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),mr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(mr.iC)}add(e){return this.ref.add(e)}doc(e){return new U3(this.ref.doc(e),this.afs)}}class U3{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=z3(r,t);return new B3(i,s,this.afs)}snapshotChanges(){return function HW(n,e){return F3(n,e).pipe($o(void 0),aM(),(0,ht.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(mr.iC)}}class $W{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?MI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xr(t=>t.length>0),mr.iC):MI(this.query,this.afs.schedulers.outsideAngular).pipe(mr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ac((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=V3(e);return L3(this.query,t,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(e={}){return _k(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),mr.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(mr.iC)}}const H3=new u.OlP("angularfire2.enableFirestorePersistence"),j3=new u.OlP("angularfire2.firestore.persistenceSettings"),GW=new u.OlP("angularfire2.firestore.settings"),qW=new u.OlP("angularfire2.firestore.use-emulator");function z3(n,e=(t=>t)){return{query:e(n),ref:n}}let WW=(()=>{class n{constructor(t,r,i,s,c,h,_,b,x,T,P,V,H,Q,oe,ke,Ze){this.schedulers=_;const $e=(0,Yo.on)(t,h,r),Qe=x;T&&N3($e,h,P,H,Q,oe,V,ke),[this.firestore,this.persistenceEnabled$]=(0,Yo.cc)(`${$e.name}.firestore`,"AngularFirestore",$e.name,()=>{const Tt=h.runOutsideAngular(()=>$e.firestore());if(s&&Tt.settings(s),Qe&&Tt.useEmulator(...Qe),i&&!Po(c)){const Pt=()=>{try{return(0,sn.D)(Tt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(fn){return typeof console<"u"&&console.warn(fn),tt(!1)}};return[Tt,h.runOutsideAngular(Pt)]}return[Tt,tt(!1)]},[s,Qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=z3(i,r),h=this.schedulers.ngZone.run(()=>s);return new B3(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),s=this.firestore.collectionGroup(t);return new $W(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new U3(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yo.Dh),u.LFG(Yo.xv,8),u.LFG(H3,8),u.LFG(GW,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(mr.HU),u.LFG(j3,8),u.LFG(qW,8),u.LFG(gk,8),u.LFG(A3,8),u.LFG(M3,8),u.LFG(R3,8),u.LFG(k3,8),u.LFG(O3,8),u.LFG(P3,8),u.LFG(VC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZW=(()=>{class n{constructor(){PA.Z.registerVersion("angularfire",mr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:H3,useValue:!0},{provide:j3,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[WW]}),n})(),KW=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[pz]}),n.\u0275inj=u.cJS({imports:[Us,fz,f$,Pa,QT,B6,AT,Q6,Zk,bN,Yo.hO.initializeApp(Ig_firebaseConfig),ez,ZW,BW,iv]}),e})();Mu().bootstrapModule(KW).catch(n=>console.error(n))},9751:(Et,Te,L)=>{L.d(Te,{y:()=>xe});var u=L(930),te=L(727),F=L(8822),ce=L(9635),ue=L(2416),J=L(576),Ee=L(2806);let xe=(()=>{class Y{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Xe=new Y;return Xe.source=this,Xe.operator=Ae,Xe}subscribe(Ae,Xe,ut){const ve=function $(Y){return Y&&Y instanceof u.Lv||function G(Y){return Y&&(0,J.m)(Y.next)&&(0,J.m)(Y.error)&&(0,J.m)(Y.complete)}(Y)&&(0,te.Nn)(Y)}(Ae)?Ae:new u.Hp(Ae,Xe,ut);return(0,Ee.x)(()=>{const{operator:Ne,source:Fe}=this;ve.add(Ne?Ne.call(ve,Fe):Fe?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Xe){Ae.error(Xe)}}forEach(Ae,Xe){return new(Xe=ye(Xe))((ut,ve)=>{const Ne=new u.Hp({next:Fe=>{try{Ae(Fe)}catch(ze){ve(ze),Ne.unsubscribe()}},error:ve,complete:ut});this.subscribe(Ne)})}_subscribe(Ae){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Ae)}[F.L](){return this}pipe(...Ae){return(0,ce.U)(Ae)(this)}toPromise(Ae){return new(Ae=ye(Ae))((Xe,ut)=>{let ve;this.subscribe(Ne=>ve=Ne,Ne=>ut(Ne),()=>Xe(ve))})}}return Y.create=Ge=>new Y(Ge),Y})();function ye(Y){var Ge;return null!==(Ge=Y??ue.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(Et,Te,L)=>{L.d(Te,{x:()=>Ee});var u=L(9751),te=L(727);const ce=(0,L(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=L(8737),J=L(2806);let Ee=(()=>{class ye extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new xe(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new ce}next($){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:Ge,observers:Ae}=this;return Y||Ge?te.Lc:(this.currentObservers=null,Ae.push($),new te.w0(()=>{this.currentObservers=null,(0,ue.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:Ge,isStopped:Ae}=this;Y?$.error(Ge):Ae&&$.complete()}asObservable(){const $=new u.y;return $.source=this,$}}return ye.create=(G,$)=>new xe(G,$),ye})();class xe extends Ee{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,G)}error(G){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==Y?Y:te.Lc}}},930:(Et,Te,L)=>{L.d(Te,{Hp:()=>ut,Lv:()=>Y});var u=L(576),te=L(727),F=L(2416),ce=L(7849),ue=L(5032);const J=ye("C",void 0,void 0);function ye(Le,Ie,De){return{kind:Le,value:Ie,error:De}}var G=L(3410),$=L(2806);class Y extends te.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,te.Nn)(Ie)&&Ie.add(this)):this.destination=ze}static create(Ie,De,Ke){return new ut(Ie,De,Ke)}next(Ie){this.isStopped?Fe(function xe(Le){return ye("N",Le,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Fe(function Ee(Le){return ye("E",void 0,Le)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Fe(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ae(Le,Ie){return Ge.call(Le,Ie)}class Xe{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:De}=this;if(De.next)try{De.next(Ie)}catch(Ke){ve(Ke)}}error(Ie){const{partialObserver:De}=this;if(De.error)try{De.error(Ie)}catch(Ke){ve(Ke)}else ve(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(De){ve(De)}}}class ut extends Y{constructor(Ie,De,Ke){let Be;if(super(),(0,u.m)(Ie)||!Ie)Be={next:Ie??void 0,error:De??void 0,complete:Ke??void 0};else{let lt;this&&F.v.useDeprecatedNextContext?(lt=Object.create(Ie),lt.unsubscribe=()=>this.unsubscribe(),Be={next:Ie.next&&Ae(Ie.next,lt),error:Ie.error&&Ae(Ie.error,lt),complete:Ie.complete&&Ae(Ie.complete,lt)}):Be=Ie}this.destination=new Xe(Be)}}function ve(Le){F.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Le):(0,ce.h)(Le)}function Fe(Le,Ie){const{onStoppedNotification:De}=F.v;De&&G.z.setTimeout(()=>De(Le,Ie))}const ze={closed:!0,next:ue.Z,error:function Ne(Le){throw Le},complete:ue.Z}},727:(Et,Te,L)=>{L.d(Te,{Lc:()=>J,w0:()=>ue,Nn:()=>Ee});var u=L(576);const F=(0,L(3888).d)(ye=>function($){ye(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,Ge)=>`${Ge+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ce=L(8737);class ue{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(Ae){G=Ae instanceof F?Ae.errors:[Ae]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ae of Ge)try{xe(Ae)}catch(Xe){G=G??[],Xe instanceof F?G=[...G,...Xe.errors]:G.push(Xe)}}if(G)throw new F(G)}}add(G){var $;if(G&&G!==this)if(this.closed)xe(G);else{if(G instanceof ue){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,ce.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,ce.P)($,G),G instanceof ue&&G._removeParent(this)}}ue.EMPTY=(()=>{const ye=new ue;return ye.closed=!0,ye})();const J=ue.EMPTY;function Ee(ye){return ye instanceof ue||ye&&"closed"in ye&&(0,u.m)(ye.remove)&&(0,u.m)(ye.add)&&(0,u.m)(ye.unsubscribe)}function xe(ye){(0,u.m)(ye)?ye():ye.unsubscribe()}},2416:(Et,Te,L)=>{L.d(Te,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Te,L)=>{L.d(Te,{E:()=>te});const te=new(L(9751).y)(ue=>ue.complete())},8996:(Et,Te,L)=>{L.d(Te,{D:()=>Ie});var u=L(8421),te=L(5363),F=L(9468),J=L(9751),xe=L(2202),ye=L(576),G=L(9672);function Y(De,Ke){if(!De)throw new Error("Iterable cannot be null");return new J.y(Be=>{(0,G.f)(Be,Ke,()=>{const lt=De[Symbol.asyncIterator]();(0,G.f)(Be,Ke,()=>{lt.next().then(le=>{le.done?Be.complete():Be.next(le.value)})},0,!0)})})}var Ge=L(3670),Ae=L(8239),Xe=L(1144),ut=L(6495),ve=L(2206),Ne=L(4532),Fe=L(3260);function Ie(De,Ke){return Ke?function Le(De,Ke){if(null!=De){if((0,Ge.c)(De))return function ce(De,Ke){return(0,u.Xf)(De).pipe((0,F.R)(Ke),(0,te.Q)(Ke))}(De,Ke);if((0,Xe.z)(De))return function Ee(De,Ke){return new J.y(Be=>{let lt=0;return Ke.schedule(function(){lt===De.length?Be.complete():(Be.next(De[lt++]),Be.closed||this.schedule())})})}(De,Ke);if((0,Ae.t)(De))return function ue(De,Ke){return(0,u.Xf)(De).pipe((0,F.R)(Ke),(0,te.Q)(Ke))}(De,Ke);if((0,ve.D)(De))return Y(De,Ke);if((0,ut.T)(De))return function $(De,Ke){return new J.y(Be=>{let lt;return(0,G.f)(Be,Ke,()=>{lt=De[xe.h](),(0,G.f)(Be,Ke,()=>{let le,At;try{({value:le,done:At}=lt.next())}catch(it){return void Be.error(it)}At?Be.complete():Be.next(le)},0,!0)}),()=>(0,ye.m)(lt?.return)&&lt.return()})}(De,Ke);if((0,Fe.L)(De))return function ze(De,Ke){return Y((0,Fe.Q)(De),Ke)}(De,Ke)}throw(0,Ne.z)(De)}(De,Ke):(0,u.Xf)(De)}},8421:(Et,Te,L)=>{L.d(Te,{Xf:()=>Ge});var u=L(7582),te=L(1144),F=L(8239),ce=L(9751),ue=L(3670),J=L(2206),Ee=L(4532),xe=L(6495),ye=L(3260),G=L(576),$=L(7849),Y=L(8822);function Ge(Le){if(Le instanceof ce.y)return Le;if(null!=Le){if((0,ue.c)(Le))return function Ae(Le){return new ce.y(Ie=>{const De=Le[Y.L]();if((0,G.m)(De.subscribe))return De.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,te.z)(Le))return function Xe(Le){return new ce.y(Ie=>{for(let De=0;De<Le.length&&!Ie.closed;De++)Ie.next(Le[De]);Ie.complete()})}(Le);if((0,F.t)(Le))return function ut(Le){return new ce.y(Ie=>{Le.then(De=>{Ie.closed||(Ie.next(De),Ie.complete())},De=>Ie.error(De)).then(null,$.h)})}(Le);if((0,J.D)(Le))return Ne(Le);if((0,xe.T)(Le))return function ve(Le){return new ce.y(Ie=>{for(const De of Le)if(Ie.next(De),Ie.closed)return;Ie.complete()})}(Le);if((0,ye.L)(Le))return function Fe(Le){return Ne((0,ye.Q)(Le))}(Le)}throw(0,Ee.z)(Le)}function Ne(Le){return new ce.y(Ie=>{(function ze(Le,Ie){var De,Ke,Be,lt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(De=(0,u.KL)(Le);!(Ke=yield De.next()).done;)if(Ie.next(Ke.value),Ie.closed)return}catch(le){Be={error:le}}finally{try{Ke&&!Ke.done&&(lt=De.return)&&(yield lt.call(De))}finally{if(Be)throw Be.error}}Ie.complete()})})(Le,Ie).catch(De=>Ie.error(De))})}},6451:(Et,Te,L)=>{L.d(Te,{T:()=>J});var u=L(8189),te=L(8421),F=L(515),ce=L(3269),ue=L(8996);function J(...Ee){const xe=(0,ce.yG)(Ee),ye=(0,ce._6)(Ee,1/0),G=Ee;return G.length?1===G.length?(0,te.Xf)(G[0]):(0,u.J)(ye)((0,ue.D)(G,xe)):F.E}},5403:(Et,Te,L)=>{L.d(Te,{x:()=>te});var u=L(930);function te(ce,ue,J,Ee,xe){return new F(ce,ue,J,Ee,xe)}class F extends u.Lv{constructor(ue,J,Ee,xe,ye,G){super(ue),this.onFinalize=ye,this.shouldUnsubscribe=G,this._next=J?function($){try{J($)}catch(Y){ue.error(Y)}}:super._next,this._error=xe?function($){try{xe($)}catch(Y){ue.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch($){ue.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(Et,Te,L)=>{L.d(Te,{U:()=>F});var u=L(4482),te=L(5403);function F(ce,ue){return(0,u.e)((J,Ee)=>{let xe=0;J.subscribe((0,te.x)(Ee,ye=>{Ee.next(ce.call(ue,ye,xe++))}))})}},8189:(Et,Te,L)=>{L.d(Te,{J:()=>F});var u=L(5577),te=L(4671);function F(ce=1/0){return(0,u.z)(te.y,ce)}},5577:(Et,Te,L)=>{L.d(Te,{z:()=>xe});var u=L(4004),te=L(8421),F=L(4482),ce=L(9672),ue=L(5403),Ee=L(576);function xe(ye,G,$=1/0){return(0,Ee.m)(G)?xe((Y,Ge)=>(0,u.U)((Ae,Xe)=>G(Y,Ae,Ge,Xe))((0,te.Xf)(ye(Y,Ge))),$):("number"==typeof G&&($=G),(0,F.e)((Y,Ge)=>function J(ye,G,$,Y,Ge,Ae,Xe,ut){const ve=[];let Ne=0,Fe=0,ze=!1;const Le=()=>{ze&&!ve.length&&!Ne&&G.complete()},Ie=Ke=>Ne<Y?De(Ke):ve.push(Ke),De=Ke=>{Ae&&G.next(Ke),Ne++;let Be=!1;(0,te.Xf)($(Ke,Fe++)).subscribe((0,ue.x)(G,lt=>{Ge?.(lt),Ae?Ie(lt):G.next(lt)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Ne--;ve.length&&Ne<Y;){const lt=ve.shift();Xe?(0,ce.f)(G,Xe,()=>De(lt)):De(lt)}Le()}catch(lt){G.error(lt)}}))};return ye.subscribe((0,ue.x)(G,Ie,()=>{ze=!0,Le()})),()=>{ut?.()}}(Y,Ge,ye,$)))}},5363:(Et,Te,L)=>{L.d(Te,{Q:()=>ce});var u=L(9672),te=L(4482),F=L(5403);function ce(ue,J=0){return(0,te.e)((Ee,xe)=>{Ee.subscribe((0,F.x)(xe,ye=>(0,u.f)(xe,ue,()=>xe.next(ye),J),()=>(0,u.f)(xe,ue,()=>xe.complete(),J),ye=>(0,u.f)(xe,ue,()=>xe.error(ye),J)))})}},3099:(Et,Te,L)=>{L.d(Te,{B:()=>ue});var u=L(8421),te=L(7579),F=L(930),ce=L(4482);function ue(Ee={}){const{connector:xe=(()=>new te.x),resetOnError:ye=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=Ee;return Y=>{let Ge,Ae,Xe,ut=0,ve=!1,Ne=!1;const Fe=()=>{Ae?.unsubscribe(),Ae=void 0},ze=()=>{Fe(),Ge=Xe=void 0,ve=Ne=!1},Le=()=>{const Ie=Ge;ze(),Ie?.unsubscribe()};return(0,ce.e)((Ie,De)=>{ut++,!Ne&&!ve&&Fe();const Ke=Xe=Xe??xe();De.add(()=>{ut--,0===ut&&!Ne&&!ve&&(Ae=J(Le,$))}),Ke.subscribe(De),!Ge&&ut>0&&(Ge=new F.Hp({next:Be=>Ke.next(Be),error:Be=>{Ne=!0,Fe(),Ae=J(ze,ye,Be),Ke.error(Be)},complete:()=>{ve=!0,Fe(),Ae=J(ze,G),Ke.complete()}}),(0,u.Xf)(Ie).subscribe(Ge))})(Y)}}function J(Ee,xe,...ye){if(!0===xe)return void Ee();if(!1===xe)return;const G=new F.Hp({next:()=>{G.unsubscribe(),Ee()}});return(0,u.Xf)(xe(...ye)).subscribe(G)}},9468:(Et,Te,L)=>{L.d(Te,{R:()=>te});var u=L(4482);function te(F,ce=0){return(0,u.e)((ue,J)=>{J.add(F.schedule(()=>ue.subscribe(J),ce))})}},8505:(Et,Te,L)=>{L.d(Te,{b:()=>ue});var u=L(576),te=L(4482),F=L(5403),ce=L(4671);function ue(J,Ee,xe){const ye=(0,u.m)(J)||Ee||xe?{next:J,error:Ee,complete:xe}:J;return ye?(0,te.e)((G,$)=>{var Y;null===(Y=ye.subscribe)||void 0===Y||Y.call(ye);let Ge=!0;G.subscribe((0,F.x)($,Ae=>{var Xe;null===(Xe=ye.next)||void 0===Xe||Xe.call(ye,Ae),$.next(Ae)},()=>{var Ae;Ge=!1,null===(Ae=ye.complete)||void 0===Ae||Ae.call(ye),$.complete()},Ae=>{var Xe;Ge=!1,null===(Xe=ye.error)||void 0===Xe||Xe.call(ye,Ae),$.error(Ae)},()=>{var Ae,Xe;Ge&&(null===(Ae=ye.unsubscribe)||void 0===Ae||Ae.call(ye)),null===(Xe=ye.finalize)||void 0===Xe||Xe.call(ye)}))}):ce.y}},4408:(Et,Te,L)=>{L.d(Te,{o:()=>ue});var u=L(727);class te extends u.w0{constructor(Ee,xe){super()}schedule(Ee,xe=0){return this}}const F={setInterval(J,Ee,...xe){const{delegate:ye}=F;return ye?.setInterval?ye.setInterval(J,Ee,...xe):setInterval(J,Ee,...xe)},clearInterval(J){const{delegate:Ee}=F;return(Ee?.clearInterval||clearInterval)(J)},delegate:void 0};var ce=L(8737);class ue extends te{constructor(Ee,xe){super(Ee,xe),this.scheduler=Ee,this.work=xe,this.pending=!1}schedule(Ee,xe=0){var ye;if(this.closed)return this;this.state=Ee;const G=this.id,$=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId($,G,xe)),this.pending=!0,this.delay=xe,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId($,this.id,xe),this}requestAsyncId(Ee,xe,ye=0){return F.setInterval(Ee.flush.bind(Ee,this),ye)}recycleAsyncId(Ee,xe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return xe;null!=xe&&F.clearInterval(xe)}execute(Ee,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(Ee,xe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,xe){let G,ye=!1;try{this.work(Ee)}catch($){ye=!0,G=$||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:xe}=this,{actions:ye}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(ye,this),null!=Ee&&(this.id=this.recycleAsyncId(xe,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(Et,Te,L)=>{L.d(Te,{v:()=>F});var u=L(6063);class te{constructor(ue,J=te.now){this.schedulerActionCtor=ue,this.now=J}schedule(ue,J=0,Ee){return new this.schedulerActionCtor(this,ue).schedule(Ee,J)}}te.now=u.l.now;class F extends te{constructor(ue,J=te.now){super(ue,J),this.actions=[],this._active=!1}flush(ue){const{actions:J}=this;if(this._active)return void J.push(ue);let Ee;this._active=!0;do{if(Ee=ue.execute(ue.state,ue.delay))break}while(ue=J.shift());if(this._active=!1,Ee){for(;ue=J.shift();)ue.unsubscribe();throw Ee}}}},4986:(Et,Te,L)=>{L.d(Te,{P:()=>ce,z:()=>F});var u=L(4408);const F=new(L(7565).v)(u.o),ce=F},6063:(Et,Te,L)=>{L.d(Te,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Et,Te,L)=>{L.d(Te,{z:()=>u});const u={setTimeout(te,F,...ce){const{delegate:ue}=u;return ue?.setTimeout?ue.setTimeout(te,F,...ce):setTimeout(te,F,...ce)},clearTimeout(te){const{delegate:F}=u;return(F?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(Et,Te,L)=>{L.d(Te,{h:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Te,L)=>{L.d(Te,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Et,Te,L)=>{L.d(Te,{_6:()=>J,jO:()=>ce,yG:()=>ue});var u=L(576),te=L(3532);function F(Ee){return Ee[Ee.length-1]}function ce(Ee){return(0,u.m)(F(Ee))?Ee.pop():void 0}function ue(Ee){return(0,te.K)(F(Ee))?Ee.pop():void 0}function J(Ee,xe){return"number"==typeof F(Ee)?Ee.pop():xe}},8737:(Et,Te,L)=>{function u(te,F){if(te){const ce=te.indexOf(F);0<=ce&&te.splice(ce,1)}}L.d(Te,{P:()=>u})},3888:(Et,Te,L)=>{function u(te){const ce=te(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}L.d(Te,{d:()=>u})},2806:(Et,Te,L)=>{L.d(Te,{O:()=>ce,x:()=>F});var u=L(2416);let te=null;function F(ue){if(u.v.useDeprecatedSynchronousErrorHandling){const J=!te;if(J&&(te={errorThrown:!1,error:null}),ue(),J){const{errorThrown:Ee,error:xe}=te;if(te=null,Ee)throw xe}}else ue()}function ce(ue){u.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ue)}},9672:(Et,Te,L)=>{function u(te,F,ce,ue=0,J=!1){const Ee=F.schedule(function(){ce(),J?te.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(te.add(Ee),!J)return Ee}L.d(Te,{f:()=>u})},4671:(Et,Te,L)=>{function u(te){return te}L.d(Te,{y:()=>u})},1144:(Et,Te,L)=>{L.d(Te,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Et,Te,L)=>{L.d(Te,{D:()=>te});var u=L(576);function te(F){return Symbol.asyncIterator&&(0,u.m)(F?.[Symbol.asyncIterator])}},576:(Et,Te,L)=>{function u(te){return"function"==typeof te}L.d(Te,{m:()=>u})},3670:(Et,Te,L)=>{L.d(Te,{c:()=>F});var u=L(8822),te=L(576);function F(ce){return(0,te.m)(ce[u.L])}},6495:(Et,Te,L)=>{L.d(Te,{T:()=>F});var u=L(2202),te=L(576);function F(ce){return(0,te.m)(ce?.[u.h])}},8239:(Et,Te,L)=>{L.d(Te,{t:()=>te});var u=L(576);function te(F){return(0,u.m)(F?.then)}},3260:(Et,Te,L)=>{L.d(Te,{L:()=>ce,Q:()=>F});var u=L(7582),te=L(576);function F(ue){return(0,u.FC)(this,arguments,function*(){const Ee=ue.getReader();try{for(;;){const{value:xe,done:ye}=yield(0,u.qq)(Ee.read());if(ye)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(xe)}}finally{Ee.releaseLock()}})}function ce(ue){return(0,te.m)(ue?.getReader)}},3532:(Et,Te,L)=>{L.d(Te,{K:()=>te});var u=L(576);function te(F){return F&&(0,u.m)(F.schedule)}},4482:(Et,Te,L)=>{L.d(Te,{A:()=>te,e:()=>F});var u=L(576);function te(ce){return(0,u.m)(ce?.lift)}function F(ce){return ue=>{if(te(ue))return ue.lift(function(J){try{return ce(J,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Et,Te,L)=>{function u(){}L.d(Te,{Z:()=>u})},9635:(Et,Te,L)=>{L.d(Te,{U:()=>F,z:()=>te});var u=L(4671);function te(...ce){return F(ce)}function F(ce){return 0===ce.length?u.y:1===ce.length?ce[0]:function(J){return ce.reduce((Ee,xe)=>xe(Ee),J)}}},7849:(Et,Te,L)=>{L.d(Te,{h:()=>F});var u=L(2416),te=L(3410);function F(ce){te.z.setTimeout(()=>{const{onUnhandledError:ue}=u.v;if(!ue)throw ce;ue(ce)})}},4532:(Et,Te,L)=>{function u(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Te,{z:()=>u})},4650:(Et,Te,L)=>{L.d(Te,{$8M:()=>xa,$WT:()=>br,$Z:()=>K0,AFp:()=>dT,AaK:()=>xe,CHM:()=>nl,CRH:()=>PE,CZH:()=>Rv,CqO:()=>Ky,D6c:()=>mC,EJc:()=>MP,EiD:()=>Zo,EpF:()=>Zy,F$t:()=>jh,F4k:()=>Tw,FYo:()=>uy,FiY:()=>vl,Gf:()=>kE,GfV:()=>A0,Gpc:()=>$,Hsn:()=>Mw,Ikx:()=>sE,JOm:()=>It,JVY:()=>jm,JZr:()=>ut,KtG:()=>rl,L6k:()=>zm,LAX:()=>Dr,LFG:()=>un,LSH:()=>td,Lbi:()=>SP,Lck:()=>BO,MAs:()=>qy,MMx:()=>yE,MR2:()=>kI,NdJ:()=>Yy,O4$:()=>ll,OlP:()=>nn,Oqu:()=>$h,P3R:()=>wh,PXZ:()=>jP,Q6J:()=>Mp,QGY:()=>kp,QbO:()=>pT,Qsj:()=>UI,R0b:()=>ia,RDi:()=>Um,Rgc:()=>Hp,SBq:()=>Sh,Sil:()=>gT,Suo:()=>OE,TTD:()=>yu,TgZ:()=>Rp,Udp:()=>Uw,VKq:()=>NS,W1O:()=>qS,WFA:()=>Bl,X6Q:()=>GP,XFs:()=>bt,Xpm:()=>Gi,Xts:()=>ey,Y36:()=>kh,YKP:()=>DS,YNc:()=>Gy,Yjl:()=>qt,Yz7:()=>gt,Z0I:()=>Sn,ZZ4:()=>fC,_Bn:()=>IS,_UZ:()=>Iw,_Vd:()=>Dh,_c5:()=>UT,_uU:()=>Mg,aQg:()=>$v,c2e:()=>TP,cJS:()=>vt,cg1:()=>aE,d8E:()=>kg,dDg:()=>BP,dqk:()=>an,eBb:()=>$m,eFA:()=>tC,eJc:()=>zg,ekj:()=>iv,eoX:()=>KE,f3M:()=>Vn,g9A:()=>fT,h0i:()=>Up,hGG:()=>HT,hij:()=>Pp,iGM:()=>RE,ifc:()=>we,ip1:()=>uT,jDz:()=>TS,kL8:()=>tS,kcU:()=>us,lG2:()=>St,lqb:()=>id,lri:()=>wT,mCW:()=>Ml,n5z:()=>vc,oAB:()=>ie,oJD:()=>cp,oxw:()=>Qy,pB0:()=>_h,q3G:()=>kn,q4F:()=>M0,qLn:()=>fp,qOj:()=>fg,qZA:()=>_g,qzn:()=>yi,rWj:()=>ET,sBO:()=>oC,s_b:()=>yv,soG:()=>Kc,tBr:()=>Da,tb:()=>CT,tp0:()=>ht,uIk:()=>Cw,vHH:()=>ve,vpe:()=>to,wAp:()=>Rt,xp6:()=>H0,z2F:()=>Fv,z3N:()=>Nr,zSh:()=>Uc,zs3:()=>Ah});var u=L(7579),te=L(727),F=L(9751),ce=L(6451),ue=L(3099);function J(o){for(let a in o)if(o[a]===J)return a;throw Error("Could not find renamed property on target object.")}function Ee(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function xe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(xe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ye(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const G=J({__forward_ref__:J});function $(o){return o.__forward_ref__=$,o.toString=function(){return xe(this())},o}function Y(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===$}function Ae(o){return o&&!!o.\u0275providers}const ut="https://g.co/ng/security#xss";class ve extends Error{constructor(a,l){super(Ne(a,l)),this.code=a}}function Ne(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}function Fe(o){return"string"==typeof o?o:null==o?"":String(o)}function Ke(o,a){throw new ve(-201,!1)}function be(o,a){null==o&&function de(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function gt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function vt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Jt(o){return En(o,Ln)||En(o,ci)}function Sn(o){return null!==Jt(o)}function En(o,a){return o.hasOwnProperty(a)?o[a]:null}function yr(o){return o&&(o.hasOwnProperty(Xr)||o.hasOwnProperty(jr))?o[Xr]:null}const Ln=J({\u0275prov:J}),Xr=J({\u0275inj:J}),ci=J({ngInjectableDef:J}),jr=J({ngInjectorDef:J});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let ui;function kr(o){const a=ui;return ui=o,a}function Jr(o,a,l){const d=Jt(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&bt.Optional?null:void 0!==a?a:void Ke(xe(o))}const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ei={},di="__NG_DI_FLAG__",vr="ngTempTokenPath",ei="ngTokenPath",Nn=/\n/gm,hi="\u0275",yn="__source";let is;function tn(o){const a=is;return is=o,a}function uo(o,a=bt.Default){if(void 0===is)throw new ve(-203,!1);return null===is?Jr(o,void 0,a):is.get(o,a&bt.Optional?null:void 0,a)}function un(o,a=bt.Default){return(function fu(){return ui}()||uo)(Y(o),a)}function Vn(o,a=bt.Default){return un(o,Xn(a))}function Xn(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function zi(o){const a=[];for(let l=0;l<o.length;l++){const d=Y(o[l]);if(Array.isArray(d)){if(0===d.length)throw new ve(900,!1);let f,g=bt.Default;for(let v=0;v<d.length;v++){const C=d[v],D=$i(C);"number"==typeof D?-1===D?f=C.token:g|=D:f=C}a.push(un(f,g))}else a.push(un(d))}return a}function In(o,a){return o[di]=a,o.prototype[di]=a,o}function $i(o){return o[di]}function U(o){return{toString:o}.toString()}var K=(()=>((K=K||{})[K.OnPush=0]="OnPush",K[K.Default=1]="Default",K))(),we=(()=>{return(o=we||(we={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",we;var o})();const ne={},Ue=[],Mt=J({\u0275cmp:J}),rn=J({\u0275dir:J}),Gn=J({\u0275pipe:J}),Tn=J({\u0275mod:J}),pn=J({\u0275fac:J}),Qt=J({__NG_ELEMENT_ID__:J});let zr=0;function Gi(o){return U(()=>{const a=Wl(o),l={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||we.Emulated,id:"c"+zr++,styles:o.styles||Ue,_:null,schemas:o.schemas||null,tView:null};Af(l);const d=o.dependencies;return l.directiveDefs=Is(d,!1),l.pipeDefs=Is(d,!0),l})}function qa(o){return wt(o)||ln(o)}function me(o){return null!==o}function ie(o){return U(()=>({type:o.type,bootstrap:o.bootstrap||Ue,declarations:o.declarations||Ue,imports:o.imports||Ue,exports:o.exports||Ue,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function yt(o,a){if(null==o)return ne;const l={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=d,a&&(a[f]=g)}return l}function St(o){return U(()=>{const a=Wl(o);return Af(a),a})}function qt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function wt(o){return o[Mt]||null}function ln(o){return o[rn]||null}function on(o){return o[Gn]||null}function br(o){const a=wt(o)||ln(o)||on(o);return null!==a&&a.standalone}function Jn(o,a){const l=o[Tn]||null;if(!l&&!0===a)throw new Error(`Type ${xe(o)} does not have '\u0275mod' property.`);return l}function Wl(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ue,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yt(o.inputs,a),outputs:yt(o.outputs)}}function Af(o){o.features?.forEach(a=>a(o))}function Is(o,a){if(!o)return null;const l=a?on:qa;return()=>("function"==typeof o?o():o).map(d=>l(d)).filter(me)}const xi=0,Je=1,Ht=2,Dn=3,Ii=4,mn=5,er=6,Ro=7,Bn=8,Wa=9,Or=10,Gt=11,Za=12,Ds=13,fo=14,os=15,qn=16,ha=17,ko=18,qi=19,fi=20,lr=21,Cn=22,Ka=1,pu=2,fa=7,ss=8,Ss=9,wr=10;function mi(o){return Array.isArray(o)&&"object"==typeof o[Ka]}function gi(o){return Array.isArray(o)&&!0===o[Ka]}function Ya(o){return 0!=(4&o.flags)}function pa(o){return o.componentOffset>-1}function mu(o){return 1==(1&o.flags)}function Di(o){return!!o.template}function Kl(o){return 0!=(256&o[Ht])}function po(o,a){return o.hasOwnProperty(pn)?o[pn]:null}class Ts{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function yu(){return Qa}function Qa(o){return o.type.prototype.ngOnChanges&&(o.setInput=vu),Vd}function Vd(){const o=kf(this),a=o?.current;if(a){const l=o.previous;if(l===ne)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function vu(o,a,l,d){const f=this.declaredInputs[l],g=kf(o)||function Xa(o,a){return o[as]=a}(o,{previous:ne,current:null}),v=g.current||(g.current={}),C=g.previous,D=C[f];v[f]=new Ts(D&&D.currentValue,a,C===ne),o[d]=a}yu.ngInherit=!0;const as="__ngSimpleChanges__";function kf(o){return o[as]||null}const ri=function(o,a,l){},$r="svg";function Er(o){for(;Array.isArray(o);)o=o[xi];return o}function No(o,a){return Er(a[o])}function Cr(o,a){return Er(a[o.index])}function Ud(o,a){return o.data[a]}function cr(o,a){const l=a[o];return mi(l)?l:l[xi]}function Fo(o){return 64==(64&o[Ht])}function cs(o,a){return null==a?null:o[a]}function _a(o){o[ko]=0}function el(o,a){o[mn]+=a;let l=o,d=o[Dn];for(;null!==d&&(1===a&&1===l[mn]||-1===a&&0===l[mn]);)d[mn]+=a,l=d,d=d[Dn]}const Lt={lFrame:Eu(null),bindingsEnabled:!0};function tc(){return Lt.bindingsEnabled}function _e(){return Lt.lFrame.lView}function jt(){return Lt.lFrame.tView}function nl(o){return Lt.lFrame.contextLView=o,o[Bn]}function rl(o){return Lt.lFrame.contextLView=null,o}function ur(){let o=As();for(;null!==o&&64===o.type;)o=o.parent;return o}function As(){return Lt.lFrame.currentTNode}function ii(o,a){const l=Lt.lFrame;l.currentTNode=o,l.isParent=a}function Gd(){return Lt.lFrame.isParent}function rc(){Lt.lFrame.isParent=!1}function Ms(){return Lt.lFrame.bindingIndex++}function ic(o,a){const l=Lt.lFrame;l.bindingIndex=l.bindingRootIndex=o,nr(a)}function nr(o){Lt.lFrame.currentDirectiveIndex=o}function ya(o){const a=Lt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function wu(){return Lt.lFrame.currentQueryIndex}function oc(o){Lt.lFrame.currentQueryIndex=o}function Wd(o){const a=o[Je];return 2===a.type?a.declTNode:1===a.type?o[er]:null}function sc(o,a,l){if(l&bt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||l&bt.Host||(f=Wd(g),null===f||(g=g[os],10&f.type))););if(null===f)return!1;a=f,o=g}const d=Lt.lFrame=sl();return d.currentTNode=a,d.lView=o,!0}function ac(o){const a=sl(),l=o[Je];Lt.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function sl(){const o=Lt.lFrame,a=null===o?null:o.child;return null===a?Eu(o):a}function Eu(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function al(){const o=Lt.lFrame;return Lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Zd=al;function lc(){const o=al();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pr(){return Lt.lFrame.selectedIndex}function Vo(o){Lt.lFrame.selectedIndex=o}function An(){const o=Lt.lFrame;return Ud(o.tView,o.selectedIndex)}function ll(){Lt.lFrame.currentNamespace=$r}function us(){!function Nf(){Lt.lFrame.currentNamespace=null}()}function uc(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:R,ngOnDestroy:O}=g;v&&(o.contentHooks??(o.contentHooks=[])).push(-l,v),C&&((o.contentHooks??(o.contentHooks=[])).push(l,C),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(l,C)),D&&(o.viewHooks??(o.viewHooks=[])).push(-l,D),R&&((o.viewHooks??(o.viewHooks=[])).push(l,R),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(l,R)),null!=O&&(o.destroyHooks??(o.destroyHooks=[])).push(l,O)}}function Cu(o,a,l){Iu(o,a,3,l)}function xu(o,a,l,d){(3&o[Ht])===l&&Iu(o,a,l,d)}function Yd(o,a){let l=o[Ht];(3&l)===a&&(l&=2047,l+=1,o[Ht]=l)}function Iu(o,a,l,d){const g=d??-1,v=a.length-1;let C=0;for(let D=void 0!==d?65535&o[ko]:0;D<v;D++)if("number"==typeof a[D+1]){if(C=a[D],null!=d&&C>=d)break}else a[D]<0&&(o[ko]+=65536),(C<g||-1==g)&&(va(o,l,a,D),o[ko]=(4294901760&o[ko])+D+2),D++}function va(o,a,l,d){const f=l[d]<0,g=l[d+1],C=o[f?-l[d]:l[d]];if(f){if(o[Ht]>>11<o[ko]>>16&&(3&o[Ht])===a){o[Ht]+=2048,ri(4,C,g);try{g.call(C)}finally{ri(5,C,g)}}}else{ri(4,C,g);try{g.call(C)}finally{ri(5,C,g)}}}const ba=-1;class Bo{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function wa(o,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const g=l[d++],v=l[d++],C=l[d++];o.setAttribute(a,v,C,g)}else{const g=f,v=l[++d];Os(g)?o.setProperty(a,g,v):o.setAttribute(a,g,v),d++}}return d}function Du(o){return 3===o||4===o||6===o}function Os(o){return 64===o.charCodeAt(0)}function Ps(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||fc(o,l,f,null,-1===l||2===l?a[++d]:null)}}return o}function fc(o,a,l,d,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function Ns(o){return o!==ba}function ds(o){return 32767&o}function Fs(o,a){let l=function Qd(o){return o>>16}(o),d=a;for(;l>0;)d=d[os],l--;return d}let pc=!0;function ul(o){const a=pc;return pc=o,a}const mc=255,Xd=5;let Ls=0;const Ai={};function Su(o,a){const l=Ca(o,a);if(-1!==l)return l;const d=a[Je];d.firstCreatePass&&(o.injectorIndex=a.length,Ea(d.data,o),Ea(a,null),Ea(d.blueprint,null));const f=Jd(o,a),g=o.injectorIndex;if(Ns(f)){const v=ds(f),C=Fs(f,a),D=C[Je].data;for(let R=0;R<8;R++)a[g+R]=C[v+R]|D[v+R]}return a[g+8]=f,g}function Ea(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ca(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Jd(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=fl(f),null===d)return ba;if(l++,f=f[os],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return ba}function vn(o,a,l){!function Uo(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Qt)&&(d=l[Qt]),null==d&&(d=l[Qt]=Ls++);const f=d&mc;a.data[o+(f>>Xd)]|=1<<f}(o,a,l)}function gc(o,a,l){if(l&bt.Optional||void 0!==o)return o;Ke()}function Tu(o,a,l,d){if(l&bt.Optional&&void 0===d&&(d=null),!(l&(bt.Self|bt.Host))){const f=o[Wa],g=kr(void 0);try{return f?f.get(a,d,l&bt.Optional):Jr(a,d,l&bt.Optional)}finally{kr(g)}}return gc(d,0,l)}function _c(o,a,l,d=bt.Default,f){if(null!==o){if(1024&a[Ht]){const v=function Mu(o,a,l,d,f){let g=o,v=a;for(;null!==g&&null!==v&&1024&v[Ht]&&!(256&v[Ht]);){const C=yc(g,v,l,d|bt.Self,Ai);if(C!==Ai)return C;let D=g.parent;if(!D){const R=v[lr];if(R){const O=R.get(l,Ai,d);if(O!==Ai)return O}D=fl(v),v=v[os]}g=D}return f}(o,a,l,d,Ai);if(v!==Ai)return v}const g=yc(o,a,l,d,Ai);if(g!==Ai)return g}return Tu(a,l,d,f)}function yc(o,a,l,d,f){const g=function Au(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Qt)?o[Qt]:void 0;return"number"==typeof a?a>=0?a&mc:Vf:a}(l);if("function"==typeof g){if(!sc(a,o,d))return d&bt.Host?gc(f,0,d):Tu(a,l,d,f);try{const v=g(d);if(null!=v||d&bt.Optional)return v;Ke()}finally{Zd()}}else if("number"==typeof g){let v=null,C=Ca(o,a),D=ba,R=d&bt.Host?a[qn][er]:null;for((-1===C||d&bt.SkipSelf)&&(D=-1===C?Jd(o,a):a[C+8],D!==ba&&hl(d,!1)?(v=a[Je],C=ds(D),a=Fs(D,a)):C=-1);-1!==C;){const O=a[Je];if(dl(g,C,O.data)){const B=dr(C,a,l,v,d,R);if(B!==Ai)return B}D=a[C+8],D!==ba&&hl(d,a[Je].data[C+8]===R)&&dl(g,C,a)?(v=O,C=ds(D),a=Fs(D,a)):C=-1}}return f}function dr(o,a,l,d,f,g){const v=a[Je],C=v.data[o+8],O=Vs(C,v,l,null==d?pa(C)&&pc:d!=v&&0!=(3&C.type),f&bt.Host&&g===C);return null!==O?Wn(a,v,O,C):Ai}function Vs(o,a,l,d,f){const g=o.providerIndexes,v=a.data,C=1048575&g,D=o.directiveStart,O=g>>20,W=f?C+O:o.directiveEnd;for(let re=d?C:C+O;re<W;re++){const Ce=v[re];if(re<D&&l===Ce||re>=D&&Ce.type===l)return re}if(f){const re=v[D];if(re&&Di(re)&&re.type===l)return D}return null}function Wn(o,a,l,d){let f=o[l];const g=a.data;if(function Om(o){return o instanceof Bo}(f)){const v=f;v.resolving&&function Le(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ve(-200,`Circular dependency in DI detected for ${o}${l}`)}(function ze(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Fe(o)}(g[l]));const C=ul(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?kr(v.injectImpl):null;sc(o,d,bt.Default);try{f=o[l]=v.factory(void 0,g,o,d),a.firstCreatePass&&l>=d.directiveStart&&function km(o,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=Qa(a);(l.preOrderHooks??(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(o,v)}f&&(l.preOrderHooks??(l.preOrderHooks=[])).push(0-o,f),g&&((l.preOrderHooks??(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],a)}finally{null!==D&&kr(D),ul(C),v.resolving=!1,Zd()}}return f}function dl(o,a,l){return!!(l[a+(o>>Xd)]&1<<o)}function hl(o,a){return!(o&bt.Self||o&bt.Host&&a)}class Ho{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return _c(this._tNode,this._lView,a,Xn(d),l)}}function Vf(){return new Ho(ur(),_e())}function vc(o){return U(()=>{const a=o.prototype.constructor,l=a[pn]||Bs(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[pn]||Bs(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Bs(o){return Ge(o)?()=>{const a=Bs(Y(o));return a&&a()}:po(o)}function fl(o){const a=o[Je],l=a.type;return 2===l?a.declTNode:1===l?o[er]:null}function xa(o){return function eh(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const g=l[f];if(Du(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(g===a)return l[f+1];f+=2}}}return null}(ur(),o)}const Us="__parameters__";function js(o,a,l){return U(()=>{const d=function Hs(o){return function(...l){if(o){const d=o(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(D,R,O){const B=D.hasOwnProperty(Us)?D[Us]:Object.defineProperty(D,Us,{value:[]})[Us];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(v),D}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class nn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=gt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function go(o,a){o.forEach(l=>Array.isArray(l)?go(l,a):a(l))}function zf(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function $s(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function wc(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function oi(o,a,l){let d=_i(o,a);return d>=0?o[1|d]=l:(d=~d,function xc(o,a,l,d){let f=o.length;if(f==a)o.push(l,d);else if(1===f)o.push(d,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function sn(o,a){const l=_i(o,a);if(l>=0)return o[1|l]}function _i(o,a){return function Wt(o,a,l){let d=0,f=o.length>>l;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<l];if(a===v)return g<<l;v>a?f=g:d=g+1}return~(f<<l)}(o,a,1)}const Da=In(js("Inject",o=>({token:o})),-1),vl=In(js("Optional"),8),ht=In(js("SkipSelf"),4);var It=(()=>((It=It||{})[It.Important=1]="Important",It[It.DashCase=2]="DashCase",It))();const sh=new Map;let Qi=0;const X="__ngContext__";function se(o,a){mi(a)?(o[X]=a[fi],function lh(o){sh.set(o[fi],o)}(a)):o[X]=a}let Xi;function _s(o,a){return Xi(o,a)}function ju(o){const a=o[Dn];return gi(a)?a[Dn]:a}function zu(o){return Wf(o[Ds])}function Ks(o){return Wf(o[Ii])}function Wf(o){for(;null!==o&&!gi(o);)o=o[Ii];return o}function Ys(o,a,l,d,f){if(null!=d){let g,v=!1;gi(d)?g=d:mi(d)&&(v=!0,d=d[xi]);const C=Er(d);0===o&&null!==l?null==f?Gu(a,l,C):Ma(a,l,C,f||null,!0):1===o&&null!==l?Ma(a,l,C,f||null,!0):2===o?function Qf(o,a,l){const d=Qs(o,a);d&&function qu(o,a,l,d){o.removeChild(a,l,d)}(o,d,a,l)}(a,C,v):3===o&&a.destroyNode(C),null!=g&&function Yu(o,a,l,d,f){const g=l[fa];g!==Er(l)&&Ys(a,o,d,g,f);for(let C=wr;C<l.length;C++){const D=l[C];Ku(D[Je],D,o,a,d,g)}}(a,o,g,l,f)}}function Kf(o,a,l){return o.createElement(a,l)}function Lm(o,a){const l=o[Ss],d=l.indexOf(a),f=a[Dn];512&a[Ht]&&(a[Ht]&=-513,el(f,-1)),l.splice(d,1)}function $u(o,a){if(o.length<=wr)return;const l=wr+a,d=o[l];if(d){const f=d[ha];null!==f&&f!==o&&Lm(f,d),a>0&&(o[l-1][Ii]=d[Ii]);const g=$s(o,wr+a);!function j_(o,a){Ku(o,a,a[Gt],2,null,null),a[xi]=null,a[er]=null}(d[Je],d);const v=g[qi];null!==v&&v.detachView(g[Je]),d[Dn]=null,d[Ii]=null,d[Ht]&=-65}return d}function dh(o,a){if(!(128&a[Ht])){const l=a[Gt];l.destroyNode&&Ku(o,a,l,3,null,null),function b0(o){let a=o[Ds];if(!a)return Aa(o[Je],o);for(;a;){let l=null;if(mi(a))l=a[Ds];else{const d=a[wr];d&&(l=d)}if(!l){for(;a&&!a[Ii]&&a!==o;)mi(a)&&Aa(a[Je],a),a=a[Dn];null===a&&(a=o),mi(a)&&Aa(a[Je],a),l=a&&a[Ii]}a=l}}(a)}}function Aa(o,a){if(!(128&a[Ht])){a[Ht]&=-65,a[Ht]|=128,function xl(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof Bo)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],D=g[v+1];ri(4,C,D);try{D.call(C)}finally{ri(5,C,D)}}else{ri(4,f,g);try{g.call(f)}finally{ri(5,f,g)}}}}}(o,a),function $_(o,a){const l=o.cleanup,d=a[Ro];let f=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+3];v>=0?d[f=v]():d[f=-v].unsubscribe(),g+=2}else{const v=d[f=l[g+1]];l[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();a[Ro]=null}}(o,a),1===a[Je].type&&a[Gt].destroy();const l=a[ha];if(null!==l&&gi(a[Dn])){l!==a[Dn]&&Lm(l,a);const d=a[qi];null!==d&&d.detachView(o)}!function E(o){sh.delete(o[fi])}(a)}}function Pc(o,a,l){return function G_(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[xi];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:g}=o.data[d.directiveStart+f];if(g===we.None||g===we.Emulated)return null}return Cr(d,l)}}(o,a.parent,l)}function Ma(o,a,l,d,f){o.insertBefore(a,l,d,f)}function Gu(o,a,l){o.appendChild(a,l)}function Vm(o,a,l,d,f){null!==d?Ma(o,a,l,d,f):Gu(o,a,l)}function Qs(o,a){return o.parentNode(a)}function fh(o,a,l){return Il(o,a,l)}let Yf,Ra,Ju,Fc,Il=function Wu(o,a,l){return 40&o.type?Cr(o,l):null};function Dl(o,a,l,d){const f=Pc(o,d,a),g=a[Gt],C=fh(d.parent||a[er],d,a);if(null!=f)if(Array.isArray(l))for(let D=0;D<l.length;D++)Vm(g,f,l[D],C,!1);else Vm(g,f,l,C,!1);void 0!==Yf&&Yf(g,d,a,l,f)}function mh(o,a){if(null!==a){const l=a.type;if(3&l)return Cr(a,o);if(4&l)return qo(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return mh(o,d);{const f=o[a.index];return gi(f)?qo(-1,f):Er(f)}}if(32&l)return _s(a,o)()||Er(o[a.index]);{const d=gh(o,a);return null!==d?Array.isArray(d)?d[0]:mh(ju(o[qn]),d):mh(o,a.next)}}return null}function gh(o,a){return null!==a?o[qn][er].projection[a.projection]:null}function qo(o,a){const l=wr+o+1;if(l<a.length){const d=a[l],f=d[Je].firstChild;if(null!==f)return mh(d,f)}return a[fa]}function Zu(o,a,l,d,f,g,v){for(;null!=l;){const C=d[l.index],D=l.type;if(v&&0===a&&(C&&se(Er(C),d),l.flags|=2),32!=(32&l.flags))if(8&D)Zu(o,a,l.child,d,f,g,!1),Ys(a,o,f,C,g);else if(32&D){const R=_s(l,d);let O;for(;O=R();)Ys(a,o,f,O,g);Ys(a,o,f,C,g)}else 16&D?Jf(o,a,d,l,f,g):Ys(a,o,f,C,g);l=v?l.projectionNext:l.next}}function Ku(o,a,l,d,f,g){Zu(l,d,o.firstChild,a,f,g,!1)}function Jf(o,a,l,d,f,g){const v=l[qn],D=v[er].projection[d.projection];if(Array.isArray(D))for(let R=0;R<D.length;R++)Ys(a,o,f,D[R],g);else Zu(o,a,D,v[Dn],f,g,!0)}function vo(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function Qu(o,a,l){const{mergedAttrs:d,classes:f,styles:g}=l;null!==d&&wa(o,a,d),null!==f&&vo(o,a,f),null!==g&&function ep(o,a,l){o.setAttribute(a,"style",l)}(o,a,g)}function Nc(o){return function Xu(){if(void 0===Ra&&(Ra=null,an.trustedTypes))try{Ra=an.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ra}()?.createHTML(o)||o}function Um(o){Ju=o}function np(){if(void 0===Fc&&(Fc=null,an.trustedTypes))try{Fc=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Fc}function Ni(o){return np()?.createHTML(o)||o}function rp(o){return np()?.createScriptURL(o)||o}class Tl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}class ip extends Tl{getTypeName(){return"HTML"}}class op extends Tl{getTypeName(){return"Style"}}class K_ extends Tl{getTypeName(){return"Script"}}class sp extends Tl{getTypeName(){return"URL"}}class ap extends Tl{getTypeName(){return"ResourceURL"}}function Nr(o){return o instanceof Tl?o.changingThisBreaksApplicationSecurity:o}function yi(o,a){const l=function Lc(o){return o instanceof Tl&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${ut})`)}return l===a}function jm(o){return new ip(o)}function zm(o){return new op(o)}function $m(o){return new K_(o)}function Dr(o){return new sp(o)}function _h(o){return new ap(o)}class vh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Nc(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class vs{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=Nc(a),l}}const lp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ml(o){return(o=String(o)).match(lp)?o:"unsafe:"+o}function Wo(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function Rl(...o){const a={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const Vc=Wo("area,br,col,hr,img,wbr"),Gm=Wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qm=Wo("rp,rt"),m=Rl(Vc,Rl(Gm,Wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rl(qm,Wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rl(qm,Gm)),w=Wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j=Rl(w,Wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ee=Wo("script,style,template");class Oe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!m.hasOwnProperty(l))return this.sanitizedSomething=!0,!ee.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!j.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=g.value;w[C]&&(D=Ml(D)),this.buf.push(" ",v,'="',at(D),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();m.hasOwnProperty(l)&&!Vc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(at(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const We=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ot=/([^\#-~ |!])/g;function at(o){return o.replace(/&/g,"&amp;").replace(We,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ot,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rn;function Zo(o,a){let l=null;try{Rn=Rn||function yh(o){const a=new vs(o);return function Al(){try{return!!(new window.DOMParser).parseFromString(Nc(""),"text/html")}catch{return!1}}()?new vh(a):a}(o);let d=a?String(a):"";l=Rn.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=l.innerHTML,l=Rn.getInertBodyElement(d)}while(d!==g);return Nc((new Oe).sanitizeChildren(ed(l)||l))}finally{if(l){const d=ed(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ed(o){return"content"in o&&function Y_(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var kn=(()=>((kn=kn||{})[kn.NONE=0]="NONE",kn[kn.HTML=1]="HTML",kn[kn.STYLE=2]="STYLE",kn[kn.SCRIPT=3]="SCRIPT",kn[kn.URL=4]="URL",kn[kn.RESOURCE_URL=5]="RESOURCE_URL",kn))();function cp(o){const a=up();return a?Ni(a.sanitize(kn.HTML,o)||""):yi(o,"HTML")?Ni(Nr(o)):Zo(function Hm(){return void 0!==Ju?Ju:typeof document<"u"?document:void 0}(),Fe(o))}function td(o){const a=up();return a?a.sanitize(kn.URL,o)||"":yi(o,"URL")?Nr(o):Ml(Fe(o))}function nd(o){const a=up();if(a)return rp(a.sanitize(kn.RESOURCE_URL,o)||"");if(yi(o,"ResourceURL"))return rp(Nr(o));throw new ve(904,!1)}function wh(o,a,l){return function Q_(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?nd:td}(a,l)(o)}function up(){const o=_e();return o&&o[Za]}const ey=new nn("ENVIRONMENT_INITIALIZER"),rd=new nn("INJECTOR",-1),Eh=new nn("INJECTOR_DEF_TYPES");class w0{get(a,l=Ei){if(l===Ei){const d=new Error(`NullInjectorError: No provider for ${xe(a)}!`);throw d.name="NullInjectorError",d}return l}}function kI(o){return{\u0275providers:o}}function dp(...o){return{\u0275providers:Ch(0,o),\u0275fromNgModule:!0}}function Ch(o,...a){const l=[],d=new Set;let f;return go(a,g=>{const v=g;ty(v,l,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&E0(f,l),l}function E0(o,a){for(let l=0;l<o.length;l++){const{providers:f}=o[l];ny(f,g=>{a.push(g)})}}function ty(o,a,l,d){if(!(o=Y(o)))return!1;let f=null,g=yr(o);const v=!g&&wt(o);if(g||v){if(v&&!v.standalone)return!1;f=o}else{const D=o.ngModule;if(g=yr(D),!g)return!1;f=D}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const R of D)ty(R,a,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let R;d.add(f);try{go(g.imports,O=>{ty(O,a,l,d)&&(R||(R=[]),R.push(O))})}finally{}void 0!==R&&E0(R,a)}if(!C){const R=po(f)||(()=>new f);a.push({provide:f,useFactory:R,deps:Ue},{provide:Eh,useValue:f,multi:!0},{provide:ey,useValue:()=>un(f),multi:!0})}const D=g.providers;null==D||C||ny(D,O=>{a.push(O)})}}return f!==o&&void 0!==o.providers}function ny(o,a){for(let l of o)Ae(l)&&(l=l.\u0275providers),Array.isArray(l)?ny(l,a):a(l)}const OI=J({provide:String,useValue:J});function ry(o){return null!==o&&"object"==typeof o&&OI in o}function kl(o){return"function"==typeof o}const Uc=new nn("Set Injector scope."),Ym={},NI={};let iy;function Qm(){return void 0===iy&&(iy=new w0),iy}class id{}class x0 extends id{get destroyed(){return this._destroyed}constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ih(a,v=>this.processProvider(v)),this.records.set(rd,xh(void 0,this)),f.has("environment")&&this.records.set(id,xh(void 0,this));const g=this.records.get(Uc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Eh.multi,Ue,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=tn(this),d=kr(void 0);try{return a()}finally{tn(l),kr(d)}}get(a,l=Ei,d=bt.Default){this.assertNotDestroyed(),d=Xn(d);const f=tn(this),g=kr(void 0);try{if(!(d&bt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const D=function ly(o){return"function"==typeof o||"object"==typeof o&&o instanceof nn}(a)&&Jt(a);C=D&&this.injectableDefInScope(D)?xh(oy(a),Ym):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&bt.Self?Qm():this.parent).get(a,l=d&bt.Optional&&l===Ei?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[vr]=v[vr]||[]).unshift(xe(a)),f)throw v;return function ti(o,a,l,d){const f=o[vr];throw a[yn]&&f.unshift(a[yn]),o.message=function z(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==hi?o.slice(2):o;let f=xe(a);if(Array.isArray(a))f=a.map(xe).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):xe(C)))}f=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${o.replace(Nn,"\n  ")}`}("\n"+o.message,f,l,d),o[ei]=f,o[vr]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{kr(g),tn(f)}}resolveInjectorInitializers(){const a=tn(this),l=kr(void 0);try{const d=this.get(ey.multi,Ue,bt.Self);for(const f of d)f()}finally{tn(a),kr(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(xe(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(a){let l=kl(a=Y(a))?a:Y(a&&a.provide);const d=function LI(o){return ry(o)?xh(void 0,o.useValue):xh(sy(o),Ym)}(a);if(kl(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=xh(void 0,Ym,!0),f.factory=()=>zi(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Ym&&(l.value=NI,l.value=l.factory()),"object"==typeof l.value&&l.value&&function I0(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Y(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function oy(o){const a=Jt(o),l=null!==a?a.factory:po(o);if(null!==l)return l;if(o instanceof nn)throw new ve(204,!1);if(o instanceof Function)return function FI(o){const a=o.length;if(a>0)throw wc(a,"?"),new ve(204,!1);const l=function $n(o){return o&&(o[Ln]||o[ci])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ve(204,!1)}function sy(o,a,l){let d;if(kl(o)){const f=Y(o);return po(f)||oy(f)}if(ry(o))d=()=>Y(o.useValue);else if(function C0(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...zi(o.deps||[]));else if(function PI(o){return!(!o||!o.useExisting)}(o))d=()=>un(Y(o.useExisting));else{const f=Y(o&&(o.useClass||o.provide));if(!function ay(o){return!!o.deps}(o))return po(f)||oy(f);d=()=>new f(...zi(o.deps))}return d}function xh(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function Ih(o,a){for(const l of o)Array.isArray(l)?Ih(l,a):l&&Ae(l)?Ih(l.\u0275providers,a):a(l)}class VI{}class D0{}class T0{resolveComponentFactory(a){throw function BI(o){const a=Error(`No component factory found for ${xe(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Dh=(()=>{class o{}return o.NULL=new T0,o})();function Xm(){return Ol(ur(),_e())}function Ol(o,a){return new Sh(Cr(o,a))}let Sh=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=Xm,o})();function hp(o){return o instanceof Sh?o.nativeElement:o}class uy{}let UI=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function HI(){const o=_e(),l=cr(ur().index,o);return(mi(l)?l:o)[Gt]}(),o})(),jI=(()=>{class o{}return o.\u0275prov=gt({token:o,providedIn:"root",factory:()=>null}),o})();class A0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const M0=new A0("15.2.9"),Jm={},dy="ngOriginalError";function hy(o){return o[dy]}class fp{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&hy(a);for(;l&&hy(l);)l=hy(l);return l||null}}function ka(o){return o instanceof Function?o():o}function F0(o,a,l){let d=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}l=f+1}}const fy="ng-template";function py(o,a,l){let d=0,f=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&f){const v=o[d++];if(l&&"class"===g&&-1!==F0(v.toLowerCase(),a,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function my(o){return 4===o.type&&o.value!==fy}function Th(o,a,l){return a===(4!==o.type||l?o.value:fy)}function gy(o,a,l){let d=4;const f=o.attrs||[],g=function V0(o){for(let a=0;a<o.length;a++)if(Du(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const D=a[C];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!Th(o,D,l)||""===D&&1===a.length){if(Xs(d))return!1;v=!0}}else{const R=8&d?D:a[++C];if(8&d&&null!==o.attrs){if(!py(o.attrs,R,l)){if(Xs(d))return!1;v=!0}continue}const B=L0(8&d?"class":D,f,my(o),l);if(-1===B){if(Xs(d))return!1;v=!0;continue}if(""!==R){let W;W=B>g?"":f[B+1].toLowerCase();const re=8&d?W:null;if(re&&-1!==F0(re,R,0)||2&d&&R!==W){if(Xs(d))return!1;v=!0}}}}else{if(!v&&!Xs(d)&&!Xs(D))return!1;if(v&&Xs(D))continue;v=!1,d=D|1&d}}return Xs(d)||v}function Xs(o){return 0==(1&o)}function L0(o,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function B0(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function mp(o,a,l=!1){for(let d=0;d<a.length;d++)if(gy(o,a[d],l))return!0;return!1}function KI(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function U0(o,a){return o?":not("+a.trim()+")":a}function YI(o){let a=o[0],l=1,d=2,f="",g=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const C=o[++l];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Xs(v)&&(a+=U0(g,f),f=""),d=v,g=g||!Xs(d);l++}return""!==f&&(a+=U0(g,f)),a}const zt={};function H0(o){j0(jt(),_e(),Pr()+o,!1)}function j0(o,a,l,d){if(!d)if(3==(3&a[Ht])){const g=o.preOrderCheckHooks;null!==g&&Cu(a,g,l)}else{const g=o.preOrderHooks;null!==g&&xu(a,g,0,l)}Vo(l)}function $0(o,a=null,l=null,d){const f=_y(o,a,l,d);return f.resolveInjectorInitializers(),f}function _y(o,a=null,l=null,d,f=new Set){const g=[l||Ue,dp(o)];return d=d||("object"==typeof o?void 0:xe(o)),new x0(g,a||Qm(),d||null,f)}let Ah=(()=>{class o{static create(l,d){if(Array.isArray(l))return $0({name:""},d,l,"");{const f=l.name??"";return $0({name:f},l.parent,l.providers,f)}}}return o.THROW_IF_NOT_FOUND=Ei,o.NULL=new w0,o.\u0275prov=gt({token:o,providedIn:"any",factory:()=>un(rd)}),o.__NG_ELEMENT_ID__=-1,o})();function kh(o,a=bt.Default){const l=_e();return null===l?un(o,a):_c(ur(),l,Y(o),a)}function K0(){throw new Error("invalid")}function Y0(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d+1];if(-1!==g){const v=o.data[g];oc(l[d]),v.contentQueries(2,a[g],g)}}}function ig(o,a,l,d,f,g,v,C,D,R,O){const B=a.blueprint.slice();return B[xi]=f,B[Ht]=76|d,(null!==O||o&&1024&o[Ht])&&(B[Ht]|=1024),_a(B),B[Dn]=B[os]=o,B[Bn]=l,B[Or]=v||o&&o[Or],B[Gt]=C||o&&o[Gt],B[Za]=D||o&&o[Za]||null,B[Wa]=R||o&&o[Wa]||null,B[er]=g,B[fi]=function ah(){return Qi++}(),B[lr]=O,B[qn]=2==a.type?o[qn]:B,B}function vp(o,a,l,d,f){let g=o.data[a];if(null===g)g=function og(o,a,l,d,f){const g=As(),v=Gd(),D=o.data[a]=function Fi(o,a,l,d,f,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,a,d,f);return null===o.firstChild&&(o.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(o,a,l,d,f),function qd(){return Lt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=d,g.attrs=f;const v=function nc(){const o=Lt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ii(g,!0),g}function Oh(o,a,l,d){if(0===l)return-1;const f=a.length;for(let g=0;g<l;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Pl(o,a,l){ac(a);try{const d=o.viewQuery;null!==d&&Ep(1,d,l);const f=o.template;null!==f&&X0(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Y0(o,a),o.staticViewQueries&&Ep(2,o.viewQuery,l);const g=o.components;null!==g&&function Q0(o,a){for(let l=0;l<a.length;l++)Ll(o,a[l])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Ht]&=-5,lc()}}function Ko(o,a,l,d){const f=a[Ht];if(128!=(128&f)){ac(a);try{_a(a),function mo(o){return Lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&X0(o,a,l,2,d);const v=3==(3&f);if(v){const R=o.preOrderCheckHooks;null!==R&&Cu(a,R,null)}else{const R=o.preOrderHooks;null!==R&&xu(a,R,0,null),Yd(a,0)}if(function fw(o){for(let a=zu(o);null!==a;a=Ks(a)){if(!a[pu])continue;const l=a[Ss];for(let d=0;d<l.length;d++){const f=l[d];512&f[Ht]||el(f[Dn],1),f[Ht]|=512}}}(a),function hw(o){for(let a=zu(o);null!==a;a=Ks(a))for(let l=wr;l<a.length;l++){const d=a[l],f=d[Je];Fo(d)&&Ko(f,d,f.template,d[Bn])}}(a),null!==o.contentQueries&&Y0(o,a),v){const R=o.contentCheckHooks;null!==R&&Cu(a,R)}else{const R=o.contentHooks;null!==R&&xu(a,R,1),Yd(a,1)}!function fD(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Vo(~f);else{const g=f,v=l[++d],C=l[++d];ic(v,g),C(2,a[g])}}}finally{Vo(-1)}}(o,a);const C=o.components;null!==C&&function pD(o,a){for(let l=0;l<a.length;l++)pw(o,a[l])}(a,C);const D=o.viewQuery;if(null!==D&&Ep(2,D,d),v){const R=o.viewCheckHooks;null!==R&&Cu(a,R)}else{const R=o.viewHooks;null!==R&&xu(a,R,2),Yd(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ht]&=-41,512&a[Ht]&&(a[Ht]&=-513,el(a[Dn],-1))}finally{lc()}}}function X0(o,a,l,d,f){const g=Pr(),v=2&d;try{Vo(-1),v&&a.length>Cn&&j0(o,a,Cn,!1),ri(v?2:0,f),l(d,f)}finally{Vo(g),ri(v?3:1,f)}}function bp(o,a,l){if(Ya(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Ey(o,a,l){tc()&&(function ow(o,a,l,d){const f=l.directiveStart,g=l.directiveEnd;pa(l)&&function Ay(o,a,l){const d=Cr(a,o),f=J0(l),g=o[Or],v=Ry(o,ig(o,f,null,l.onPush?32:16,d,a,g,g.createRenderer(d,l),null,null,null));o[a.index]=v}(a,l,o.data[f+l.componentOffset]),o.firstCreatePass||Su(l,a),se(d,a);const v=l.initialInputs;for(let C=f;C<g;C++){const D=o.data[C],R=Wn(a,o,C,l);se(R,a),null!==v&&dw(0,C-f,R,D,0,v),Di(D)&&(cr(l.index,a)[Bn]=Wn(a,o,C,l))}}(o,a,l,Cr(l,a)),64==(64&l.flags)&&Dy(o,a,l))}function Cy(o,a,l=Cr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?l(a,o):o[v];o[f++]=C}}}function J0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Hc(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Hc(o,a,l,d,f,g,v,C,D,R){const O=Cn+d,B=O+f,W=function mD(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:zt);return l}(O,B),re="function"==typeof R?R():R;return W[Je]={type:o,blueprint:W,template:l,queries:null,viewQuery:C,declTNode:a,data:W.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:re,incompleteFirstPass:!1}}function xy(o,a,l,d){const f=gw(a);null===l?f.push(d):(f.push(l),o.firstCreatePass&&cg(o).push(d,f.length-1))}function Nl(o,a,l,d){for(let f in o)if(o.hasOwnProperty(f)){l=null===l?{}:l;const g=o[f];null===d?ew(l,a,f,g):d.hasOwnProperty(f)&&ew(l,a,d[f],g)}return l}function ew(o,a,l,d){o.hasOwnProperty(l)?o[l].push(a,d):o[l]=[a,d]}function bo(o,a,l,d,f,g,v,C){const D=Cr(a,l);let O,R=a.inputs;!C&&null!=R&&(O=R[d])?(yw(o,l,O,d,f),pa(a)&&function nw(o,a){const l=cr(a,o);16&l[Ht]||(l[Ht]|=32)}(l,a.index)):3&a.type&&(d=function tw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,g.setProperty(D,d,f))}function sg(o,a,l,d){if(tc()){const f=null===d?null:{"":-1},g=function aw(o,a){const l=o.directiveRegistry;let d=null,f=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];if(mp(a,v.selectors,!1))if(d||(d=[]),Di(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),d.unshift(...C,v),Sy(o,a,C.length)}else d.unshift(v),Sy(o,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(o,l);let v,C;null===g?v=C=null:[v,C]=g,null!==v&&Iy(o,a,l,v,f,C),f&&function lw(o,a,l){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=l[a[f+1]];if(null==g)throw new ve(-301,!1);d.push(a[f],g)}}}(l,d,f)}l.mergedAttrs=Ps(l.mergedAttrs,l.attrs)}function Iy(o,a,l,d,f,g){for(let R=0;R<d.length;R++)vn(Su(l,a),o,d[R].type);!function Ty(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,d.length);for(let R=0;R<d.length;R++){const O=d[R];O.providersResolver&&O.providersResolver(O)}let v=!1,C=!1,D=Oh(o,a,d.length,null);for(let R=0;R<d.length;R++){const O=d[R];l.mergedAttrs=Ps(l.mergedAttrs,O.hostAttrs),uw(o,l,a,D,O),cw(D,O,f),null!==O.contentQueries&&(l.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=64);const B=O.type.prototype;!v&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(l.index),v=!0),!C&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(l.index),C=!0),D++}!function Fl(o,a,l){const f=a.directiveEnd,g=o.data,v=a.attrs,C=[];let D=null,R=null;for(let O=a.directiveStart;O<f;O++){const B=g[O],W=l?l.get(B):null,Ce=W?W.outputs:null;D=Nl(B.inputs,O,D,W?W.inputs:null),R=Nl(B.outputs,O,R,Ce);const je=null===D||null===v||my(a)?null:My(D,O,v);C.push(je)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=8),D.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=D,a.outputs=R}(o,l,g)}function Dy(o,a,l){const d=l.directiveStart,f=l.directiveEnd,g=l.index,v=function Rm(){return Lt.lFrame.currentDirectiveIndex}();try{Vo(g);for(let C=d;C<f;C++){const D=o.data[C],R=a[C];nr(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&sw(D,R)}}finally{Vo(-1),nr(v)}}function sw(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Sy(o,a,l){a.componentOffset=l,(o.components??(o.components=[])).push(a.index)}function cw(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;Di(a)&&(l[""]=o)}}function uw(o,a,l,d,f){o.data[d]=f;const g=f.factory||(f.factory=po(f.type)),v=new Bo(g,Di(f),kh);o.blueprint[d]=v,l[d]=v,function iw(o,a,l,d,f){const g=f.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const C=~a.index;(function ag(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(v)!=C&&v.push(C),v.push(l,d,g)}}(o,a,d,Oh(o,l,f.hostVars,zt),f)}function Js(o,a,l,d,f,g){const v=Cr(o,a);!function lg(o,a,l,d,f,g,v){if(null==g)o.removeAttribute(a,f,l);else{const C=null==v?Fe(g):v(g,d||"",f);o.setAttribute(a,f,C,l)}}(a[Gt],v,g,o.value,l,d,f)}function dw(o,a,l,d,f,g){const v=g[a];if(null!==v){const C=d.setInput;for(let D=0;D<v.length;){const R=v[D++],O=v[D++],B=v[D++];null!==C?d.setInput(l,B,R,O):l[O]=B}}}function My(o,a,l){let d=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let C=0;C<v.length;C+=2)if(v[C]===a){d.push(g,v[C+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function wp(o,a,l,d){return[o,!0,!1,a,null,0,d,l,null,null]}function pw(o,a){const l=cr(a,o);if(Fo(l)){const d=l[Je];48&l[Ht]?Ko(d,l,d.template,l[Bn]):l[mn]>0&&vi(l)}}function vi(o){for(let d=zu(o);null!==d;d=Ks(d))for(let f=wr;f<d.length;f++){const g=d[f];if(Fo(g))if(512&g[Ht]){const v=g[Je];Ko(v,g,v.template,g[Bn])}else g[mn]>0&&vi(g)}const l=o[Je].components;if(null!==l)for(let d=0;d<l.length;d++){const f=cr(l[d],o);Fo(f)&&f[mn]>0&&vi(f)}}function Ll(o,a){const l=cr(a,o),d=l[Je];(function mw(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),Pl(d,l,l[Bn])}function Ry(o,a){return o[Ds]?o[fo][Ii]=a:o[Ds]=a,o[fo]=a,a}function ky(o){for(;o;){o[Ht]|=32;const a=ju(o);if(Kl(o)&&!a)return o;o=a}return null}function zc(o,a,l,d=!0){const f=a[Or];f.begin&&f.begin();try{Ko(o,a,o.template,l)}catch(v){throw d&&_D(a,v),v}finally{f.end&&f.end()}}function Ep(o,a,l){oc(0),a(o,l)}function gw(o){return o[Ro]||(o[Ro]=[])}function cg(o){return o.cleanup||(o.cleanup=[])}function _w(o,a,l){return(null===o||Di(o))&&(l=function ga(o){for(;Array.isArray(o);){if("object"==typeof o[Ka])return o;o=o[xi]}return null}(l[a.index])),l[Gt]}function _D(o,a){const l=o[Wa],d=l?l.get(fp,null):null;d&&d.handleError(a)}function yw(o,a,l,d,f){for(let g=0;g<l.length;){const v=l[g++],C=l[g++],D=a[v],R=o.data[v];null!==R.setInput?R.setInput(D,f,d,C):D[C]=f}}function Ny(o,a,l){let d=l?o.styles:null,f=l?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?f=ye(f,C):2==g&&(d=ye(d,C+": "+a[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=f:o.classesWithoutHost=f}function Fy(o,a,l,d,f=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&d.push(Er(g)),gi(g))for(let C=wr;C<g.length;C++){const D=g[C],R=D[Je].firstChild;null!==R&&Fy(D[Je],D,R,d)}const v=l.type;if(8&v)Fy(o,a,l.child,d);else if(32&v){const C=_s(l,a);let D;for(;D=C();)d.push(D)}else if(16&v){const C=gh(a,l);if(Array.isArray(C))d.push(...C);else{const D=ju(a[qn]);Fy(D[Je],D,C,d,!0)}}l=f?l.projectionNext:l.next}return d}class ug{get rootNodes(){const a=this._lView,l=a[Je];return Fy(l,a,l.firstChild,[])}constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(a){this._lView[Bn]=a}get destroyed(){return 128==(128&this._lView[Ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Dn];if(gi(a)){const l=a[ss],d=l?l.indexOf(this):-1;d>-1&&($u(a,d),$s(l,d))}this._attachedToViewContainer=!1}dh(this._lView[Je],this._lView)}onDestroy(a){xy(this._lView[Je],this._lView,null,a)}markForCheck(){ky(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ht]&=-65}reattach(){this._lView[Ht]|=64}detectChanges(){zc(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uh(o,a){Ku(o,a,a[Gt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=a}}class Mk extends ug{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;zc(a[Je],a,a[Bn],!1)}checkNoChanges(){}get context(){return null}}class vw extends Dh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=wt(a);return new Cp(l,this.ngModule)}}function Ly(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class vD{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){d=Xn(d);const f=this.injector.get(a,Jm,d);return f!==Jm||l===Jm?f:this.parentInjector.get(a,l,d)}}class Cp extends D0{get inputs(){return Ly(this.componentDef.inputs)}get outputs(){return Ly(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function QI(o){return o.map(YI).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,d,f){let g=(f=f||this.ngModule)instanceof id?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new vD(a,g):a,C=v.get(uy,null);if(null===C)throw new ve(407,!1);const D=v.get(jI,null),R=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",B=d?function jc(o,a,l){return o.selectRootElement(a,l===we.ShadowDom)}(R,d,this.componentDef.encapsulation):Kf(R,O,function yD(o){const a=o.toLowerCase();return"svg"===a?$r:"math"===a?"math":null}(O)),W=this.componentDef.onPush?288:272,re=Hc(0,null,null,1,0,null,null,null,null,null),Ce=ig(null,re,null,W,null,null,C,R,D,v,null);let je,nt;ac(Ce);try{const _t=this.componentDef;let Vt,Pe=null;_t.findHostDirectiveDefs?(Vt=[],Pe=new Map,_t.findHostDirectiveDefs(_t,Vt,Pe),Vt.push(_t)):Vt=[_t];const Ut=function hg(o,a){const l=o[Je],d=Cn;return o[d]=a,vp(l,d,2,"#host",null)}(Ce,B),zn=function Ph(o,a,l,d,f,g,v,C){const D=f[Je];!function xp(o,a,l,d){for(const f of o)a.mergedAttrs=Ps(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Ny(a,a.mergedAttrs,!0),null!==l&&Qu(d,l,a))}(d,o,a,v);const R=g.createRenderer(a,l),O=ig(f,J0(l),null,l.onPush?32:16,f[o.index],o,g,R,C||null,null,null);return D.firstCreatePass&&Sy(D,o,d.length-1),Ry(f,O),f[o.index]=O}(Ut,B,_t,Vt,Ce,C,R);nt=Ud(re,Cn),B&&function bD(o,a,l,d){if(d)wa(o,l,["ng-version",M0.full]);else{const{attrs:f,classes:g}=function XI(o){const a=[],l=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&l.push(g);else{if(!Xs(f))break;f=g}d++}return{attrs:a,classes:l}}(a.selectors[0]);f&&wa(o,l,f),g&&g.length>0&&vo(o,l,g.join(" "))}}(R,_t,B,d),void 0!==l&&function Uy(o,a,l){const d=o.projection=[];for(let f=0;f<a.length;f++){const g=l[f];d.push(null!=g?Array.from(g):null)}}(nt,this.ngContentSelectors,l),je=function By(o,a,l,d,f,g){const v=ur(),C=f[Je],D=Cr(v,f);Iy(C,f,v,l,null,d);for(let O=0;O<l.length;O++)se(Wn(f,C,v.directiveStart+O,v),f);Dy(C,f,v),D&&se(D,f);const R=Wn(f,C,v.directiveStart+v.componentOffset,v);if(o[Bn]=f[Bn]=R,null!==g)for(const O of g)O(R,a);return bp(C,v,o),R}(zn,_t,Vt,Pe,Ce,[wD]),Pl(re,Ce,null)}finally{lc()}return new Vy(this.componentType,je,Ol(nt,Ce),Ce,nt)}}class Vy extends VI{constructor(a,l,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Mk(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const g=this._rootLView;yw(g[Je],g,f,a,l),ky(cr(this._tNode.index,g))}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function wD(){const o=ur();uc(_e()[Je],o)}function fg(o){let a=function Ip(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let f;if(Di(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ve(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const v=o;v.inputs=pg(o.inputs),v.declaredInputs=pg(o.declaredInputs),v.outputs=pg(o.outputs);const C=f.hostBindings;C&&kk(o,C);const D=f.viewQuery,R=f.contentQueries;if(D&&Nh(o,D),R&&Rk(o,R),Ee(o.inputs,f.inputs),Ee(o.declaredInputs,f.declaredInputs),Ee(o.outputs,f.outputs),Di(f)&&f.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===fg&&(l=!1)}}a=Object.getPrototypeOf(a)}!function bw(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Ps(f.hostAttrs,l=Ps(l,f.hostAttrs))}}(d)}function pg(o){return o===ne?{}:o===Ue?[]:o}function Nh(o,a){const l=o.viewQuery;o.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function Rk(o,a){const l=o.contentQueries;o.contentQueries=l?(d,f,g)=>{a(d,f,g),l(d,f,g)}:a}function kk(o,a){const l=o.hostBindings;o.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}function ad(o){return!!gg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function gg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function eo(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Cw(o,a,l,d){const f=_e();return eo(f,Ms(),a)&&(jt(),Js(An(),f,o,a,l,d)),Cw}function Gy(o,a,l,d,f,g,v,C){const D=_e(),R=jt(),O=o+Cn,B=R.firstCreatePass?function MD(o,a,l,d,f,g,v,C,D){const R=a.consts,O=vp(a,o,4,v||null,cs(R,C));sg(a,l,O,cs(R,D)),uc(a,O);const B=O.tView=Hc(2,O,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,R);return null!==a.queries&&(a.queries.template(a,O),B.queries=a.queries.embeddedTView(O)),O}(O,R,D,a,l,d,f,g,v):R.data[O];ii(B,!1);const W=D[Gt].createComment("");Dl(R,D,W,B),se(W,D),Ry(D,D[O]=wp(W,D,W,B)),mu(B)&&Ey(R,D,B),null!=v&&Cy(D,B,C)}function qy(o){return function Gr(o,a){return o[a]}(function Mm(){return Lt.lFrame.contextLView}(),Cn+o)}function Mp(o,a,l){const d=_e();return eo(d,Ms(),a)&&bo(jt(),An(),d,o,a,d[Gt],l,!1),Mp}function Hh(o,a,l,d,f){const v=f?"class":"style";yw(o,l,a.inputs[v],v,d)}function Rp(o,a,l,d){const f=_e(),g=jt(),v=Cn+o,C=f[Gt],D=g.firstCreatePass?function kD(o,a,l,d,f,g){const v=a.consts,D=vp(a,o,2,d,cs(v,f));return sg(a,l,D,cs(v,g)),null!==D.attrs&&Ny(D,D.attrs,!1),null!==D.mergedAttrs&&Ny(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(v,g,f,a,l,d):g.data[v],R=f[v]=Kf(C,a,function Kd(){return Lt.lFrame.currentNamespace}()),O=mu(D);return ii(D,!0),Qu(C,R,D),32!=(32&D.flags)&&Dl(g,f,R,D),0===function jd(){return Lt.lFrame.elementDepthCount}()&&se(R,f),function ec(){Lt.lFrame.elementDepthCount++}(),O&&(Ey(g,f,D),bp(g,D,f)),null!==d&&Cy(f,D),Rp}function _g(){let o=ur();Gd()?rc():(o=o.parent,ii(o,!1));const a=o;!function zd(){Lt.lFrame.elementDepthCount--}();const l=jt();return l.firstCreatePass&&(uc(l,o),Ya(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function cl(o){return 0!=(8&o.flags)}(a)&&Hh(l,a,_e(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Rs(o){return 0!=(16&o.flags)}(a)&&Hh(l,a,_e(),a.stylesWithoutHost,!1),_g}function Iw(o,a,l,d){return Rp(o,a,l,d),_g(),Iw}function Zy(){return _e()}function kp(o){return!!o&&"function"==typeof o.then}function Tw(o){return!!o&&"function"==typeof o.subscribe}const Ky=Tw;function Yy(o,a,l,d){const f=_e(),g=jt(),v=ur();return vg(g,f,f[Gt],v,o,a,d),Yy}function Bl(o,a){const l=ur(),d=_e(),f=jt();return vg(f,d,_w(ya(f.data),l,d),l,o,a),Bl}function vg(o,a,l,d,f,g,v){const C=mu(d),R=o.firstCreatePass&&cg(o),O=a[Bn],B=gw(a);let W=!0;if(3&d.type||v){const je=Cr(d,a),nt=v?v(je):je,_t=B.length,Vt=v?Ut=>v(Er(Ut[d.index])):d.index;let Pe=null;if(!v&&C&&(Pe=function OD(o,a,l,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===l&&f[g+1]===d){const C=a[Ro],D=f[g+2];return C.length>D?C[D]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,d.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=g,Pe.__ngLastListenerFn__=g,W=!1;else{g=bg(d,a,O,g,!1);const Ut=l.listen(nt,f,g);B.push(g,Ut),R&&R.push(f,Vt,_t,_t+1)}}else g=bg(d,a,O,g,!1);const re=d.outputs;let Ce;if(W&&null!==re&&(Ce=re[f])){const je=Ce.length;if(je)for(let nt=0;nt<je;nt+=2){const zn=a[Ce[nt]][Ce[nt+1]].subscribe(g),Tr=B.length;B.push(g,zn),R&&R.push(f,d.index,Tr,-(Tr+1))}}}function Aw(o,a,l,d){try{return ri(6,a,l),!1!==l(d)}catch(f){return _D(o,f),!1}finally{ri(7,a,l)}}function bg(o,a,l,d,f){return function g(v){if(v===Function)return d;ky(o.componentOffset>-1?cr(o.index,a):a);let D=Aw(a,l,d,v),R=g.__ngNextListenerFn__;for(;R;)D=Aw(a,l,R,v)&&D,R=R.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Qy(o=1){return function Of(o){return(Lt.lFrame.contextLView=function cc(o,a){for(;o>0;)a=a[os],o--;return a}(o,Lt.lFrame.contextLView))[Bn]}(o)}function PD(o,a){let l=null;const d=function eg(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?mp(o,g,!0):KI(d,g))return f}else l=f}return l}function jh(o){const a=_e()[qn][er];if(!a.projection){const d=a.projection=wc(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=o?PD(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function Mw(o,a=0,l){const d=_e(),f=jt(),g=vp(f,Cn+o,16,null,l||null);null===g.projection&&(g.projection=a),rc(),32!=(32&g.flags)&&function Xf(o,a,l){Jf(a[Gt],0,a,l,Pc(o,l,a),fh(l.parent||a[er],l,a))}(f,d,g)}function Op(o,a){return o<<17|a<<2}function Ul(o){return o>>17&32767}function Cg(o){return 2|o}function dd(o){return(131068&o)>>2}function xg(o,a){return-131069&o|a<<2}function tv(o){return 1|o}function Lw(o,a,l,d,f){const g=o[l+1],v=null===a;let C=d?Ul(g):dd(g),D=!1;for(;0!==C&&(!1===D||v);){const O=o[C+1];Vw(o[C],a)&&(D=!0,o[C+1]=d?tv(O):Cg(O)),C=d?Ul(O):dd(O)}D&&(o[l+1]=d?Cg(g):tv(g))}function Vw(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&_i(o,a)>=0}function Uw(o,a,l){return Zr(o,a,l,!1),Uw}function iv(o,a){return Zr(o,a,null,!0),iv}function Zr(o,a,l,d){const f=_e(),g=jt(),v=function Ti(o){const a=Lt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}(2);g.firstUpdatePass&&function jw(o,a,l,d){const f=o.data;if(null===f[l+1]){const g=f[Pr()],v=function Hw(o,a){return a>=o.expandoStartIndex}(o,l);(function Ag(o,a){return 0!=(o.flags&(a?8:16))})(g,d)&&null===a&&!v&&(a=!1),a=function GD(o,a,l,d){const f=ya(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=Tg(l=Fa(null,o,a,l,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(l=Fa(f,o,a,l,d),null===g){let D=function qD(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==dd(d))return o[Ul(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=Fa(null,o,a,D[1],d),D=Tg(D,a.attrs,d),function zw(o,a,l,d){o[Ul(l?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else g=function Sg(o,a,l){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=Tg(d,o[g].hostAttrs,l);return Tg(d,a.attrs,l)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),l}(f,g,a,d),function BD(o,a,l,d,f,g){let v=g?a.classBindings:a.styleBindings,C=Ul(v),D=dd(v);o[d]=l;let O,R=!1;if(Array.isArray(l)?(O=l[1],(null===O||_i(l,O)>0)&&(R=!0)):O=l,f)if(0!==D){const W=Ul(o[C+1]);o[d+1]=Op(W,C),0!==W&&(o[W+1]=xg(o[W+1],d)),o[C+1]=function FD(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=Op(C,0),0!==C&&(o[C+1]=xg(o[C+1],d)),C=d;else o[d+1]=Op(D,0),0===C?C=d:o[D+1]=xg(o[D+1],d),D=d;R&&(o[d+1]=Cg(o[d+1])),Lw(o,O,d,!0),Lw(o,O,d,!1),function Fw(o,a,l,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&_i(g,a)>=0&&(l[d+1]=tv(l[d+1]))}(a,O,o,d,g),v=Op(C,D),g?a.classBindings=v:a.styleBindings=v}(f,g,a,l,v,d)}}(g,o,v,d),a!==zt&&eo(f,v,a)&&function ov(o,a,l,d,f,g,v,C){if(!(3&a.type))return;const D=o.data,R=D[C+1],O=function LD(o){return 1==(1&o)}(R)?Ww(D,a,l,f,dd(R),v):void 0;Wc(O)||(Wc(g)||function ud(o){return 2==(2&o)}(R)&&(g=Ww(D,null,l,f,C,v)),function ys(o,a,l,d,f){if(a)f?o.addClass(l,d):o.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:It.DashCase;null==f?o.removeStyle(l,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=It.Important),o.setStyle(l,d,f,g))}}(d,v,No(Pr(),l),f,g))}(g,g.data[Pr()],f,f[Gt],o,f[v+1]=function Fr(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=xe(Nr(o)))),o}(a,l),d,v)}function Fa(o,a,l,d,f){let g=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(g=a[C],d=Tg(d,g.hostAttrs,f),g!==o);)C++;return null!==o&&(l.directiveStylingLast=C),d}function Tg(o,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),oi(o,v,!!l||a[++g]))}return void 0===o?null:o}function Ww(o,a,l,d,f,g){const v=null===a;let C;for(;f>0;){const D=o[f],R=Array.isArray(D),O=R?D[1]:D,B=null===O;let W=l[f+1];W===zt&&(W=B?Ue:void 0);let re=B?sn(W,d):O===d?W:void 0;if(R&&!Wc(re)&&(re=sn(D,d)),Wc(re)&&(C=re,v))return C;const Ce=o[f+1];f=v?Ul(Ce):dd(Ce)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(C=sn(D,d))}return C}function Wc(o){return void 0!==o}function Mg(o,a=""){const l=_e(),d=jt(),f=o+Cn,g=d.firstCreatePass?vp(d,f,1,a,null):d.data[f],v=l[f]=function Oc(o,a){return o.createText(a)}(l[Gt],a);Dl(d,l,v,g),ii(g,!1)}function $h(o){return Pp("",o,""),$h}function Pp(o,a,l){const d=_e(),f=function Vh(o,a,l,d){return eo(o,Ms(),l)?a+Fe(l)+d:zt}(d,o,a,l);return f!==zt&&function $c(o,a,l){const d=No(a,o);!function Zf(o,a,l){o.setValue(a,l)}(o[Gt],d,l)}(d,Pr(),f),Pp}function sE(o,a,l){const d=_e();return eo(d,Ms(),a)&&bo(jt(),An(),d,o,a,d[Gt],l,!0),sE}function kg(o,a,l){const d=_e();if(eo(d,Ms(),a)){const g=jt(),v=An();bo(g,v,d,o,a,_w(ya(g.data),v,d),l,!0)}return kg}const pd=void 0;var Wk=["en",[["a","p"],["AM","PM"],pd],[["AM","PM"],pd,pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pd,"{1} 'at' {0}",pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qk(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Np={};function aE(o){const a=function Og(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=nS(a);if(l)return l;const d=a.split("-")[0];if(l=nS(d),l)return l;if("en"===d)return Wk;throw new ve(701,!1)}function tS(o){return aE(o)[Rt.PluralCase]}function nS(o){return o in Np||(Np[o]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[o]),Np[o]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Fp="en-US";let Wh=Fp;function fE(o,a,l,d,f){if(o=Y(o),Array.isArray(o))for(let g=0;g<o.length;g++)fE(o[g],a,l,d,f);else{const g=jt(),v=_e();let C=kl(o)?o:Y(o.provide),D=sy(o);const R=ur(),O=1048575&R.providerIndexes,B=R.directiveStart,W=R.providerIndexes>>20;if(kl(o)||!o.multi){const re=new Bo(D,f,kh),Ce=mE(C,a,f?O:O+W,B);-1===Ce?(vn(Su(R,v),g,C),pE(g,o,a.length),a.push(C),R.directiveStart++,R.directiveEnd++,f&&(R.providerIndexes+=1048576),l.push(re),v.push(re)):(l[Ce]=re,v[Ce]=re)}else{const re=mE(C,a,O+W,B),Ce=mE(C,a,O,O+W),nt=Ce>=0&&l[Ce];if(f&&!nt||!f&&!(re>=0&&l[re])){vn(Su(R,v),g,C);const _t=function VO(o,a,l,d,f){const g=new Bo(o,l,kh);return g.multi=[],g.index=a,g.componentProviders=0,xS(g,f,d&&!l),g}(f?LO:FO,l.length,f,d,D);!f&&nt&&(l[Ce].providerFactory=_t),pE(g,o,a.length,0),a.push(C),R.directiveStart++,R.directiveEnd++,f&&(R.providerIndexes+=1048576),l.push(_t),v.push(_t)}else pE(g,o,re>-1?re:Ce,xS(l[f?Ce:re],D,!f&&d));!f&&d&&nt&&l[Ce].componentProviders++}}}function pE(o,a,l,d){const f=kl(a),g=function Km(o){return!!o.useClass}(a);if(f||g){const D=(g?Y(a.useClass):a).prototype.ngOnDestroy;if(D){const R=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const O=R.indexOf(l);-1===O?R.push(l,[d,D]):R[O+1].push(d,D)}else R.push(l,D)}}}function xS(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function mE(o,a,l,d){for(let f=l;f<d;f++)if(a[f]===o)return f;return-1}function FO(o,a,l,d){return gE(this.multi,[])}function LO(o,a,l,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Wn(l,l[Je],this.providerFactory.index,d);g=C.slice(0,v),gE(f,g);for(let D=v;D<C.length;D++)g.push(C[D])}else g=[],gE(f,g);return g}function gE(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function IS(o,a=[]){return l=>{l.providersResolver=(d,f)=>function NO(o,a,l){const d=jt();if(d.firstCreatePass){const f=Di(o);fE(l,d.data,d.blueprint,f,!0),fE(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Up{}class DS{}function BO(o,a){return new SS(o,a??null)}class SS extends Up{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const d=Jn(a);this._bootstrapComponents=ka(d.bootstrap),this._r3Injector=_y(a,l,[{provide:Up,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver}],xe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class _E extends DS{constructor(a){super(),this.moduleType=a}create(a){return new SS(this.moduleType,a)}}class UO extends Up{constructor(a,l,d){super(),this.componentFactoryResolver=new vw(this),this.instance=null;const f=new x0([...a,{provide:Up,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver}],l||Qm(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function yE(o,a,l=null){return new UO(o,a,l).injector}let HO=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Ch(0,l.type),f=d.length>0?yE([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=gt({token:o,providedIn:"environment",factory:()=>new o(un(id))}),o})();function TS(o){o.getStandaloneInjector=a=>a.get(HO).getOrCreateStandaloneInjector(o)}function NS(o,a,l,d){return function pv(o,a,l,d,f,g){const v=a+l;return eo(o,v,f)?function ea(o,a,l){return o[a]=l}(o,v+1,g?d.call(g,f):d(f)):function Bg(o,a){const l=o[a];return l===zt?void 0:l}(o,v+1)}(_e(),function tr(){const o=Lt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),o,a,l,d)}function jg(o){return a=>{setTimeout(o,void 0,a)}}const to=class sP extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,g=l||(()=>null),v=d;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=jg(g),f&&(f=jg(f)),v&&(v=jg(v)));const C=super.subscribe({next:f,error:g,complete:v});return a instanceof te.w0&&a.add(C),C}};function VS(){return this._results[Symbol.iterator]()}class gv{get changes(){return this._changes||(this._changes=new to)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=gv.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=VS)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=function Zi(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ou(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hp=(()=>{class o{}return o.__NG_ELEMENT_ID__=BS,o})();const _v=Hp,EE=class extends _v{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tView,f=ig(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);f[ha]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[qi];return null!==v&&(f[qi]=v.createEmbeddedView(d)),Pl(d,f,a),new ug(f)}};function BS(){return jp(ur(),_e())}function jp(o,a){return 4&o.type?new EE(a,o,Ol(o,a)):null}let yv=(()=>{class o{}return o.__NG_ELEMENT_ID__=aP,o})();function aP(){return DE(ur(),_e())}const CE=yv,US=class extends CE{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Ol(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const a=Jd(this._hostTNode,this._hostLView);if(Ns(a)){const l=Fs(a,this._hostLView),d=ds(a);return new Ho(l[Je].data[d+8],l)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=xE(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-wr}createEmbeddedView(a,l,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=a.createEmbeddedView(l||{},g);return this.insert(v,f),v}createComponent(a,l,d,f,g){const v=a&&!function bc(o){return"function"==typeof o}(a);let C;if(v)C=l;else{const B=l||{};C=B.index,d=B.injector,f=B.projectableNodes,g=B.environmentInjector||B.ngModuleRef}const D=v?a:new Cp(wt(a)),R=d||this.parentInjector;if(!g&&null==D.ngModule){const W=(v?R:this.parentInjector).get(id,null);W&&(g=W)}const O=D.create(R,f,void 0,g);return this.insert(O.hostView,C),O}insert(a,l){const d=a._lView,f=d[Je];if(function bu(o){return gi(o[Dn])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const B=d[Dn],W=new US(B,B[er],B[Dn]);W.detach(W.indexOf(a))}}const g=this._adjustIndex(l),v=this._lContainer;!function Cl(o,a,l,d){const f=wr+d,g=l.length;d>0&&(l[f-1][Ii]=a),d<g-wr?(a[Ii]=l[f],zf(l,wr+d,a)):(l.push(a),a[Ii]=null),a[Dn]=l;const v=a[ha];null!==v&&l!==v&&function z_(o,a){const l=o[Ss];a[qn]!==a[Dn][Dn][qn]&&(o[pu]=!0),null===l?o[Ss]=[a]:l.push(a)}(v,a);const C=a[qi];null!==C&&C.insertView(o),a[Ht]|=64}(f,d,v,g);const C=qo(g,v),D=d[Gt],R=Qs(D,v[fa]);return null!==R&&function Fm(o,a,l,d,f,g){d[xi]=f,d[er]=a,Ku(o,d,l,1,f,g)}(f,v[er],D,d,R,C),a.attachToViewContainerRef(),zf(IE(v),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=xE(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=$u(this._lContainer,l);d&&($s(IE(this._lContainer),l),dh(d[Je],d))}detach(a){const l=this._adjustIndex(a,-1),d=$u(this._lContainer,l);return d&&null!=$s(IE(this._lContainer),l)?new ug(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function xE(o){return o[ss]}function IE(o){return o[ss]||(o[ss]=[])}function DE(o,a){let l;const d=a[o.index];if(gi(d))l=d;else{let f;if(8&o.type)f=Er(d);else{const g=a[Gt];f=g.createComment("");const v=Cr(o,a);Ma(g,Qs(g,v),f,function Bm(o,a){return o.nextSibling(a)}(g,v),!1)}a[o.index]=l=wp(d,a,f,o),Ry(a,l)}return new US(l,o,a)}class SE{constructor(a){this.queryList=a,this.matches=null}clone(){return new SE(this.queryList)}setDirty(){this.queryList.setDirty()}}class TE{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new TE(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==GS(a,l).matches&&this.queries[l].setDirty()}}class HS{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class AE{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new AE(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class ME{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new ME(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,l,lP(l,g)),this.matchTNodeWithReadOption(a,l,Vs(l,a,g,!1,!1))}else d===Hp?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Vs(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Sh||f===yv||f===Hp&&4&l.type)this.addMatch(l.index,-2);else{const g=Vs(l,a,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function lP(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function uP(o,a,l,d){return-1===l?function cP(o,a){return 11&o.type?Ol(o,a):4&o.type?jp(o,a):null}(a,o):-2===l?function dP(o,a,l){return l===Sh?Ol(a,o):l===Hp?jp(a,o):l===yv?DE(a,o):void 0}(o,a,d):Wn(o,o[Je],l,a)}function jS(o,a,l,d){const f=a[qi].queries[d];if(null===f.matches){const g=o.data,v=l.matches,C=[];for(let D=0;D<v.length;D+=2){const R=v[D];C.push(R<0?null:uP(a,g[R],v[D+1],l.metadata.read))}f.matches=C}return f.matches}function vv(o,a,l,d){const f=o.queries.getByIndex(l),g=f.matches;if(null!==g){const v=jS(o,a,f,l);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)d.push(v[C/2]);else{const R=g[C+1],O=a[-D];for(let B=wr;B<O.length;B++){const W=O[B];W[ha]===W[Dn]&&vv(W[Je],W,R,d)}if(null!==O[Ss]){const B=O[Ss];for(let W=0;W<B.length;W++){const re=B[W];vv(re[Je],re,R,d)}}}}}return d}function RE(o){const a=_e(),l=jt(),d=wu();oc(d+1);const f=GS(l,d);if(o.dirty&&function Jl(o){return 4==(4&o[Ht])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?vv(l,a,d,[]):jS(l,a,f,d);o.reset(g,hp),o.notifyOnChanges()}return!0}return!1}function kE(o,a,l){const d=jt();d.firstCreatePass&&($S(d,new HS(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),zS(d,_e(),a)}function OE(o,a,l,d){const f=jt();if(f.firstCreatePass){const g=ur();$S(f,new HS(a,l,d),g.index),function hP(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}zS(f,_e(),l)}function PE(){return function NE(o,a){return o[qi].queries[a].queryList}(_e(),wu())}function zS(o,a,l){const d=new gv(4==(4&l));xy(o,a,d,d.destroy),null===a[qi]&&(a[qi]=new TE),a[qi].queries.push(new SE(d))}function $S(o,a,l){null===o.queries&&(o.queries=new AE),o.queries.track(new ME(a,l))}function GS(o,a){return o.queries.getByIndex(a)}function qS(o,a){return jp(o,a)}function zg(o){return!!Jn(o)}function Mv(...o){}const uT=new nn("Application Initializer");let Rv=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Mv,this.reject=Mv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(kp(g))l.push(g);else if(Ky(g)){const v=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(un(uT,8))},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const dT=new nn("AppId",{providedIn:"root",factory:function hT(){return`${HE()}${HE()}${HE()}`}});function HE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fT=new nn("Platform Initializer"),SP=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pT=new nn("AnimationModuleType");let TP=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Kc=new nn("LocaleId",{providedIn:"root",factory:()=>Vn(Kc,bt.Optional|bt.SkipSelf)||function AP(){return typeof $localize<"u"&&$localize.locale||Fp}()}),MP=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jE{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let gT=(()=>{class o{compileModuleSync(l){return new _E(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=ka(Jn(l).declarations).reduce((v,C)=>{const D=wt(C);return D&&v.push(new Cp(D)),v},[]);return new jE(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const yT=(()=>Promise.resolve(0))();function qE(o){typeof Zone>"u"?yT.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ia{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new to(!1),this.onMicrotaskEmpty=new to(!1),this.onStable=new to(!1),this.onError=new to(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function PP(){let o=an.requestAnimationFrame,a=an.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function LP(o){const a=()=>{!function FP(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(an,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ZE(o),o.isCheckStableRunning=!0,WE(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ZE(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,g,v,C)=>{try{return vT(o),l.invokeTask(f,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),bT(o)}},onInvoke:(l,d,f,g,v,C,D)=>{try{return vT(o),l.invoke(f,g,v,C,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),bT(o)}},onHasTask:(l,d,f,g)=>{l.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,ZE(o),WE(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,f,g)=>(l.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ia.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(ia.isInAngularZone())throw new ve(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,NP,Mv,Mv);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const NP={};function WE(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ZE(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function vT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function bT(o){o._nesting--,WE(o)}class VP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new to,this.onMicrotaskEmpty=new to,this.onStable=new to,this.onError=new to}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const wT=new nn(""),ET=new nn("");let $g,BP=(()=>{class o{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$g||(function YE(o){$g=o}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ia.assertNotInAngularZone(),qE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qE(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(un(ia),un(KE),un(ET))},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),o})(),KE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return $g?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Yc=!1;let Qc=null;const QE=new nn("AllowMultipleToken"),XE=new nn("PlatformDestroyListeners"),CT=new nn("appBootstrapListener");class jP{constructor(a,l){this.name=a,this.token=l}}function tC(o,a,l=[]){const d=`Platform: ${a}`,f=new nn(d);return(g=[])=>{let v=nC();if(!v||v.injector.get(QE,!1)){const C=[...l,...g,{provide:f,useValue:!0}];o?o(C):function zP(o){if(Qc&&!Qc.get(QE,!1))throw new ve(400,!1);Qc=o;const a=o.get(rC);(function JE(o){const a=o.get(fT,null);a&&a.forEach(l=>l())})(o)}(function DT(o=[],a){return Ah.create({name:a,providers:[{provide:Uc,useValue:"platform"},{provide:XE,useValue:new Set([()=>Qc=null])},...o]})}(C,d))}return function $P(o){const a=nC();if(!a)throw new ve(401,!1);return a}()}}function nC(){return Qc?.get(rC)??null}let rC=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function Pv(o,a){let l;return l="noop"===o?new VP:("zone.js"===o?void 0:o)||new ia(a),l}(d?.ngZone,function Ov(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:ia,useValue:f}];return f.run(()=>{const v=Ah.create({providers:g,parent:this.injector,name:l.moduleType.name}),C=l.create(v),D=C.injector.get(fp,null);if(!D)throw new ve(402,!1);return f.runOutsideAngular(()=>{const R=f.onError.subscribe({next:O=>{D.handleError(O)}});C.onDestroy(()=>{Lv(this._modules,C),R.unsubscribe()})}),function ST(o,a,l){try{const d=l();return kp(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(D,f,()=>{const R=C.injector.get(Rv);return R.runInitializers(),R.donePromise.then(()=>(function Bp(o){be(o,"Expected localeId to be defined"),"string"==typeof o&&(Wh=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Kc,Fp)||Fp),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const f=Nv({},d);return function xT(o,a,l){const d=new _E(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const d=l.injector.get(Fv);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new ve(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(XE,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(un(Ah))},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Nv(o,a){return Array.isArray(a)?a.reduce(Nv,o):{...o,...a}}let Fv=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new F.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ia.assertNotInAngularZone(),qE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{ia.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(g,v.pipe((0,ue.B)()))}bootstrap(l,d){const f=l instanceof D0;if(!this._injector.get(Rv).done){!f&&br(l);throw new ve(405,Yc)}let v;v=f?l:this._injector.get(Dh).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function HP(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Up),R=v.create(Ah.NULL,[],d||v.selector,C),O=R.location.nativeElement,B=R.injector.get(wT,null);return B?.registerApplication(O),R.onDestroy(()=>{this.detachView(R.hostView),Lv(this.components,R),B?.unregisterApplication(O)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Lv(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(CT,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Lv(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ve(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(un(ia),un(id),un(fp))},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Lv(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}function GP(){return!1}let oC=(()=>{class o{}return o.__NG_ELEMENT_ID__=Vv,o})();function Vv(o){return function WP(o,a,l){if(pa(o)&&!l){const d=cr(o.index,a);return new ug(d,d)}return 47&o.type?new ug(a[qn],a):null}(ur(),_e(),16==(16&o))}class Hv{constructor(){}supports(a){return ad(a)}create(a){return new jv(a)}}const OT=(o,a)=>a;class jv{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||OT}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<FT(d,f,g)?l:d,C=FT(v,f,g),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{g||(g=[]);const R=C-f,O=D-f;if(R!=O){for(let W=0;W<R;W++){const re=W<g.length?g[W]:g[W]=0,Ce=re+W;O<=Ce&&Ce<R&&(g[W]=re+1)}g[v.previousIndex]=O-R}}C!==D&&a(v,C,D)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!ad(a))throw new ve(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,C),d=!0),l=l._next}else f=0,function xD(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Symbol.iterator]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,f)):a=this._addAfter(new XP(l,d),g,f),a}_verifyReinsertion(a,l,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new NT),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class XP{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class NT{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new PT,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FT(o,a,l){const d=o.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class LT{constructor(){}supports(a){return a instanceof Map||gg(a)}create(){return new hC}}class hC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||gg(a)))throw new ve(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new JP(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class JP{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zv(){return new fC([new Hv])}let fC=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||zv()),deps:[[o,new ht,new vl]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new ve(901,!1)}}return o.\u0275prov=gt({token:o,providedIn:"root",factory:zv}),o})();function pC(){return new $v([new LT])}let $v=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||pC()),deps:[[o,new ht,new vl]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new ve(901,!1)}}return o.\u0275prov=gt({token:o,providedIn:"root",factory:pC}),o})();const UT=tC(null,"core",[]);let HT=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(un(Fv))},o.\u0275mod=ie({type:o}),o.\u0275inj=vt({}),o})();function mC(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Et,Te,L)=>{L.d(Te,{Z:()=>Xe});var u=L(2090),te=L(4859),F=L(6881),ce=L(1877);class ue{constructor(ve,Ne){this._delegate=ve,this.firebase=Ne,(0,F._addComponent)(ve,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ve,Ne=F._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(ve);return!ze.isInitialized()&&"EXPLICIT"===(null===(Fe=ze.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Ne})}_removeServiceInstance(ve,Ne=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Ne)}_addComponent(ve){(0,F._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,F._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ye(){const ut=function xe(ut){const ve={},Ne={__esModule:!0,initializeApp:function Le(Be,lt={}){const le=F.initializeApp(Be,lt);if((0,u.r3)(ve,le.name))return ve[le.name];const At=new ut(le,Ne);return ve[le.name]=At,At},app:ze,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function De(Be){const lt=Be.name,le=lt.replace("-compat","");if(F._registerComponent(Be)&&"PUBLIC"===Be.type){const At=(it=ze())=>{if("function"!=typeof it[le])throw Ee.create("invalid-app-argument",{appName:lt});return it[le]()};void 0!==Be.serviceProps&&(0,u.ZB)(At,Be.serviceProps),Ne[le]=At,ut.prototype[le]=function(...it){return this._getService.bind(this,lt).apply(this,Be.multipleInstances?it:[])}}return"PUBLIC"===Be.type?Ne[le]:null},removeApp:function Fe(Be){delete ve[Be]},useAsService:function Ke(Be,lt){return"serverAuth"===lt?null:lt},modularAPIs:F}};function ze(Be){if(!(0,u.r3)(ve,Be=Be||F._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Be});return ve[Be]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function Ie(){return Object.keys(ve).map(Be=>ve[Be])}}),ze.App=ut,Ne}(ue);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function ve(Ne){(0,u.ZB)(ut,Ne)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ut}(),$=new ce.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=G;!function Ae(ut){(0,F.registerVersion)("@firebase/app-compat","0.2.13",ut)}()},6881:(Et,Te,L)=>{L.r(Te),L.d(Te,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>Jr,_addComponent:()=>ct,_addOrOverwriteComponent:()=>Ft,_apps:()=>an,_clearComponents:()=>ei,_components:()=>cn,_getProvider:()=>di,_registerComponent:()=>Ei,_removeServiceInstance:()=>vr,deleteApp:()=>Ci,getApp:()=>uo,getApps:()=>un,initializeApp:()=>tn,onLog:()=>zi,registerVersion:()=>Xn,setLogLevel:()=>In});var u=L(5861),te=L(4859),F=L(1877),ce=L(2090);const ue=(me,ie)=>ie.some(Ve=>me instanceof Ve);let J,Ee;const G=new WeakMap,$=new WeakMap,Y=new WeakMap,Ge=new WeakMap,Ae=new WeakMap;let ve={get(me,ie,Ve){if(me instanceof IDBTransaction){if("done"===ie)return $.get(me);if("objectStoreNames"===ie)return me.objectStoreNames||Y.get(me);if("store"===ie)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Le(me[ie])},set:(me,ie,Ve)=>(me[ie]=Ve,!0),has:(me,ie)=>me instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in me};function ze(me){return"function"==typeof me?function Fe(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...ie){return me.apply(Ie(this),ie),Le(G.get(this))}:function(...ie){return Le(me.apply(Ie(this),ie))}:function(ie,...Ve){const yt=me.call(Ie(this),ie,...Ve);return Y.set(yt,ie.sort?ie.sort():[ie]),Le(yt)}}(me):(me instanceof IDBTransaction&&function ut(me){if($.has(me))return;const ie=new Promise((Ve,yt)=>{const St=()=>{me.removeEventListener("complete",qt),me.removeEventListener("error",wt),me.removeEventListener("abort",wt)},qt=()=>{Ve(),St()},wt=()=>{yt(me.error||new DOMException("AbortError","AbortError")),St()};me.addEventListener("complete",qt),me.addEventListener("error",wt),me.addEventListener("abort",wt)});$.set(me,ie)}(me),ue(me,function xe(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,ve):me)}function Le(me){if(me instanceof IDBRequest)return function Xe(me){const ie=new Promise((Ve,yt)=>{const St=()=>{me.removeEventListener("success",qt),me.removeEventListener("error",wt)},qt=()=>{Ve(Le(me.result)),St()},wt=()=>{yt(me.error),St()};me.addEventListener("success",qt),me.addEventListener("error",wt)});return ie.then(Ve=>{Ve instanceof IDBCursor&&G.set(Ve,me)}).catch(()=>{}),Ae.set(ie,me),ie}(me);if(Ge.has(me))return Ge.get(me);const ie=ze(me);return ie!==me&&(Ge.set(me,ie),Ae.set(ie,me)),ie}const Ie=me=>Ae.get(me),Be=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],le=new Map;function At(me,ie){if(!(me instanceof IDBDatabase)||ie in me||"string"!=typeof ie)return;if(le.get(ie))return le.get(ie);const Ve=ie.replace(/FromIndex$/,""),yt=ie!==Ve,St=lt.includes(Ve);if(!(Ve in(yt?IDBIndex:IDBObjectStore).prototype)||!St&&!Be.includes(Ve))return;const qt=function(){var wt=(0,u.Z)(function*(ln,...on){const br=this.transaction(ln,St?"readwrite":"readonly");let Jn=br.store;return yt&&(Jn=Jn.index(on.shift())),(yield Promise.all([Jn[Ve](...on),St&&br.done]))[0]});return function(on){return wt.apply(this,arguments)}}();return le.set(ie,qt),qt}!function Ne(me){ve=me(ve)}(me=>({...me,get:(ie,Ve,yt)=>At(ie,Ve)||me.get(ie,Ve,yt),has:(ie,Ve)=>!!At(ie,Ve)||me.has(ie,Ve)}));class it{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Kt(me){return"VERSION"===me.getComponent()?.type}(Ve)){const yt=Ve.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const dt="@firebase/app",li=new F.Yd("@firebase/app"),Jr="[DEFAULT]",co={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,cn=new Map;function ct(me,ie){try{me.container.addComponent(ie)}catch(Ve){li.debug(`Component ${ie.name} failed to register with FirebaseApp ${me.name}`,Ve)}}function Ft(me,ie){me.container.addOrOverwriteComponent(ie)}function Ei(me){const ie=me.name;if(cn.has(ie))return li.debug(`There were multiple attempts to register component ${ie}.`),!1;cn.set(ie,me);for(const Ve of an.values())ct(Ve,me);return!0}function di(me,ie){const Ve=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),me.container.getProvider(ie)}function vr(me,ie,Ve=Jr){di(me,ie).clearInstance(Ve)}function ei(){cn.clear()}const hi=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(ie,Ve,yt){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}const is="9.23.0";function tn(me,ie={}){let Ve=me;"object"!=typeof ie&&(ie={name:ie});const yt=Object.assign({name:Jr,automaticDataCollectionEnabled:!1},ie),St=yt.name;if("string"!=typeof St||!St)throw hi.create("bad-app-name",{appName:String(St)});if(Ve||(Ve=(0,ce.aH)()),!Ve)throw hi.create("no-options");const qt=an.get(St);if(qt){if((0,ce.vZ)(Ve,qt.options)&&(0,ce.vZ)(yt,qt.config))return qt;throw hi.create("duplicate-app",{appName:St})}const wt=new te.H0(St);for(const on of cn.values())wt.addComponent(on);const ln=new yn(Ve,yt,wt);return an.set(St,ln),ln}function uo(me=Jr){const ie=an.get(me);if(!ie&&me===Jr&&(0,ce.aH)())return tn();if(!ie)throw hi.create("no-app",{appName:me});return ie}function un(){return Array.from(an.values())}function Ci(me){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(me){const ie=me.name;an.has(ie)&&(an.delete(ie),yield Promise.all(me.container.getProviders().map(Ve=>Ve.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Xn(me,ie,Ve){var yt;let St=null!==(yt=co[me])&&void 0!==yt?yt:me;Ve&&(St+=`-${Ve}`);const qt=St.match(/\s|\//),wt=ie.match(/\s|\//);if(qt||wt){const ln=[`Unable to register library "${St}" with version "${ie}":`];return qt&&ln.push(`library name "${St}" contains illegal characters (whitespace or "/")`),qt&&wt&&ln.push("and"),wt&&ln.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void li.warn(ln.join(" "))}Ei(new te.wA(`${St}-version`,()=>({library:St,version:ie}),"VERSION"))}function zi(me,ie){if(null!==me&&"function"!=typeof me)throw hi.create("invalid-log-argument");(0,F.Am)(me,ie)}function In(me){(0,F.Ub)(me)}const $i="firebase-heartbeat-database",ti=1,z="firebase-heartbeat-store";let U=null;function K(){return U||(U=function De(me,ie,{blocked:Ve,upgrade:yt,blocking:St,terminated:qt}={}){const wt=indexedDB.open(me,ie),ln=Le(wt);return yt&&wt.addEventListener("upgradeneeded",on=>{yt(Le(wt.result),on.oldVersion,on.newVersion,Le(wt.transaction),on)}),Ve&&wt.addEventListener("blocked",on=>Ve(on.oldVersion,on.newVersion,on)),ln.then(on=>{qt&&on.addEventListener("close",()=>qt()),St&&on.addEventListener("versionchange",br=>St(br.oldVersion,br.newVersion,br))}).catch(()=>{}),ln}($i,ti,{upgrade:(me,ie)=>{0===ie&&me.createObjectStore(z)}}).catch(me=>{throw hi.create("idb-open",{originalErrorMessage:me.message})})),U}function ne(){return(ne=(0,u.Z)(function*(me){try{return yield(yield K()).transaction(z).objectStore(z).get(rn(me))}catch(ie){if(ie instanceof ce.ZR)li.warn(ie.message);else{const Ve=hi.create("idb-get",{originalErrorMessage:ie?.message});li.warn(Ve.message)}}})).apply(this,arguments)}function Ue(me,ie){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(me,ie){try{const yt=(yield K()).transaction(z,"readwrite");yield yt.objectStore(z).put(ie,rn(me)),yield yt.done}catch(Ve){if(Ve instanceof ce.ZR)li.warn(Ve.message);else{const yt=hi.create("idb-set",{originalErrorMessage:Ve?.message});li.warn(yt.message)}}})).apply(this,arguments)}function rn(me){return`${me.name}!${me.options.appId}`}class pn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Gi(Ve),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var ie=this;return(0,u.Z)(function*(){const yt=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=Qt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==St&&!ie._heartbeatsCache.heartbeats.some(qt=>qt.date===St))return ie._heartbeatsCache.heartbeats.push({date:St,agent:yt}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(qt=>{const wt=new Date(qt.date).valueOf();return Date.now()-wt<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,u.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Ve=Qt(),{heartbeatsToSend:yt,unsentEntries:St}=function zr(me,ie=1024){const Ve=[];let yt=me.slice();for(const St of me){const qt=Ve.find(wt=>wt.agent===St.agent);if(qt){if(qt.dates.push(St.date),ho(Ve)>ie){qt.dates.pop();break}}else if(Ve.push({agent:St.agent,dates:[St.date]}),ho(Ve)>ie){Ve.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:yt}}(ie._heartbeatsCache.heartbeats),qt=(0,ce.L)(JSON.stringify({version:2,heartbeats:yt}));return ie._heartbeatsCache.lastSentHeartbeatDate=Ve,St.length>0?(ie._heartbeatsCache.heartbeats=St,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),qt})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class Gi{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,u.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function we(me){return ne.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Ve=this;return(0,u.Z)(function*(){var yt;if(yield Ve._canUseIndexedDBPromise){const qt=yield Ve.read();return Ue(Ve.app,{lastSentHeartbeatDate:null!==(yt=ie.lastSentHeartbeatDate)&&void 0!==yt?yt:qt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Ve=this;return(0,u.Z)(function*(){var yt;if(yield Ve._canUseIndexedDBPromise){const qt=yield Ve.read();return Ue(Ve.app,{lastSentHeartbeatDate:null!==(yt=ie.lastSentHeartbeatDate)&&void 0!==yt?yt:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...ie.heartbeats]})}})()}}function ho(me){return(0,ce.L)(JSON.stringify({version:2,heartbeats:me})).length}!function qa(me){Ei(new te.wA("platform-logger",ie=>new it(ie),"PRIVATE")),Ei(new te.wA("heartbeat",ie=>new pn(ie),"PRIVATE")),Xn(dt,"0.9.13",me),Xn(dt,"0.9.13","esm2017"),Xn("fire-js","")}("")},4859:(Et,Te,L)=>{L.d(Te,{H0:()=>xe,wA:()=>F});var u=L(5861),te=L(2090);class F{constructor(G,$,Y){this.name=G,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ce="[DEFAULT]";class ue{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const Y=new te.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:$});Ge&&Y.resolve(Ge)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const Y=this.normalizeInstanceIdentifier(G?.identifier),Ge=null!==($=G?.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ae){if(Ge)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function Ee(ye){return"EAGER"===ye.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[$,Y]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ge});Y.resolve(Ae)}catch{}}}}clearInstance(G=ce){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ce){return this.instances.has(G)}getOptions(G=ce){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[Ae,Xe]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ae)&&Xe.resolve(Ge);return Ge}onInit(G,$){var Y;const Ge=this.normalizeInstanceIdentifier($),Ae=null!==(Y=this.onInitCallbacks.get(Ge))&&void 0!==Y?Y:new Set;Ae.add(G),this.onInitCallbacks.set(Ge,Ae);const Xe=this.instances.get(Ge);return Xe&&G(Xe,Ge),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,$){const Y=this.onInitCallbacks.get($);if(Y)for(const Ge of Y)try{Ge(G,$)}catch{}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=G,ye===ce?void 0:ye),options:$}),this.instances.set(G,Y),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var ye;return Y||null}normalizeInstanceIdentifier(G=ce){return this.component?this.component.multipleInstances?G:ce:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new ue(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Et,Te,L)=>{L.d(Te,{Am:()=>ye,Ub:()=>xe,Yd:()=>Ee,in:()=>te});const u=[];var te=(()=>{return(G=te||(te={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",te;var G})();const F={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ce=te.INFO,ue={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},J=(G,$,...Y)=>{if($<G.logLevel)return;const Ge=(new Date).toISOString(),Ae=ue[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${Ge}]  ${G.name}:`,...Y)};class Ee{constructor($){this.name=$,this._logLevel=ce,this._logHandler=J,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in te))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?F[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...$),this._logHandler(this,te.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...$),this._logHandler(this,te.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,te.INFO,...$),this._logHandler(this,te.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,te.WARN,...$),this._logHandler(this,te.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...$),this._logHandler(this,te.ERROR,...$)}}function xe(G){u.forEach($=>{$.setLogLevel(G)})}function ye(G,$){for(const Y of u){let Ge=null;$&&$.level&&(Ge=F[$.level]),Y.userLogHandler=null===G?null:(Ae,Xe,...ut)=>{const ve=ut.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Xe>=(Ge??Ae.logLevel)&&G({level:te[Xe].toLowerCase(),message:ve,args:ut,type:Ae.name})}}}},259:(Et,Te,L)=>{L.d(Te,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=L(6881);(0,u.registerVersion)("firebase","9.23.0","app")},9260:(Et,Te,L)=>{L.d(Te,{Z:()=>u.Z});var u=L(3942);u.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(Et,Te,L)=>{L.r(Te);var u=L(5861),te=L(3942),F=L(2090),ce=L(6881),ue=L(7582),J=L(1877),Ee=L(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y_EMAIL_SIGNIN="EMAIL_SIGNIN",Y_PASSWORD_RESET="PASSWORD_RESET",Y_RECOVER_EMAIL="RECOVER_EMAIL",Y_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Y_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Y_VERIFY_EMAIL="VERIFY_EMAIL";const Xe=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ut=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new J.Yd("@firebase/auth");function Le(y,...p){Fe.logLevel<=J.in.ERROR&&Fe.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Ie(y,...p){throw lt(y,...p)}function De(y,...p){return lt(y,...p)}function Ke(y,p,m){const w=Object.assign(Object.assign({},ut()),{[p]:m});return new F.LL("auth","Firebase",w).create(p,{appName:y.name})}function Be(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ie(y,"argument-error"),Ke(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return ve.create(y,...p)}function le(y,p,...m){if(!y)throw lt(p,...m)}function At(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function it(y,p){y||At(p)}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function dt(){return"http:"===rs()||"https:"===rs()}function rs(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class lo{constructor(p,m){this.shortDelay=p,this.longDelay=m,it(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function li(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function he(y,p){it(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class pe{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},de=new lo(3e4,6e4);function Me(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Se(y,p,m,w){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(y,p,m,w,S={}){return gt(y,S,(0,u.Z)(function*(){let k={},j={};w&&("GET"===p?j=w:k={body:JSON.stringify(w)});const ee=(0,F.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Oe=yield y._getAdditionalHeaders();return Oe["Content-Type"]="application/json",y.languageCode&&(Oe["X-Firebase-Locale"]=y.languageCode),pe.fetch()(Sn(y,y.config.apiHost,m,ee),Object.assign({method:p,headers:Oe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function gt(y,p,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},be),p);try{const S=new En(y),k=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const j=yield k.json();if("needConfirmation"in j)throw $n(y,"account-exists-with-different-credential",j);if(k.ok&&!("errorMessage"in j))return j;{const ee=k.ok?j.errorMessage:j.error.message,[Oe,We]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw $n(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Oe)throw $n(y,"email-already-in-use",j);if("USER_DISABLED"===Oe)throw $n(y,"user-disabled",j);const ot=w[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ke(y,ot,We);Ie(y,ot)}}catch(S){if(S instanceof F.ZR)throw S;Ie(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function vt(y,p,m,w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(y,p,m,w,S={}){const k=yield Se(y,p,m,w,S);return"mfaPendingCredential"in k&&Ie(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Sn(y,p,m,w){const S=`${p}${m}?${w}`;return y.config.emulator?he(y.config,S):`${y.config.apiScheme}://${S}`}class En{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(De(this.auth,"network-request-failed")),de.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=De(y,p,w);return S.customData._tokenResponse=m,S}function Ln(){return(Ln=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ui(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Jr(){return(Jr=(0,u.Z)(function*(y,p=!1){const m=(0,F.m9)(y),w=yield m.getIdToken(p),S=an(w);le(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,j=k?.sign_in_provider;return{claims:S,token:w,authTime:ui(co(S.auth_time)),issuedAtTime:ui(co(S.iat)),expirationTime:ui(co(S.exp)),signInProvider:j||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function co(y){return 1e3*Number(y)}function an(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,F.tV)(m);return S?JSON.parse(S):(Le("Failed to decode base64 JWT payload"),null)}catch(S){return Le("Caught error parsing JWT payload as JSON",S?.toString()),null}}function ct(y,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof F.ZR&&function Ei({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class di{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class vr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(y){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,u.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),S=yield ct(y,function jr(y,p){return bt.apply(this,arguments)}(m,{idToken:w}));le(S?.users.length,m,"internal-error");const k=S.users[0];y._notifyReloadListener(k);const j=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?function tn(y){return y.map(p=>{var{providerId:m}=p,w=(0,ue._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(k.providerUserInfo):[],ee=function is(y,p){return[...y.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}(y.providerData,j),ot=!!y.isAnonymous&&!(y.email&&k.passwordHash||ee?.length),at={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ee,metadata:new vr(k.createdAt,k.lastLoginAt),isAnonymous:ot};Object.assign(y,at)}),Nn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(y){const p=(0,F.m9)(y);yield ei(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(y,p){const m=yield gt(y,{},(0,u.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=y.config,j=Sn(y,S,"/v1/token",`key=${k}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(j,{method:"POST",headers:ee,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function cn(y){const p=an(y);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,u.Z)(function*(){return le(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:j}=yield function uo(y,p){return un.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(S,k,Number(j))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:S,expirationTime:k}=m,j=new Ci;return w&&(le("string"==typeof w,"internal-error",{appName:p}),j.refreshToken=w),S&&(le("string"==typeof S,"internal-error",{appName:p}),j.accessToken=S),k&&(le("number"==typeof k,"internal-error",{appName:p}),j.expirationTime=k),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ci,this.toJSON())}_performRefresh(){return At("not implemented")}}function Vn(y,p){le("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Xn{constructor(p){var{uid:m,auth:w,stsTokenManager:S}=p,k=(0,ue._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new vr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const w=yield ct(m,m.stsTokenManager.getToken(m.auth,p));return le(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function kr(y){return Jr.apply(this,arguments)}(this,p)}reload(){return function hi(y){return yn.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Xn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield ei(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield ct(p,function yr(y,p){return Ln.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,S,k,j,ee,Oe,We,ot;const at=null!==(w=m.displayName)&&void 0!==w?w:void 0,Rn=null!==(S=m.email)&&void 0!==S?S:void 0,Zo=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,ed=null!==(j=m.photoURL)&&void 0!==j?j:void 0,Y_=null!==(ee=m.tenantId)&&void 0!==ee?ee:void 0,kn=null!==(Oe=m._redirectEventId)&&void 0!==Oe?Oe:void 0,cp=null!==(We=m.createdAt)&&void 0!==We?We:void 0,Zm=null!==(ot=m.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:td,emailVerified:nd,isAnonymous:Ji,providerData:bh,stsTokenManager:Bc}=m;le(td&&Bc,p,"internal-error");const Q_=Ci.fromJSON(this.name,Bc);le("string"==typeof td,p,"internal-error"),Vn(at,p.name),Vn(Rn,p.name),le("boolean"==typeof nd,p,"internal-error"),le("boolean"==typeof Ji,p,"internal-error"),Vn(Zo,p.name),Vn(ed,p.name),Vn(Y_,p.name),Vn(kn,p.name),Vn(cp,p.name),Vn(Zm,p.name);const wh=new Xn({uid:td,auth:p,email:Rn,emailVerified:nd,displayName:at,isAnonymous:Ji,photoURL:ed,phoneNumber:Zo,tenantId:Y_,stsTokenManager:Q_,createdAt:cp,lastLoginAt:Zm});return bh&&Array.isArray(bh)&&(wh.providerData=bh.map(X_=>Object.assign({},X_))),kn&&(wh._redirectEventId=kn),wh}static _fromIdTokenResponse(p,m,w=!1){return(0,u.Z)(function*(){const S=new Ci;S.updateFromServerResponse(m);const k=new Xn({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield ei(k),k})()}}const zi=new Map;function In(y){it(y instanceof Function,"Expected a class definition");let p=zi.get(y);return p?(it(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,zi.set(y,p),p)}const ti=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,u.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,u.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,u.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function z(y,p,m){return`firebase:${y}:${p}:${m}`}class U{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:S,name:k}=this.auth;this.fullUserKey=z(this.userKey,S.apiKey,k),this.fullPersistenceKey=z("persistence",S.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Xn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,u.Z)(function*(){if(!m.length)return new U(In(ti),p,w);const S=(yield Promise.all(m.map(function(){var We=(0,u.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return We.apply(this,arguments)}}()))).filter(We=>We);let k=S[0]||In(ti);const j=z(w,p.config.apiKey,p.name);let ee=null;for(const We of m)try{const ot=yield We._get(j);if(ot){const at=Xn._fromJSON(p,ot);We!==k&&(ee=at),k=We;break}}catch{}const Oe=S.filter(We=>We._shouldAllowMigration);return k._shouldAllowMigration&&Oe.length?(k=Oe[0],ee&&(yield k._set(j,ee.toJSON())),yield Promise.all(m.map(function(){var We=(0,u.Z)(function*(ot){if(ot!==k)try{yield ot._remove(j)}catch{}});return function(ot){return We.apply(this,arguments)}}())),new U(k,p,w)):new U(k,p,w)})()}}function K(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Mt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(we(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Gn(p))return"Blackberry";if(Tn(p))return"Webos";if(ne(p))return"Safari";if((p.includes("chrome/")||Ue(p))&&!p.includes("edge/"))return"Chrome";if(rn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function we(y=(0,F.z$)()){return/firefox\//i.test(y)}function ne(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ue(y=(0,F.z$)()){return/crios\//i.test(y)}function Mt(y=(0,F.z$)()){return/iemobile/i.test(y)}function rn(y=(0,F.z$)()){return/android/i.test(y)}function Gn(y=(0,F.z$)()){return/blackberry/i.test(y)}function Tn(y=(0,F.z$)()){return/webos/i.test(y)}function pn(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ho(y=(0,F.z$)()){return pn(y)||rn(y)||Tn(y)||Gn(y)||/windows phone/i.test(y)||Mt(y)}function me(y,p=[]){let m;switch(y){case"Browser":m=K((0,F.z$)());break;case"Worker":m=`${K((0,F.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ce.SDK_VERSION}/${w}`}function Ve(){return(Ve=(0,u.Z)(function*(y){return(yield Se(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yt(y,p){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(y,p){return Se(y,"GET","/v2/recaptchaConfig",Me(y,p))})).apply(this,arguments)}function qt(y){return void 0!==y&&void 0!==y.getResponse}function wt(y){return void 0!==y&&void 0!==y.enterprise}class ln{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function br(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=S=>{const k=De("internal-error");k.customData=S,m(k)},w.type="text/javascript",w.charset="UTF-8",function on(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Jn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Is="NO_RECAPTCHA";class xi{constructor(p){this.type="recaptcha-enterprise",this.auth=mn(p)}verify(p="verify",m=!1){var w=this;return(0,u.Z)(function*(){function k(){return k=(0,u.Z)(function*(ee){if(!m){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Oe=(0,u.Z)(function*(We,ot){yt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(at=>{if(void 0!==at.recaptchaKey){const Rn=new ln(at);return null==ee.tenantId?ee._agentRecaptchaConfig=Rn:ee._tenantRecaptchaConfigs[ee.tenantId]=Rn,We(Rn.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(at=>{ot(at)})});return function(We,ot){return Oe.apply(this,arguments)}}())}),k.apply(this,arguments)}function j(ee,Oe,We){const ot=window.grecaptcha;wt(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(ee,{action:p}).then(at=>{Oe(at)}).catch(()=>{Oe(Is)})}):We(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Oe)=>{(function S(ee){return k.apply(this,arguments)})(w.auth).then(We=>{if(!m&&wt(window.grecaptcha))j(We,ee,Oe);else{if(typeof window>"u")return void Oe(new Error("RecaptchaVerifier is only supported in browser"));br("https://www.google.com/recaptcha/enterprise.js?render="+We).then(()=>{j(We,ee,Oe)}).catch(ot=>{Oe(ot)})}}).catch(We=>{Oe(We)})})})()}}function Je(y,p,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(y,p,m,w=!1){const S=new xi(y);let k;try{k=yield S.verify(m)}catch{k=yield S.verify(m,!0)}const j=Object.assign({},p);return Object.assign(j,w?{captchaResp:k}:{captchaResponse:k}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class Dn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=k=>new Promise((j,ee)=>{try{j(p(k))}catch(Oe){ee(Oe)}});w.onAbort=m,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const S of m.queue)yield S(p),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const k of w)try{k()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Ii{constructor(p,m,w,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new er(this),this.idTokenSubscription=new er(this),this.beforeStateQueue=new Dn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=In(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,k;if(!w._deleted&&(w.persistenceManager=yield U.create(w,p),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var w;const S=yield m.assertedPersistence.getCurrentUser();let k=S,j=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ee=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Oe=k?._redirectEventId,We=yield m.tryRedirectSignIn(p);(!ee||ee===Oe)&&We?.user&&(k=We.user,j=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(j)try{yield m.beforeStateQueue.runMiddleware(k)}catch(ee){k=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ee))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return le(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield ei(p)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function xs(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const w=p?(0,F.m9)(p):null;return w&&le(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return p&&le(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(In(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const m=yield yt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new ln(m);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new xi(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,u.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&In(p)||m._popupRedirectResolver;le(w,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[In(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,S){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),j=this._isInitialized?Promise.resolve():this._initializationPromise;return le(j,this,"internal-error"),j.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,w,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(w["X-Firebase-Client"]=S);const k=yield p._getAppCheckToken();return k&&(w["X-Firebase-AppCheck"]=k),w})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var m;const w=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return w?.error&&function ze(y,...p){Fe.logLevel<=J.in.WARN&&Fe.warn(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function mn(y){return(0,F.m9)(y)}class er{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Za(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class fo{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return At("not implemented")}_getIdTokenResponse(p){return At("not implemented")}_linkToIdToken(p,m){return At("not implemented")}_getReauthenticationResolver(p){return At("not implemented")}}function os(y,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:resetPassword",Me(y,p))})).apply(this,arguments)}function ha(y,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:update",Me(y,p))})).apply(this,arguments)}function lr(y,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithPassword",Me(y,p))})).apply(this,arguments)}function pi(y,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:sendOobCode",Me(y,p))})).apply(this,arguments)}function fa(){return(fa=(0,u.Z)(function*(y,p){return pi(y,p)})).apply(this,arguments)}function ss(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(y,p){return pi(y,p)})).apply(this,arguments)}function wr(y,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(y,p){return pi(y,p)})).apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(y,p){return pi(y,p)})).apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithEmailLink",Me(y,p))})).apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithEmailLink",Me(y,p))})).apply(this,arguments)}class Kl extends fo{constructor(p,m,w,S=null){super("password",w),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Kl(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Kl(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){var w;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const k=yield Je(p,S,"signInWithPassword");return lr(p,k)}return lr(p,S).catch(function(){var k=(0,u.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Je(p,S,"signInWithPassword");return lr(p,ee)}return Promise.reject(j)});return function(j){return k.apply(this,arguments)}}());case"emailLink":return function Ya(y,p){return pa.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return ha(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function mu(y,p){return Di.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Wi(y,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithIdp",Me(y,p))})).apply(this,arguments)}class Oo extends fo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Oo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=m,k=(0,ue._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const j=new Oo(w,S);return j.idToken=k.idToken||void 0,j.accessToken=k.accessToken||void 0,j.secret=k.secret,j.nonce=k.nonce,j.pendingToken=k.pendingToken||null,j}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Wi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function gu(){return(gu=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:sendVerificationCode",Me(y,p))})).apply(this,arguments)}function Nd(){return(Nd=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Me(y,p))})).apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(y,p){const m=yield vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Me(y,p));if(m.temporaryProof)throw $n(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Fd={USER_NOT_FOUND:"user-not-found"};function Ql(){return(Ql=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Me(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Fd)})).apply(this,arguments)}class ni extends fo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ni({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ni({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Sm(y,p){return Nd.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Tm(y,p){return Yl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function F_(y,p){return Ql.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:k}=p;return w||m||S||k?new ni({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:k}):null}}class ma{constructor(p){var m,w,S,k,j,ee;const Oe=(0,F.zd)((0,F.pd)(p)),We=null!==(m=Oe.apiKey)&&void 0!==m?m:null,ot=null!==(w=Oe.oobCode)&&void 0!==w?w:null,at=function Rf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Oe.mode)&&void 0!==S?S:null);le(We&&ot&&at,"argument-error"),this.apiKey=We,this.operation=at,this.code=ot,this.continueUrl=null!==(k=Oe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(j=Oe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ee=Oe.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const m=function Ld(y){const p=(0,F.zd)((0,F.pd)(y)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||m||p||y}(p);try{return new ma(m)}catch{return null}}}let _u=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Kl._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=ma.parseLink(w);return le(S,"argument-error"),Kl._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Po{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class po extends Po{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ts extends po{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return le("providerId"in m&&"signInMethod"in m,"argument-error"),Oo._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),Oo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ts.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ts.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:k,nonce:j,providerId:ee}=p;if(!w&&!S&&!m&&!k||!ee)return null;try{return new Ts(ee)._credential({idToken:m,accessToken:w,nonce:j,pendingToken:k})}catch{return null}}}let yu=(()=>{class y extends po{constructor(){super("facebook.com")}static credential(m){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Qa=(()=>{class y extends po{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Vd=(()=>{class y extends po{constructor(){super("github.com")}static credential(m){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class as extends fo{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Wi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:k}=m;return w&&S&&k&&w===S?new as(w,k):null}static _create(p,m){return new as(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xa extends Po{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Xa.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Xa.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=as.fromJSON(p);return le(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return as._create(w,m)}catch{return null}}}let Xl=(()=>{class y extends po{constructor(){super("twitter.com")}static credential(m,w){return Oo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ls(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signUp",Me(y,p))})).apply(this,arguments)}class $r{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,S=!1){return(0,u.Z)(function*(){const k=yield Xn._fromIdTokenResponse(p,w,S),j=Ja(w);return new $r({user:k,providerId:j,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=Ja(w);return new $r({user:p,providerId:S,_tokenResponse:w,operationType:m})})()}}function Ja(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ga(){return(ga=(0,u.Z)(function*(y){var p;const m=mn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new $r({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield ls(m,{returnSecureToken:!0}),S=yield $r._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class No extends F.ZR{constructor(p,m,w,S){var k;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,No.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,S){return new No(p,m,w,S)}}function Cr(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?No._fromErrorAndOperation(y,k,p,w):k})}function Bd(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Gr(){return Gr=(0,u.Z)(function*(y,p){const m=(0,F.m9)(y);yield Fo(!0,m,p);const{providerUserInfo:w}=yield function Xr(y,p){return ci.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Bd(w||[]);return m.providerData=m.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Gr.apply(this,arguments)}function cr(y,p){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(y,p,m=!1){const w=yield ct(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return $r._forOperation(y,"link",w)})).apply(this,arguments)}function Fo(y,p,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,u.Z)(function*(y,p,m){yield ei(p);const S=!1===y?"provider-already-linked":"no-such-provider";le(Bd(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function cs(y,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(y,p,m=!1){const{auth:w}=y,S="reauthenticate";try{const k=yield ct(y,Cr(w,S,p,y),m);le(k.idToken,w,"internal-error");const j=an(k.idToken);le(j,w,"internal-error");const{sub:ee}=j;return le(y.uid===ee,w,"user-mismatch"),$r._forOperation(y,S,k)}catch(k){throw"auth/user-not-found"===k?.code&&Ie(w,"user-mismatch"),k}})).apply(this,arguments)}function el(y,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(y,p,m=!1){const w="signIn",S=yield Cr(y,w,p),k=yield $r._fromIdTokenResponse(y,w,S);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function tl(y,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,u.Z)(function*(y,p){return el(mn(y),p)})).apply(this,arguments)}function jd(y,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(y,p){const m=(0,F.m9)(y);return yield Fo(!1,m,p.providerId),cr(m,p)})).apply(this,arguments)}function zd(y,p){return tc.apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(y,p){return cs((0,F.m9)(y),p)})).apply(this,arguments)}function $d(){return($d=(0,u.Z)(function*(y,p){return vt(y,"POST","/v1/accounts:signInWithCustomToken",Me(y,p))})).apply(this,arguments)}function jt(){return jt=(0,u.Z)(function*(y,p){const m=mn(y),w=yield function Am(y,p){return $d.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),S=yield $r._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S}),jt.apply(this,arguments)}class nl{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?rl._fromServerResponse(p,m):"totpInfo"in m?ur._fromServerResponse(p,m):Ie(p,"internal-error")}}class rl extends nl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new rl(m)}}class ur extends nl{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new ur(m)}}function As(y,p,m){var w;le((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),le(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(le(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(le(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ii(){return ii=(0,u.Z)(function*(y,p,m){var w;const S=mn(y),k={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const j=yield Je(S,k,"getOobCode",!0);m&&As(S,j,m),yield ss(S,j)}else m&&As(S,k,m),yield ss(S,k).catch(function(){var j=(0,u.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Oe=yield Je(S,k,"getOobCode",!0);m&&As(S,Oe,m),yield ss(S,Oe)}});return function(ee){return j.apply(this,arguments)}}())}),ii.apply(this,arguments)}function rc(){return(rc=(0,u.Z)(function*(y,p,m){yield os((0,F.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Lo(){return Lo=(0,u.Z)(function*(y,p){yield function qi(y,p){return fi.apply(this,arguments)}((0,F.m9)(y),{oobCode:p})}),Lo.apply(this,arguments)}function il(y,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(y,p){const m=(0,F.m9)(y),w=yield os(m,{oobCode:p}),S=w.requestType;switch(le(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,m,"internal-error");default:le(w.email,m,"internal-error")}let k=null;return w.mfaInfo&&(k=nl._fromServerResponse(mn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(y,p){const{data:m}=yield il((0,F.m9)(y),p);return m.email})).apply(this,arguments)}function Ti(){return Ti=(0,u.Z)(function*(y,p,m){var w;const S=mn(y),k={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const We=yield Je(S,k,"signUpPassword");j=ls(S,We)}else j=ls(S,k).catch(function(){var We=(0,u.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const at=yield Je(S,k,"signUpPassword");return ls(S,at)}return Promise.reject(ot)});return function(ot){return We.apply(this,arguments)}}());const ee=yield j.catch(We=>Promise.reject(We)),Oe=yield $r._fromIdTokenResponse(S,"signIn",ee);return yield S._updateCurrentUser(Oe.user),Oe}),Ti.apply(this,arguments)}function ic(){return ic=(0,u.Z)(function*(y,p,m){var w;const S=mn(y),k={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function j(ee,Oe){le(Oe.handleCodeInApp,S,"argument-error"),Oe&&As(S,ee,Oe)}if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield Je(S,k,"getOobCode",!0);j(ee,m),yield wr(S,ee)}else j(k,m),yield wr(S,k).catch(function(){var ee=(0,u.Z)(function*(Oe){if("auth/missing-recaptcha-token"!==Oe.code)return Promise.reject(Oe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const We=yield Je(S,k,"getOobCode",!0);j(We,m),yield wr(S,We)}});return function(Oe){return ee.apply(this,arguments)}}())}),ic.apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y),S=_u.credentialWithLink(p,m||Kt());return le(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),tl(w,S)})).apply(this,arguments)}function oc(){return(oc=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:createAuthUri",Me(y,p))})).apply(this,arguments)}function sc(){return sc=(0,u.Z)(function*(y,p){const w={identifier:p,continueUri:dt()?Kt():"http://localhost"},{signinMethods:S}=yield function wu(y,p){return oc.apply(this,arguments)}((0,F.m9)(y),w);return S||[]}),sc.apply(this,arguments)}function sl(){return sl=(0,u.Z)(function*(y,p){const m=(0,F.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&As(m.auth,S,p);const{email:k}=yield function pu(y,p){return fa.apply(this,arguments)}(m.auth,S);k!==y.email&&(yield y.reload())}),sl.apply(this,arguments)}function al(){return al=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&As(w.auth,k,m);const{email:j}=yield function mi(y,p){return gi.apply(this,arguments)}(w.auth,k);j!==y.email&&(yield y.reload())}),al.apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(y,p){return Se(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function cc(){return cc=(0,u.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,F.m9)(y),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},j=yield ct(w,function Zd(y,p){return lc.apply(this,arguments)}(w.auth,k));w.displayName=j.displayName||null,w.photoURL=j.photoUrl||null;const ee=w.providerData.find(({providerId:Oe})=>"password"===Oe);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(j)}),cc.apply(this,arguments)}function An(y,p,m){return ll.apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(y,p,m){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const j=yield ct(y,ha(w,k));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class us{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Nf extends us{constructor(p,m,w,S){super(p,m,w),this.username=S}}class Kd extends us{constructor(p,m){super(p,"facebook.com",m)}}class km extends Nf{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class uc extends us{constructor(p,m){super(p,"google.com",m)}}class Cu extends Nf{constructor(p,m,w){super(p,"twitter.com",m,w)}}function xu(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Pf(y){var p,m;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const j=null===(m=null===(p=an(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(j)return new us(k,"anonymous"!==j&&"custom"!==j?j:null)}if(!w)return null;switch(w){case"facebook.com":return new Kd(k,S);case"github.com":return new km(k,S);case"google.com":return new uc(k,S);case"twitter.com":return new Cu(k,S,y.screenName||null);case"custom":case"anonymous":return new us(k,null);default:return new us(k,w,S)}}(m)}class Rs{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Rs("enroll",p,m)}static _fromMfaPendingCredential(p){return new Rs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Rs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Rs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ks{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=mn(p),S=m.customData._serverResponse,k=(S.mfaInfo||[]).map(ee=>nl._fromServerResponse(w,ee));le(S.mfaPendingCredential,w,"internal-error");const j=Rs._fromMfaPendingCredential(S.mfaPendingCredential);return new ks(j,k,function(){var ee=(0,u.Z)(function*(Oe){const We=yield Oe._process(w,j);delete S.mfaInfo,delete S.mfaPendingCredential;const ot=Object.assign(Object.assign({},S),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const at=yield $r._fromIdTokenResponse(w,m.operationType,ot);return yield w._updateCurrentUser(at.user),at;case"reauthenticate":return le(m.user,w,"internal-error"),$r._forOperation(m.user,m.operationType,ot);default:Ie(w,"internal-error")}});return function(Oe){return ee.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}class Ns{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>nl._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ns(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Rs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,u.Z)(function*(){const S=p,k=yield w.getSession(),j=yield ct(w.user,S._process(w.user.auth,k,m));return yield w.user._updateTokensIfNecessary(j),w.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const k=yield ct(m.user,function fc(y,p){return Se(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:j})=>j!==w),yield m.user._updateTokensIfNecessary(k),yield m.user.reload()}catch(k){throw k}})()}}const ds=new WeakMap,Fs="__sak";class pc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Fs,"1"),this.storage.removeItem(Fs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ls=(()=>{class y extends pc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ul(){const y=(0,F.z$)();return ne(y)||pn(y)}()&&function qa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ho(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),k=this.localCache[w];S!==k&&m(w,k,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ee,Oe,We)=>{this.notifyListeners(ee,We)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(S);if(m.newValue!==ee)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const k=()=>{const ee=this.storage.getItem(S);!w&&this.localCache[S]===ee||this.notifyListeners(S,ee)},j=this.storage.getItem(S);!function Gi(){return(0,F.w1)()&&10===document.documentMode}()||j===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,k=this;return(0,u.Z)(function*(){yield S().call(k,m,w),k.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,u.Z)(function*(){const k=yield w().call(S,m);return S.localCache[m]=JSON.stringify(k),k})()}_remove(m){var w=()=>super._remove,S=this;return(0,u.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Uo=(()=>{class y extends pc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Ea=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(k=>k.isListeningto(m));if(w)return w;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,u.Z)(function*(){const S=m,{eventId:k,eventType:j,data:ee}=S.data,Oe=w.handlersMap[j];if(!Oe?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:j});const We=Array.from(Oe).map(function(){var at=(0,u.Z)(function*(Rn){return Rn(S.origin,ee)});return function(Rn){return at.apply(this,arguments)}}()),ot=yield function Su(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(We);S.ports[0].postMessage({status:"done",eventId:k,eventType:j,response:ot})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ca(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Jd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var S=this;return(0,u.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let j,ee;return new Promise((Oe,We)=>{const ot=Ca("",20);k.port1.start();const at=setTimeout(()=>{We(new Error("unsupported_event"))},w);ee={messageChannel:k,onMessage(Rn){const Zo=Rn;if(Zo.data.eventId===ot)switch(Zo.data.status){case"ack":clearTimeout(at),j=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Oe(Zo.data.response);break;default:clearTimeout(at),clearTimeout(j),We(new Error("invalid_response"))}}},S.handlers.add(ee),k.port1.addEventListener("message",ee.onMessage),S.target.postMessage({eventType:p,eventId:ot,data:m},[k.port2])}).finally(()=>{ee&&S.removeMessageHandler(ee)})})()}}function vn(){return window}function gc(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function _c(){return(_c=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vs="firebaseLocalStorageDb",Wn=1,Au="firebaseLocalStorage",dl="fbase_key";class hl{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ho(y,p){return y.transaction([Au],p?"readwrite":"readonly").objectStore(Au)}function vc(){const y=indexedDB.open(Vs,Wn);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Au,{keyPath:dl})}catch(S){m(S)}}),y.addEventListener("success",(0,u.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Au)?p(w):(w.close(),yield function Vf(){const y=indexedDB.deleteDatabase(Vs);return new hl(y).toPromise()}(),p(yield vc()))}))})}function Bs(y,p,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,u.Z)(function*(y,p,m){const w=Ho(y,!0).put({[dl]:p,value:m});return new hl(w).toPromise()})).apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(y,p){const m=Ho(y,!1).get(p),w=yield new hl(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function hs(y,p){const m=Ho(y,!0).delete(p);return new hl(m).toPromise()}const Hs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield vc()),m.db})()}_withRetries(m){var w=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const k=yield w._openDb();return yield m(k)}catch(k){if(S++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return gc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Ea._getInstance(function dr(){return gc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(S,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(S,k){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function Tu(){return _c.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jd(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);k&&null!==(w=k[0])&&void 0!==w&&w.fulfilled&&null!==(S=k[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function yc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield vc();return yield Bs(m,Fs,"1"),yield hs(m,Fs),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(k=>Bs(k,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,u.Z)(function*(){const S=yield w._withRetries(k=>function fl(y,p){return xa.apply(this,arguments)}(k,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(S=>hs(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const w=yield m._withRetries(j=>{const ee=Ho(j,!1).getAll();return new hl(ee).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:j,value:ee}of w)k.add(j),JSON.stringify(m.localCache[j])!==JSON.stringify(ee)&&(m.notifyListeners(j,ee),S.push(j));for(const j of Object.keys(m.localCache))m.localCache[j]&&!k.has(j)&&(m.notifyListeners(j,null),S.push(j));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),ml=1e12;class Ru{constructor(p){this.auth=p,this.counter=ml,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new ku(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||ml;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ml))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var w;return null===(w=m._widgets.get(p||ml))||void 0===w||w.execute(),""})()}}class ku{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;le(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function B_(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hf=Jn("rcb"),U_=new lo(3e4,6e4);class H_{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=vn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return le(function jf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&qt(vn().grecaptcha)?Promise.resolve(vn().grecaptcha):new Promise((w,S)=>{const k=vn().setTimeout(()=>{S(De(p,"network-request-failed"))},U_.get());vn()[Hf]=()=>{vn().clearTimeout(k),delete vn()[Hf];const ee=vn().grecaptcha;if(!ee||!qt(ee))return void S(De(p,"internal-error"));const Oe=ee.render;ee.render=(We,ot)=>{const at=Oe(We,ot);return this.counter++,at},this.hostLanguage=m,w(ee)},br(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Hf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),S(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=vn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hr{load(p){return(0,u.Z)(function*(){return new Ru(p)})()}clearedOneInstance(){}}const gl="recaptcha",bc={theme:"light",type:"image"};class Ou{constructor(p,m=Object.assign({},bc),w){this.parameters=m,this.type=gl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;le(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hr:new H_,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(k=>{const j=ee=>{ee&&(p.tokenChangeListeners.delete(j),k(ee))};p.tokenChangeListeners.add(j),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=vn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){le(dt()&&!gc(),p.auth,"internal-error"),yield function Zi(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ie(y){return Ve.apply(this,arguments)}(p.auth);le(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class go{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ni._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function $s(){return($s=(0,u.Z)(function*(y,p,m){const w=mn(y),S=yield _l(w,p,(0,F.m9)(m));return new go(S,k=>tl(w,k))})).apply(this,arguments)}function Ec(){return(Ec=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y);yield Fo(!1,w,"phone");const S=yield _l(w.auth,p,(0,F.m9)(m));return new go(S,k=>jd(w,k))})).apply(this,arguments)}function xc(){return(xc=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y),S=yield _l(w.auth,p,(0,F.m9)(m));return new go(S,k=>zd(w,k))})).apply(this,arguments)}function _l(y,p,m){return oi.apply(this,arguments)}function oi(){return oi=(0,u.Z)(function*(y,p,m){var w;const S=yield m.verify();try{let k;if(le("string"==typeof S,y,"argument-error"),le(m.type===gl,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const j=k.session;if("phoneNumber"in k)return le("enroll"===j.type,y,"internal-error"),(yield function wa(y,p){return Se(y,"POST","/v2/accounts/mfaEnrollment:start",Me(y,p))}(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{le("signin"===j.type,y,"internal-error");const ee=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return le(ee,y,"missing-multi-factor-info"),(yield function js(y,p){return Se(y,"POST","/v2/accounts/mfaSignIn:start",Me(y,p))}(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function Dm(y,p){return gu.apply(this,arguments)}(y,{phoneNumber:k.phoneNumber,recaptchaToken:S});return j}}finally{m._reset()}}),oi.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(y,p){yield cr((0,F.m9)(y),p)})).apply(this,arguments)}let tt=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=mn(m)}verifyPhoneNumber(m,w){return _l(this.auth,m,(0,F.m9)(w))}static credential(m,w){return ni._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?ni._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Wt(y,p){return p?In(p):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Mn extends fo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Wi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Wi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Wi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function nh(y){return el(y.auth,new Mn(y),y.bypassAuthState)}function yl(y){const{auth:p,user:m}=y;return le(m,p,"internal-error"),cs(m,new Mn(y),y.bypassAuthState)}function Un(y){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(y){const{auth:p,user:m}=y;return le(m,p,"internal-error"),cr(m,new Mn(y),y.bypassAuthState)})).apply(this,arguments)}class Pu{constructor(p,m,w,S,k=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:k,tenantId:j,error:ee,type:Oe}=p;if(ee)return void m.reject(ee);const We={auth:m.auth,requestUri:w,sessionId:S,tenantId:j||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Oe)(We))}catch(ot){m.reject(ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return nh;case"linkViaPopup":case"linkViaRedirect":return Un;case"reauthViaPopup":case"reauthViaRedirect":return yl;default:Ie(this.auth,"internal-error")}}resolve(p){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mi=new lo(2e3,1e4);function Da(){return(Da=(0,u.Z)(function*(y,p,m){const w=mn(y);Be(y,p,Po);const S=Wt(w,m);return new Dc(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y);Be(w.auth,p,Po);const S=Wt(w.auth,m);return new Dc(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Nu(){return(Nu=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y);Be(w.auth,p,Po);const S=Wt(w.auth,m);return new Dc(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Dc=(()=>{class y extends Pu{constructor(m,w,S,k,j){super(m,w,k,j),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const w=yield m.execute();return le(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,u.Z)(function*(){it(1===m.filter.length,"Popup operations only handle one event");const w=Ca();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(De(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Mi.get())};m()}}return y.currentPopupAction=null,y})();const jo="pendingRedirect",ps=new Map;class Zn extends Pu{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let w=ps.get(m.auth._key());if(!w){try{const k=(yield function Fu(y,p){return Sc.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(k)}catch(S){w=()=>Promise.reject(S)}ps.set(m.auth._key(),w)}return m.bypassAuthState||ps.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Sc(){return(Sc=(0,u.Z)(function*(y,p){const m=zo(p),w=bl(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function Gs(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,u.Z)(function*(y,p){return bl(y)._set(zo(p),"true")})).apply(this,arguments)}function rh(y,p){ps.set(y._key(),p)}function bl(y){return In(y._redirectPersistence)}function zo(y){return z(jo,y.config.apiKey,y.name)}function ih(y,p,m){return function $f(y,p,m){return Ri.apply(this,arguments)}(y,p,m)}function Ri(){return(Ri=(0,u.Z)(function*(y,p,m){const w=mn(y);Be(y,p,Po),yield w._initializationPromise;const S=Wt(w,m);return yield Gs(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Sa(y,p,m){return function ki(y,p,m){return _o.apply(this,arguments)}(y,p,m)}function _o(){return(_o=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y);Be(w.auth,p,Po),yield w.auth._initializationPromise;const S=Wt(w.auth,m);yield Gs(S,w.auth);const k=yield jn(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function fr(y,p,m){return function Lu(y,p,m){return Vu.apply(this,arguments)}(y,p,m)}function Vu(){return(Vu=(0,u.Z)(function*(y,p,m){const w=(0,F.m9)(y);Be(w.auth,p,Po),yield w.auth._initializationPromise;const S=Wt(w.auth,m);yield Fo(!1,w,p.providerId),yield Gs(S,w.auth);const k=yield jn(w);return S._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(y,p){return yield mn(y)._initializationPromise,$o(y,p,!1)})).apply(this,arguments)}function $o(y,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(y,p,m=!1){const w=mn(y),S=Wt(w,p),j=yield new Zn(w,S,m).execute();return j&&!m&&(delete j.user._redirectEventId,yield w._persistUserIfCurrent(j.user),yield w._setRedirectUser(null,p)),j})).apply(this,arguments)}function jn(y){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(y){const p=Ca(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ta{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Kn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yo(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!yo(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(De(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(p))}saveEventToCache(p){this.cachedEventUids.add(Ki(p)),this.lastProcessedEventTime=Date.now()}}function Ki(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function yo({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function ms(y){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,u.Z)(function*(y,p={}){return Se(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ac=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mc=/^https?/;function Go(){return(Go=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ms(y);for(const m of p)try{if(Uu(m))return}catch{}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Uu(y){const p=Kt(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&j.hostname===w}if(!Mc.test(m))return!1;if(Ac.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const wl=new lo(3e4,6e4);function It(){const y=vn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let kc=null;const oh=new lo(5e3,15e3),sh="__/auth/iframe",Qi="emulator/auth/iframe",ah={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ch(y){const p=y.config;le(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?he(p,Qi):`https://${y.config.authDomain}/${sh}`,w={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},S=lh.get(y.config.apiHost);S&&(w.eid=S);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${m}?${(0,F.xO)(w).slice(1)}`}function I(){return I=(0,u.Z)(function*(y){const p=yield function Pi(y){return kc=kc||function Yi(y){return new Promise((p,m)=>{var w,S,k;function j(){It(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{It(),m(De(y,"network-request-failed"))},timeout:wl.get()})}if(null!==(S=null===(w=vn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(k=vn().gapi)||void 0===k||!k.load){const ee=Jn("iframefcb");return vn()[ee]=()=>{gapi.load?j():m(De(y,"network-request-failed"))},br(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Oe=>m(Oe))}j()}}).catch(p=>{throw kc=null,p})}(y),kc}(y),m=vn().gapi;return le(m,y,"internal-error"),p.open({where:document.body,url:ch(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ah,dontclear:!0},w=>new Promise(function(){var S=(0,u.Z)(function*(k,j){yield w.restyle({setHideOnLeave:!1});const ee=De(y,"network-request-failed"),Oe=vn().setTimeout(()=>{j(ee)},oh.get());function We(){vn().clearTimeout(Oe),k(w)}w.ping(We).then(We,()=>{j(ee)})});return function(k,j){return S.apply(this,arguments)}}()))}),I.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,q=600,X="_blank",se="http://localhost";class Ye{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const kt="__/auth/handler",Ot="emulator/auth/handler",qr=encodeURIComponent("fac");function bn(y,p,m,w,S,k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(y,p,m,w,S,k){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ce.SDK_VERSION,eventId:S};if(p instanceof Po){p.setDefaultLanguage(y.languageCode),j.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ot,at]of Object.entries(k||{}))j[ot]=at}if(p instanceof po){const ot=p.getScopes().filter(at=>""!==at);ot.length>0&&(j.scopes=ot.join(","))}y.tenantId&&(j.tid=y.tenantId);const ee=j;for(const ot of Object.keys(ee))void 0===ee[ot]&&delete ee[ot];const Oe=yield y._getAppCheckToken(),We=Oe?`#${qr}=${encodeURIComponent(Oe)}`:"";return`${function gs({config:y}){return y.emulator?he(y,Ot):`https://${y.authDomain}/${kt}`}(y)}?${(0,F.xO)(ee).slice(1)}${We}`})).apply(this,arguments)}const Zs="webStorageSupport",Xi=class Ir{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uo,this._completeRedirectFn=$o,this._overrideRedirectResult=rh}_openPopup(p,m,w,S){var k=this;return(0,u.Z)(function*(){var j;it(null===(j=k.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ee=yield bn(p,m,w,Kt(),S);return function qe(y,p,m,w=N,S=q){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),j=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Oe=Object.assign(Object.assign({},M),{width:w.toString(),height:S.toString(),top:k,left:j}),We=(0,F.z$)().toLowerCase();m&&(ee=Ue(We)?X:m),we(We)&&(p=p||se,Oe.scrollbars="yes");const ot=Object.entries(Oe).reduce((Rn,[Zo,ed])=>`${Rn}${Zo}=${ed},`,"");if(function zr(y=(0,F.z$)()){var p;return pn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(We)&&"_self"!==ee)return function ft(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ee),new Ye(null);const at=window.open(p||"",ee,ot);le(at,y,"popup-blocked");try{at.focus()}catch{}return new Ye(at)}(p,ee,Ca())})()}_openRedirect(p,m,w,S){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),function eh(y){vn().location.href=y}(yield bn(p,m,w,Kt(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:k}=this.eventManagers[m];return S?Promise.resolve(S):(it(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const w=yield function E(y){return I.apply(this,arguments)}(p),S=new Ta(p);return w.register("authEvent",k=>(le(k?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Zs,{type:Zs},S=>{var k;const j=null===(k=S?.[0])||void 0===k?void 0:k[Zs];void 0!==j&&m(!!j),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Rc(y){return Go.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return ho()||ne()||pn()}};class _s{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return At("unexpected MultiFactorSessionType")}}}class Hu extends _s{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Hu(p)}_finalizeEnroll(p,m,w){return function Du(y,p){return Se(y,"POST","/v2/accounts/mfaEnrollment:finalize",Me(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Uf(y,p){return Se(y,"POST","/v2/accounts/mfaSignIn:finalize",Me(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ju=(()=>{class y{constructor(){}static assertion(m){return Hu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Wf="@firebase/auth";class Oc{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cl(){return window}(0,F.Pz)("authIdTokenMaxAge"),function Nm(y){(0,ce._registerComponent)(new Ee.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),k=p.getProvider("app-check-internal"),{apiKey:j,authDomain:ee}=w.options;le(j&&!j.includes(":"),"invalid-api-key",{appName:w.name});const Oe={apiKey:j,authDomain:ee,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(y)},We=new Ii(w,S,k,Oe);return function Bn(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(In);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(We,m),We},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ee.wA("auth-internal",p=>{const m=mn(p.getProvider("auth").getImmediate());return new Oc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Wf,"0.23.2",function Zf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(Wf,"0.23.2","esm2017")}("Browser");const z_=2e3;function $u(){return $u=(0,u.Z)(function*(y,p,m){var w;const{BuildInfo:S}=Cl();it(p.sessionId,"AuthEvent did not contain a session ID");const k=yield function Ma(y){return Gu.apply(this,arguments)}(p.sessionId),j={};return pn()?j.ibi=S.packageName:rn()?j.apn=S.packageName:Ie(y,"operation-not-supported-in-this-environment"),S.displayName&&(j.appDisplayName=S.displayName),j.sessionId=k,bn(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,j)}),$u.apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(y){const{BuildInfo:p}=Cl(),m={};pn()?m.iosBundleId=p.packageName:rn()?m.androidPackageName=p.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield ms(y,m)})).apply(this,arguments)}function Pc(){return(Pc=(0,u.Z)(function*(y,p,m){const{cordova:w}=Cl();let S=()=>{};try{yield new Promise((k,j)=>{let ee=null;function Oe(){var at;k();const Rn=null===(at=w.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Rn&&Rn(),"function"==typeof m?.close&&m.close()}function We(){ee||(ee=window.setTimeout(()=>{j(De(y,"redirect-cancelled-by-user"))},z_))}function ot(){"visible"===document?.visibilityState&&We()}p.addPassiveListener(Oe),document.addEventListener("resume",We,!1),rn()&&document.addEventListener("visibilitychange",ot,!1),S=()=>{p.removePassiveListener(Oe),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",ot,!1),ee&&window.clearTimeout(ee)}})}finally{S()}})).apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(y){const p=function Vm(y){if(it(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const qu=20;class hh extends Ta{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function fh(y){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,u.Z)(function*(y){const p=yield ph()._get(Dl(y));return p&&(yield ph()._remove(Dl(y))),p})).apply(this,arguments)}function Yf(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<qu;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function ph(){return In(Ls)}function Dl(y){return z("authEvent",y.config.apiKey,y.name)}function qo(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,F.zd)(m.join("?"))}const Ku=class Zu{constructor(){this._redirectPersistence=Uo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$o,this._overrideRedirectResult=rh}_initialize(p){var m=this;return(0,u.Z)(function*(){const w=p._key();let S=m.eventManagers.get(w);return S||(S=new hh(p),m.eventManagers.set(w,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,S){var k=this;return(0,u.Z)(function*(){!function G_(y){var p,m,w,S,k,j,ee,Oe,We,ot;const at=Cl();le("function"==typeof(null===(p=at?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(m=at?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(k=null===(S=null===(w=at?.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Oe=null===(ee=null===(j=at?.cordova)||void 0===j?void 0:j.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Oe?void 0:Oe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(ot=null===(We=at?.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===ot?void 0:ot.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const j=yield k._initialize(p);yield j.initialized(),j.resetRedirect(),function Tc(){ps.clear()}(),yield k._originValidation(p);const ee=function Qs(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Yf(),postBody:null,tenantId:y.tenantId,error:De(y,"no-auth-event")}}(p,w,S);yield function Bm(y,p){return ph()._set(Dl(y),p)}(p,ee);const Oe=yield function Lm(y,p,m){return $u.apply(this,arguments)}(p,ee,m),We=yield function $_(y){const{cordova:p}=Cl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function Qt(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Oe);return function xl(y,p,m){return Pc.apply(this,arguments)}(p,j,We)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function dh(y){return Aa.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:S,BuildInfo:k}=Cl(),j=setTimeout((0,u.Z)(function*(){yield fh(p),m.onEvent(Xf())}),500),ee=function(){var ot=(0,u.Z)(function*(at){clearTimeout(j);const Rn=yield fh(p);let Zo=null;Rn&&at?.url&&(Zo=function Il(y,p){var m,w;const S=function gh(y){const p=qo(y),m=p.link?decodeURIComponent(p.link):void 0,w=qo(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return qo(S).link||S||w||m||y}(p);if(S.includes("/__/auth/callback")){const k=qo(S),j=k.firebaseError?function mh(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,ee=null===(w=null===(m=j?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Oe=ee?De(ee):null;return Oe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Rn,at.url)),m.onEvent(Zo||Xf())});return function(Rn){return ot.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Oe=S,We=`${k.packageName.toLowerCase()}://`;Cl().handleOpenURL=function(){var ot=(0,u.Z)(function*(at){if(at.toLowerCase().startsWith(We)&&ee({url:at}),"function"==typeof Oe)try{Oe(at)}catch(Rn){console.error(Rn)}});return function(at){return ot.apply(this,arguments)}}()}};function Xf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}const ep=1e3;function vo(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ra(y=(0,F.z$)()){return!("file:"!==vo()&&"ionic:"!==vo()&&"capacitor:"!==vo()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Z_(){try{const y=self.localStorage,p=Ca();if(y)return y.setItem(p,"1"),y.removeItem(p),!function W_(y=(0,F.z$)()){return function Nc(){return(0,F.w1)()&&11===document?.documentMode}()||function q_(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch{return tp()&&(0,F.hl)()}return!1}function tp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ju(){return(function Qu(){return"http:"===vo()||"https:"===vo()}()||(0,F.ru)()||Ra())&&!function Xu(){return(0,F.b$)()||(0,F.UG)()}()&&Z_()&&!tp()}function Um(){return Ra()&&typeof document<"u"}function Fc(){return(Fc=(0,u.Z)(function*(){return!!Um()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},ep);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ni={LOCAL:"local",NONE:"none",SESSION:"session"},Sl=le,rp="persistence";function ip(y){return op.apply(this,arguments)}function op(){return(op=(0,u.Z)(function*(y){yield y._initializationPromise;const p=sp(),m=z(rp,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function sp(){var y;try{return(null===(y=function np(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ap=le;class Nr{constructor(){this.browserResolver=In(Xi),this.cordovaResolver=In(Ku),this.underlyingResolver=null,this._redirectPersistence=Uo,this._completeRedirectFn=$o,this._overrideRedirectResult=rh}_initialize(p){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,w,S)})()}_openRedirect(p,m,w,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,w,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Um()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ap(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Hm(){return Fc.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function yi(y){return y.unwrap()}function jm(y){return $m(y)}function $m(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return tt.credentialFromResult(y);const m=p.providerId;if(!m||m===ye.PASSWORD)return null;let w;switch(m){case ye.GOOGLE:w=Qa;break;case ye.FACEBOOK:w=yu;break;case ye.GITHUB:w=Vd;break;case ye.TWITTER:w=Xl;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:j,pendingToken:ee,nonce:Oe}=p;return k||j||S||ee?ee?m.startsWith("saml.")?as._create(m,ee):Oo._fromParams({providerId:m,signInMethod:m,pendingToken:ee,idToken:S,accessToken:k}):new Ts(m).credential({idToken:S,accessToken:k,rawNonce:Oe}):null}return y instanceof F.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Dr(y,p){return p.catch(m=>{throw m instanceof F.ZR&&function zm(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new vh(y,function hc(y,p){var m;const w=(0,F.m9)(y),S=p;return le(p.customData.operationType,w,"argument-error"),le(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ks._fromError(w,S)}(y,p));else if(w){const S=$m(p),k=p;S&&(k.credential=S,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:jm(m),additionalUserInfo:xu(m),user:vs.getOrCreate(S)}})}function _h(y,p){return yh.apply(this,arguments)}function yh(){return(yh=(0,u.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Dr(y,m.confirm(w))}})).apply(this,arguments)}class vh{constructor(p,m){this.resolver=m,this.auth=function Lc(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Dr(yi(this.auth),this.resolver.resolveSignIn(p))}}class vs{constructor(p){this._delegate=p,this.multiFactor=function Qd(y){const p=(0,F.m9)(y);return ds.has(p)||ds.set(p,Ns._fromUser(p)),ds.get(p)}(p)}static getOrCreate(p){return vs.USER_MAP.has(p)||vs.USER_MAP.set(p,new vs(p)),vs.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,u.Z)(function*(){return Dr(m.auth,jd(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,u.Z)(function*(){return _h(w.auth,function wc(y,p,m){return Ec.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,u.Z)(function*(){return Dr(m.auth,function ht(y,p,m){return Nu.apply(this,arguments)}(m._delegate,p,Nr))})()}linkWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield ip(mn(m.auth)),fr(m._delegate,p,Nr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,u.Z)(function*(){return Dr(m.auth,zd(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return _h(this.auth,function Cc(y,p,m){return xc.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Dr(this.auth,function vl(y,p,m){return fs.apply(this,arguments)}(this._delegate,p,Nr))}reauthenticateWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield ip(mn(m.auth)),Sa(m._delegate,p,Nr)})()}sendEmailVerification(p){return function ac(y,p){return sl.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,u.Z)(function*(){return yield function Ud(y,p){return Gr.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Pr(y,p){return An((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Vo(y,p){return An((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function sn(y,p){return _i.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Of(y,p){return cc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Eu(y,p,m){return al.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vs.USER_MAP=new WeakMap;const Al=le;let lp=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;Al(S,"invalid-api-key",{appName:m.name}),Al(S,"invalid-api-key",{appName:m.name});const k=typeof window<"u"?Nr:void 0;this._delegate=w.initialize({options:{persistence:Wo(S,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Wa(y,p,m){const w=mn(y);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!m?.disableWarnings,k=Or(p),{host:j,port:ee}=function Gt(y){const p=Or(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const k=S[1];return{host:k,port:Za(w.substr(k.length+1))}}{const[k,j]=w.split(":");return{host:k,port:Za(j)}}}(p);w.config.emulator={url:`${k}//${j}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:j,port:ee,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ds(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Mm(y,p){return Lo.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return il(this._delegate,m)}confirmPasswordReset(m,w){return function Gd(y,p,m){return rc.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var S=this;return(0,u.Z)(function*(){return Dr(S._delegate,function Ms(y,p,m){return Ti.apply(this,arguments)}(S._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Wd(y,p){return sc.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Rm(y,p){return"EMAIL_SIGNIN"===ma.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){Al(Ju(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Hn(y,p){return Oi.apply(this,arguments)}(m._delegate,Nr);return w?Dr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Jf(y,p){mn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,S){const{next:k,error:j,complete:ee}=Ml(m,w,S);return this._delegate.onAuthStateChanged(k,j,ee)}onIdTokenChanged(m,w,S){const{next:k,error:j,complete:ee}=Ml(m,w,S);return this._delegate.onIdTokenChanged(k,j,ee)}sendSignInLinkToEmail(m,w){return function ol(y,p,m){return ic.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function nc(y,p,m){return ii.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,u.Z)(function*(){let S;switch(function Tl(y,p){Sl(Object.values(Ni).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?Sl(p!==Ni.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?Sl(p===Ni.NONE,y,"unsupported-persistence-type"):tp()?Sl(p===Ni.NONE||p===Ni.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):Sl(p===Ni.NONE||Z_(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Ni.SESSION:S=Uo;break;case Ni.LOCAL:S=(yield In(Hs)._isAvailable())?Hs:Ls;break;case Ni.NONE:S=ti;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Dr(this._delegate,function Er(y){return ga.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Dr(this._delegate,tl(this._delegate,m))}signInWithCustomToken(m){return Dr(this._delegate,function _e(y,p){return jt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Dr(this._delegate,function qd(y,p,m){return tl((0,F.m9)(y),_u.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Dr(this._delegate,function nr(y,p,m){return ya.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return _h(this._delegate,function zf(y,p,m){return $s.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,u.Z)(function*(){return Al(Ju(),w._delegate,"operation-not-supported-in-this-environment"),Dr(w._delegate,function Ia(y,p,m){return Da.apply(this,arguments)}(w._delegate,m,Nr))})()}signInWithRedirect(m){var w=this;return(0,u.Z)(function*(){return Al(Ju(),w._delegate,"operation-not-supported-in-this-environment"),yield ip(w._delegate),ih(w._delegate,m,Nr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Si(y,p){return mo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ni,y})();function Ml(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const S=w;return{next:j=>S(j&&vs.getOrCreate(j)),error:p,complete:m}}function Wo(y,p){const m=function K_(y,p){const m=sp();if(!m)return[];const w=z(rp,y,p);switch(m.getItem(w)){case Ni.NONE:return[ti];case Ni.LOCAL:return[Hs,Uo];case Ni.SESSION:return[Uo];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(Hs)&&m.push(Hs),typeof window<"u")for(const w of[Ls,Uo])m.includes(w)||m.push(w);return m.includes(ti)||m.push(ti),m}class Rl{constructor(){this.providerId="phone",this._delegate=new tt(yi(te.Z.auth()))}static credential(p,m){return tt.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Rl.PHONE_SIGN_IN_METHOD=tt.PHONE_SIGN_IN_METHOD,Rl.PROVIDER_ID=tt.PROVIDER_ID;const Vc=le;class Gm{constructor(p,m,w=te.Z.app()){var S;Vc(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ou(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wm(y){y.INTERNAL.registerComponent(new Ee.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new lp(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y_EMAIL_SIGNIN,PASSWORD_RESET:Y_PASSWORD_RESET,RECOVER_EMAIL:Y_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y_VERIFY_EMAIL}},EmailAuthProvider:_u,FacebookAuthProvider:yu,GithubAuthProvider:Vd,GoogleAuthProvider:Qa,OAuthProvider:Ts,SAMLAuthProvider:Xa,PhoneAuthProvider:Rl,PhoneMultiFactorGenerator:ju,RecaptchaVerifier:Gm,TwitterAuthProvider:Xl,Auth:lp,AuthCredential:fo,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(te.Z)},5861:(Et,Te,L)=>{function u(F,ce,ue,J,Ee,xe,ye){try{var G=F[xe](ye),$=G.value}catch(Y){return void ue(Y)}G.done?ce($):Promise.resolve($).then(J,Ee)}function te(F){return function(){var ce=this,ue=arguments;return new Promise(function(J,Ee){var xe=F.apply(ce,ue);function ye($){u(xe,J,Ee,ye,G,"next",$)}function G($){u(xe,J,Ee,ye,G,"throw",$)}ye(void 0)})}}L.d(Te,{Z:()=>te})},7582:(Et,Te,L)=>{function ce(he,pe){var be={};for(var de in he)Object.prototype.hasOwnProperty.call(he,de)&&pe.indexOf(de)<0&&(be[de]=he[de]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(de=Object.getOwnPropertySymbols(he);Me<de.length;Me++)pe.indexOf(de[Me])<0&&Object.prototype.propertyIsEnumerable.call(he,de[Me])&&(be[de[Me]]=he[de[Me]])}return be}function Y(he,pe,be,de){return new(be||(be=Promise))(function(Se,mt){function gt(Jt){try{vt(de.next(Jt))}catch(Sn){mt(Sn)}}function xn(Jt){try{vt(de.throw(Jt))}catch(Sn){mt(Sn)}}function vt(Jt){Jt.done?Se(Jt.value):function Me(Se){return Se instanceof be?Se:new be(function(mt){mt(Se)})}(Jt.value).then(gt,xn)}vt((de=de.apply(he,pe||[])).next())})}function Le(he){return this instanceof Le?(this.v=he,this):new Le(he)}function Ie(he,pe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,de=be.apply(he,pe||[]),Se=[];return Me={},mt("next"),mt("throw"),mt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function mt(En){de[En]&&(Me[En]=function($n){return new Promise(function(yr,Ln){Se.push([En,$n,yr,Ln])>1||gt(En,$n)})})}function gt(En,$n){try{!function xn(En){En.value instanceof Le?Promise.resolve(En.value.v).then(vt,Jt):Sn(Se[0][2],En)}(de[En]($n))}catch(yr){Sn(Se[0][3],yr)}}function vt(En){gt("next",En)}function Jt(En){gt("throw",En)}function Sn(En,$n){En($n),Se.shift(),Se.length&&gt(Se[0][0],Se[0][1])}}function Ke(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,pe=he[Symbol.asyncIterator];return pe?pe.call(he):(he=function ut(he){var pe="function"==typeof Symbol&&Symbol.iterator,be=pe&&he[pe],de=0;if(be)return be.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&de>=he.length&&(he=void 0),{value:he&&he[de++],done:!he}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),be={},de("next"),de("throw"),de("return"),be[Symbol.asyncIterator]=function(){return this},be);function de(Se){be[Se]=he[Se]&&function(mt){return new Promise(function(gt,xn){!function Me(Se,mt,gt,xn){Promise.resolve(xn).then(function(vt){Se({value:vt,done:gt})},mt)}(gt,xn,(mt=he[Se](mt)).done,mt.value)})}}}L.d(Te,{FC:()=>Ie,KL:()=>Ke,_T:()=>ce,mG:()=>Y,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},Et=>{Et(Et.s=8870)}]);